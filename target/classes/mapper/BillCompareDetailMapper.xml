<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bs.payment.modules.trade.dao.BillCompareDetailMapper">

	<insert id="batchSave" parameterType="BillCompareDetail" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO pay_center3_bill_compare_detail (`batch_id`, `pay_type`, `operate_type`, `order_no`, `refund_no`, `bill_amount`, `request_amount`, `trade_time`, `compare_status`, `compare_desc`, `create_time`)
		VALUES 
		<foreach collection="list" item="item" index="index" separator=",">
			(#{batchId}, #{item.payType}, #{item.operateType}, #{item.orderNo}, #{item.refundNo}, #{item.billAmount}, #{item.requestAmount}, #{item.tradeTime}, #{item.compareStatus}, #{item.compareDesc}, #{item.createTime})
		</foreach>
	</insert>
	
	<select id="findByBatchId" resultMap="billCompareDetail" >
		select `id`, `batch_id`, `pay_type`, `operate_type`, `order_no`, `refund_no`, `bill_amount`, `request_amount`, `trade_time`, `compare_status`, `compare_desc`, `create_time`
		from pay_center3_bill_compare_detail 
		where batch_id = #{batchId} 
		order by trade_time asc
	</select>
	
	<resultMap type="BillCompareDetail" id="billCompareDetail">
		<id column="id" property="id" />
		<result column="batch_id" property="batchId" />
		<result column="pay_type" property="payType" />
		<result column="operate_type" property="operateType" />
		<result column="order_no" property="orderNo" />
		<result column="refund_no" property="refundNo" />
		<result column="amount" property="amount" />
		<result column="trade_time" property="tradeTime" />
		<result column="compare_status" property="compareStatus" />
		<result column="compare_desc" property="compareDesc" />
		<result column="create_time" property="createTime" />
	</resultMap>
</mapper>