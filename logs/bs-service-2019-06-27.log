2019-06-27 14:47:14,208  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Starting BillDownloadTimerTest on lishihaideMac-mini.local with PID 9897 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-06-27 14:47:14,217  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : The following profiles are active: szdev
2019-06-27 14:47:16,727  INFO 9897 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$b28dbb8f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-27 14:47:17,100  INFO 9897 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$d49f4231] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-27 14:47:17,141  INFO 9897 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$dedbaa0c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-27 14:47:17,269  INFO 9897 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-06-27 14:47:17,528  INFO 9897 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-06-27 14:47:17,553  INFO 9897 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-06-27 14:47:17,576  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-06-27 14:47:17,580  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-06-27 14:47:17,581  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-06-27 14:47:17,582  INFO 9897 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-06-27 14:47:17,582  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1367026602.p12]
2019-06-27 14:47:17,583  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-06-27 14:47:17,584  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxf712db1e1042a294, mchid=1367026602, certPath=classpath:cert/wx/apiclient_cert-1367026602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-06-27 14:47:17,587  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-06-27 14:47:17,588  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-06-27 14:47:17,588  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-06-27 14:47:17,590  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-06-27 14:47:17,592  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-06-27 14:47:17,593  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-06-27 14:47:17,594  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-06-27 14:47:17,595  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-06-27 14:47:17,597  INFO 9897 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-06-27 14:47:17,902  INFO 9897 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-06-27 14:47:19,198  INFO 9897 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-27 14:47:20,176  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$b1efd739
2019-06-27 14:47:20,194  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$cd55a4f4
2019-06-27 14:47:20,346  INFO 9897 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-06-27 14:47:20,347  INFO 9897 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-06-27 14:47:22,007  INFO 9897 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-06-27 14:47:23,074  INFO 9897 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-06-27 14:47:23,741  INFO 9897 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-06-27 14:47:24,606  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Started BillDownloadTimerTest in 11.442 seconds (JVM running for 12.895)
2019-06-27 14:47:25,283  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : task billDownload start...
2019-06-27 14:47:25,498 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:25,556 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190625(String)
2019-06-27 14:47:25,607 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 14:47:25,619  WARN 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-06-25T14:47:25.286] parse exception: 账单[20190625]已解析
2019-06-27 14:47:25,647 ERROR 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190625]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$2632176c.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-06-27 14:47:25,653 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:25,654 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190625(String)
2019-06-27 14:47:25,660 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 14:47:25,667  WARN 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-06-25T14:47:25.286] parse exception: 账单[20190625]已解析
2019-06-27 14:47:25,668 ERROR 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190625]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$2632176c.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-06-27 14:47:25,671 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:25,672 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190626(String)
2019-06-27 14:47:25,675 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 14:47:25,688  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Wed Jun 26 14:47:25 CST 2019)
2019-06-27 14:47:25,689  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190626: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Wed Jun 26 14:47:25 CST 2019)
2019-06-27 14:47:25,775  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190626 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-06-26","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-06-27 14:47:26,153  INFO 9897 --- [           main] sdk.biz.err                              : Summary^_^10000^_^null^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=RvB9oEbzMqUvlrJvIhYMVlqWCkZUqVeXrVJkCRygooZ49aaU9UHZNODvTVB0N4mjtJiL5JoSGVnX29vNXOD0Oy8lLomW9G2acPQVM8X0LlzpuBJzgo/pHCaRKzTX1RQmKJMiWk0EyCF/QVRpqxqabuXRbz+qGQupXOPTQglOwNM=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-06-27 14:47:25^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-06-26","bill_type":"trade"}^_^33ms,325ms,19ms
2019-06-27 14:47:26,156  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190626 response: {"code":"10000","msg":"Success","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"10000\",\"msg\":\"Success\",\"bill_download_url\":\"http:\\/\\/dwbillcenter.alipay.com\\/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190626&downloadFileName=20882218614866000156_20190626.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190626.csv.zip&timestamp=1561618046&token=856aec33053f3b3d1b511a44a92114db\"},\"sign\":\"BnkhMkj3gsJrfDmnUk/jT/kvNS+nd/Q+5YHp18CUNMmfQeuqv1DUoRQyd4AjrlwgOJkmbMfQhj+hvrsfa6lQdsveaeKPAYMUHJ71Ej+0gyBvSNDc/TZaxnIFocNPppGASYJ+UryGwZ4BE8+FkQgbqFyaKYWf1xvg/kBzmUUmKF4=\"}","params":{"biz_content":"{\"bill_date\":\"2019-06-26\",\"bill_type\":\"trade\"}"},"bill_download_url":"http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190626&downloadFileName=20882218614866000156_20190626.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190626.csv.zip&timestamp=1561618046&token=856aec33053f3b3d1b511a44a92114db","success":true,"error_code":"10000"}
2019-06-27 14:47:26,157  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : alipay 503-Wed Jun 26 14:47:25 CST 2019 download-url: http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190626&downloadFileName=20882218614866000156_20190626.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190626.csv.zip&timestamp=1561618046&token=856aec33053f3b3d1b511a44a92114db
2019-06-27 14:47:26,535  WARN 9897 --- [           main] o.a.h.c.protocol.ResponseProcessCookies  : Cookie rejected [zone="GZ00C", version:1, domain:.${session_domain}, path:/, expiry:null] Domain attribute ".${session_domain}" violates RFC 2109: domain must contain an embedded dot
2019-06-27 14:47:26,537  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file write to [alipay_503_2019-06-26.zip]
2019-06-27 14:47:26,542  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file [alipay_503_2019-06-26.zip] write success
2019-06-27 14:47:26,634 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:26,635 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190626(String)
2019-06-27 14:47:26,639 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-06-27 14:47:26,641 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-06-27 14:47:26,660 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 503(String), alipay(String), 20190626(String), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":8,"退款订单总笔数":1,"订单金额（元）":3361.90,"商家实收（元）":3361.90,"服务费（元）":-21.60,"实收净额（元）":3340.30}(String), null
2019-06-27 14:47:26,666 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-06-27 14:47:26,670 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:26,671 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190626(String)
2019-06-27 14:47:26,675 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 14:47:26,676 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:26,678 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), alipay(String), 20190626(String), null, null
2019-06-27 14:47:26,683 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-06-27 14:47:26,736  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-06-26T14:47:25.286] parse successful
2019-06-27 14:47:26,738 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:26,739 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 14:47:26,760 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 14:47:26,761 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:26,762 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 14:47:26,766 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 14:47:26,770 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-06-27 14:47:26,771 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), alipay20190626(String)
2019-06-27 14:47:26,776 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-06-27 14:47:26,777 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:26,777 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190626(String)
2019-06-27 14:47:26,782 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 14:47:26,783 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-06-27 14:47:26,785 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), alipay20190626(String), alipay(String), 20190626(String), 2019-06-27 14:47:26.783(Timestamp)
2019-06-27 14:47:26,788 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-06-27 14:47:26,790 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:26,790 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190626(String)
2019-06-27 14:47:26,820 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-06-27 14:47:26,823 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:26,824 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 14:47:26,827 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 14:47:26,882 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where create_time between ? and ? and pay_type=? 
2019-06-27 14:47:26,888 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==> Parameters: 2019-06-26 00:00:00.0(Timestamp), 2019-06-26 23:59:59.999(Timestamp), alipay(String)
2019-06-27 14:47:26,898 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : <==      Total: 0
2019-06-27 14:47:26,899 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:26,901 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 14:47:26,906 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 14:47:26,908 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, order_no, refund_no, total_amount, refund_amount, client_ip, extra, create_time from pay_center3_refund_request where create_time between ? and ? and pay_type=? 
2019-06-27 14:47:26,914 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : ==> Parameters: 2019-06-26 00:00:00.0(Timestamp), 2019-06-26 23:59:59.999(Timestamp), alipay(String)
2019-06-27 14:47:26,924 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : <==      Total: 0
2019-06-27 14:47:26,924  INFO 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: alipay, date: 2019-06-26T14:47:25.286 - result paysCount: 0, refundsCount: 0
2019-06-27 14:47:26,953  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-06-26T14:47:25.286] createCompareBatch successful
2019-06-27 14:47:26,956 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:26,957 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190626(String)
2019-06-27 14:47:26,963 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 14:47:26,964  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=wx, billDate=Wed Jun 26 14:47:25 CST 2019)
2019-06-27 14:47:26,964  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190626: DownloadBillRequestVO(appId=503, payType=wx, billDate=Wed Jun 26 14:47:25 CST 2019)
2019-06-27 14:47:26,977  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190626 request: {nonce_str=5wBfnyISLsTRANn37G8epYgttAyGb4TJ, bill_date=20190626, appid=wxd86049a121654669, sign=3068B68D1E810F2119C4BBBE5043A34988EE3FBF4B26F94FE061F4C18FDCD7CE, bill_type=ALL, mch_id=1505417821, sign_type=HMAC-SHA256}
2019-06-27 14:47:27,329  INFO 9897 --- [           main] wxpay java sdk                           : report worker num: 6
2019-06-27 14:47:27,332  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,5wBfnyISLsTRANn37G8epYgttAyGb4TJ,1561618047,317,api.mch.weixin.qq.com,true,6000,8000,0,0,0,ED260708A72F2F628B7D18E82E1F48D9BF1DFAC5FB7F3EA93542D34CF3A2E6AC
2019-06-27 14:47:27,332  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190626 response content size: 149
2019-06-27 14:47:27,332  INFO 9897 --- [pool-2-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,5wBfnyISLsTRANn37G8epYgttAyGb4TJ,1561618047,317,api.mch.weixin.qq.com,true,6000,8000,0,0,0,ED260708A72F2F628B7D18E82E1F48D9BF1DFAC5FB7F3EA93542D34CF3A2E6AC
2019-06-27 14:47:27,333  INFO 9897 --- [pool-2-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:27,336  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190626 response: {return_msg=No Bill Exist, error_code=20002, return_code=FAIL}
2019-06-27 14:47:27,337  WARN 9897 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: No Bill Exist
2019-06-27 14:47:27,337 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:27,338 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), wx(String), 20190626(String), null, No Bill Exist(String)
2019-06-27 14:47:27,342 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-06-27 14:47:27,378  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-06-26T14:47:25.286] parse successful
2019-06-27 14:47:27,379 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:27,380 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 14:47:27,383 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 14:47:27,385 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:27,386 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 14:47:27,389 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 14:47:27,392 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-06-27 14:47:27,393 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), wx20190626(String)
2019-06-27 14:47:27,397 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-06-27 14:47:27,398 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:27,399 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190626(String)
2019-06-27 14:47:27,402 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 14:47:27,403 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-06-27 14:47:27,404 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), wx20190626(String), wx(String), 20190626(String), 2019-06-27 14:47:27.403(Timestamp)
2019-06-27 14:47:27,408 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-06-27 14:47:27,409 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:27,410 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190626(String)
2019-06-27 14:47:27,413 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-06-27 14:47:27,413  INFO 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: wx, date: 2019-06-26T14:47:25.286 - result is Null
2019-06-27 14:47:27,446  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-06-26T14:47:25.286] createCompareBatch successful
2019-06-27 14:47:27,451 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:27,452 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190625(String)
2019-06-27 14:47:27,458 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 14:47:27,483  WARN 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-06-25T14:47:25.286] parse exception: 账单[20190625]已解析
2019-06-27 14:47:27,483 ERROR 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190625]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$2632176c.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-06-27 14:47:27,487 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:27,488 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190625(String)
2019-06-27 14:47:27,491 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 14:47:27,497  WARN 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-06-25T14:47:25.286] parse exception: 账单[20190625]已解析
2019-06-27 14:47:27,498 ERROR 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190625]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$2632176c.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-06-27 14:47:27,502 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:27,503 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190626(String)
2019-06-27 14:47:27,506 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 14:47:27,507  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Wed Jun 26 14:47:25 CST 2019)
2019-06-27 14:47:27,507  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190626: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Wed Jun 26 14:47:25 CST 2019)
2019-06-27 14:47:27,508  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190626 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-06-26","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-06-27 14:47:27,611  INFO 9897 --- [           main] sdk.biz.err                              : Summary^_^10000^_^null^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=Kbut142Yp8zcboczyldyuKA4kGgD9riaw33qXIhRig2hrcMwQuEsJzlqXBD1Q3zqGTiCGg9paVXs0M+XQK4cMtcwNZUUrZML8jLz+PhLv0sG5PVmtGoz1L5A5UkoRXKaChUpaGgw0zZLGBPE0sdx+p0XhmbJu93ryTAY/VgGA64=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-06-27 14:47:27^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-06-26","bill_type":"trade"}^_^4ms,98ms,1ms
2019-06-27 14:47:27,625  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190626 response: {"code":"10000","msg":"Success","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"10000\",\"msg\":\"Success\",\"bill_download_url\":\"http:\\/\\/dwbillcenter.alipay.com\\/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190626&downloadFileName=20882218614866000156_20190626.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190626.csv.zip&timestamp=1561618047&token=c726b2bdf796add566b8dbd6f97b9261\"},\"sign\":\"ST/o3A4PcvyGVkaTiBiFdAuTB/WEnim9lf6FFTgpre0+pR9FeM5YLDNChHkqH2kWJyHINInuH/2h5o2isiin1WusSrfFNv9aJNdf8FSVhgcxltBoVEtzW1zP6Csh3Qr6U0BQvgzydFddKjb9JrLTJU9Scyha3vV14FeoJCDKbAs=\"}","params":{"biz_content":"{\"bill_date\":\"2019-06-26\",\"bill_type\":\"trade\"}"},"bill_download_url":"http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190626&downloadFileName=20882218614866000156_20190626.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190626.csv.zip&timestamp=1561618047&token=c726b2bdf796add566b8dbd6f97b9261","success":true,"error_code":"10000"}
2019-06-27 14:47:27,640  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : alipay 101-Wed Jun 26 14:47:25 CST 2019 download-url: http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190626&downloadFileName=20882218614866000156_20190626.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190626.csv.zip&timestamp=1561618047&token=c726b2bdf796add566b8dbd6f97b9261
2019-06-27 14:47:27,810  WARN 9897 --- [           main] o.a.h.c.protocol.ResponseProcessCookies  : Cookie rejected [zone="GZ00C", version:1, domain:.${session_domain}, path:/, expiry:null] Domain attribute ".${session_domain}" violates RFC 2109: domain must contain an embedded dot
2019-06-27 14:47:27,810  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file write to [alipay_101_2019-06-26.zip]
2019-06-27 14:47:27,810  INFO 9897 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file [alipay_101_2019-06-26.zip] write success
2019-06-27 14:47:27,816 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:27,816 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190626(String)
2019-06-27 14:47:27,819 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-06-27 14:47:27,820 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-06-27 14:47:27,820 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190626(String), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":8,"退款订单总笔数":1,"订单金额（元）":3361.90,"商家实收（元）":3361.90,"服务费（元）":-21.60,"实收净额（元）":3340.30}(String), null
2019-06-27 14:47:27,824 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-06-27 14:47:27,825 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:27,825 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190626(String)
2019-06-27 14:47:27,827 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 14:47:27,828 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:27,828 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190626(String), null, null
2019-06-27 14:47:27,832 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-06-27 14:47:27,861  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-06-26T14:47:25.286] parse successful
2019-06-27 14:47:27,862 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:27,862 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 14:47:27,865 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 14:47:27,866 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:27,866 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 14:47:27,872 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 14:47:27,875 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-06-27 14:47:27,876 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190626(String)
2019-06-27 14:47:27,879 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-06-27 14:47:27,880 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:27,881 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190626(String)
2019-06-27 14:47:27,884 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 14:47:27,885 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-06-27 14:47:27,886 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190626(String), alipay(String), 20190626(String), 2019-06-27 14:47:27.885(Timestamp)
2019-06-27 14:47:28,020  WARN 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-06-26T14:47:25.286] compare exception: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'alipay20190626' for key 'idx_name'
### The error may involve com.intbee.payment.modules.trade.dao.BillCompareBatchMapper.create-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`)   VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'alipay20190626' for key 'idx_name'
; Duplicate entry 'alipay20190626' for key 'idx_name'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'alipay20190626' for key 'idx_name'
2019-06-27 14:47:28,023 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:28,024 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190626(String)
2019-06-27 14:47:28,026 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 14:47:28,027  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=wx, billDate=Wed Jun 26 14:47:25 CST 2019)
2019-06-27 14:47:28,027  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190626: DownloadBillRequestVO(appId=101, payType=wx, billDate=Wed Jun 26 14:47:25 CST 2019)
2019-06-27 14:47:28,033  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190626 request: {nonce_str=ilRiOMMXVMAnwaqdQx2bWlSGE7P3nccc, bill_date=20190626, appid=wxf712db1e1042a294, sign=3C4A488DBC4819DCF8E298632692B7B9B86772D84556C8B3AB25571BD6E24749, bill_type=ALL, mch_id=1367026602, sign_type=HMAC-SHA256}
2019-06-27 14:47:28,280  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,ilRiOMMXVMAnwaqdQx2bWlSGE7P3nccc,1561618048,242,api.mch.weixin.qq.com,true,6000,8000,0,0,0,8E4E2F2DBEF13682FBE60B0CE6BF3EC3A8CAFB1DD2354A6B4C6AD43BC6BB0382
2019-06-27 14:47:28,281  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190626 response content size: 3648
2019-06-27 14:47:28,281  INFO 9897 --- [pool-3-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,ilRiOMMXVMAnwaqdQx2bWlSGE7P3nccc,1561618048,242,api.mch.weixin.qq.com,true,6000,8000,0,0,0,8E4E2F2DBEF13682FBE60B0CE6BF3EC3A8CAFB1DD2354A6B4C6AD43BC6BB0382
2019-06-27 14:47:28,281  INFO 9897 --- [pool-3-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:28,281  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : bill file write to [wx_101_20190626.csv]
2019-06-27 14:47:28,286  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : bill file [wx_101_20190626.csv] write success
2019-06-27 14:47:28,296 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,296 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 14:47:28,299 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,300 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,304 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561537704366058(String), 4200000290201906264807807131(String), 12800(Integer), 77(Integer), null, {"merchant_income_charge":128.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000290201906264807807131","商户订单号":"10110011561537704366058","用户标识":"oF9zhvrPst1dawg3NBFtnwD-Gt80","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"LQT","货币种类":"CNY","总金额":128.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【618特惠】魅可MAC口红子弹头口红","手续费":0.77000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.295(Timestamp)
2019-06-27 14:47:28,309 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,314 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,314 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 14:47:28,317 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,318 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,319 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561481398366042(String), 4200000290201906269257024458(String), 9000(Integer), 54(Integer), null, {"merchant_income_charge":90.00,"公众账号ID":"wxde9d2081b4401862","商户号":"1367026602","子商户号":"0","微信订单号":"4200000290201906269257024458","商户订单号":"10110011561481398366042","用户标识":"o2st65WspyPrsoQGrdJrSpFxTRRA","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":90.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【618特惠】捷克Dermacol黛玛蔻遮瑕膏遮盖斑点保湿防水","手续费":0.54000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.313(Timestamp)
2019-06-27 14:47:28,323 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,324 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,324 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 14:47:28,327 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,327 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,329 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561481421366043(String), 4200000292201906267760816792(String), 21500(Integer), 129(Integer), null, {"merchant_income_charge":215.00,"公众账号ID":"wxde9d2081b4401862","商户号":"1367026602","子商户号":"0","微信订单号":"4200000292201906267760816792","商户订单号":"10110011561481421366043","用户标识":"o2st65WspyPrsoQGrdJrSpFxTRRA","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":215.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【618】怡丽丝尔银管","手续费":1.29000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.324(Timestamp)
2019-06-27 14:47:28,332 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,333 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,334 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 14:47:28,337 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,338 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,347 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561515803366048(String), 4200000294201906262188155334(String), 179900(Integer), 1079(Integer), null, {"merchant_income_charge":1799.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000294201906262188155334","商户订单号":"10110011561515803366048","用户标识":"oF9zhvtv0xuQRIKSm2i8XG6DfF9g","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"BOC_DEBIT","货币种类":"CNY","总金额":1799.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【顺丰包邮】cosbeauty/可思美IPL光子脱毛仪腋毛私处唇毛全身脱毛器家用","手续费":10.79000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.333(Timestamp)
2019-06-27 14:47:28,352 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,353 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,353 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 14:47:28,356 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,357 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,358 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561516640366049(String), 4200000294201906262305987820(String), 24900(Integer), 149(Integer), null, {"merchant_income_charge":249.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000294201906262305987820","商户订单号":"10110011561516640366049","用户标识":"oF9zhvkLc2zAjCkUmHfEeiaTmcng","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":249.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"CHARLES＆KEITH 链条编织时尚百搭单肩斜挎包网红小包","手续费":1.49000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.353(Timestamp)
2019-06-27 14:47:28,361 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,363 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,364 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 14:47:28,368 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,369 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,369 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561519154366052(String), 4200000297201906261831771884(String), 179900(Integer), 1079(Integer), null, {"merchant_income_charge":1799.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000297201906261831771884","商户订单号":"10110011561519154366052","用户标识":"oF9zhvj8dWQefP-Wyg-nkAuH4PKg","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CITIC_DEBIT","货币种类":"CNY","总金额":1799.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【顺丰包邮】cosbeauty/可思美IPL光子脱毛仪腋毛私处唇毛全身脱毛器家用","手续费":10.79000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.362(Timestamp)
2019-06-27 14:47:28,374 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,375 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,375 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 14:47:28,379 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,380 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,380 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561535625366057(String), 4200000297201906269002852520(String), 36800(Integer), 221(Integer), null, {"merchant_income_charge":368.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000297201906269002852520","商户订单号":"10110011561535625366057","用户标识":"oF9zhvvUivlVUcSqE43p-mjwI8SU","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":368.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"英国摩飞干果机水果烘干机家用食品风干机小型宠物零食蔬果干机","手续费":2.21000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.375(Timestamp)
2019-06-27 14:47:28,384 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,385 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,386 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 14:47:28,389 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,390 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,392 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561509456366044(String), 4200000299201906261310340984(String), 179900(Integer), 1079(Integer), null, {"merchant_income_charge":1799.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000299201906261310340984","商户订单号":"10110011561509456366044","用户标识":"oF9zhvrKaCAPS8o2xxfyPAo-9dDU","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"LQT","货币种类":"CNY","总金额":1799.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【顺丰包邮】cosbeauty/可思美IPL光子脱毛仪腋毛私处唇毛全身脱毛器家用","手续费":10.79000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.385(Timestamp)
2019-06-27 14:47:28,397 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,398 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,399 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 14:47:28,402 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,402 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,404 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561558306366065(String), 4200000300201906266766506995(String), 24000(Integer), 144(Integer), null, {"merchant_income_charge":240.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000300201906266766506995","商户订单号":"10110011561558306366065","用户标识":"oF9zhviCsRUMlpEk0s3upniymyxw","交易类型":"MWEB","交易状态":"SUCCESS","付款银行":"ABC_DEBIT","货币种类":"CNY","总金额":240.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【618活动】DW手表专属搭配手镯简约男女金色开口手镯","手续费":1.44000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.398(Timestamp)
2019-06-27 14:47:28,415 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,417 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,417 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 14:47:28,420 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,421 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,422 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561528229366056(String), 4200000302201906267986976431(String), 18900(Integer), 113(Integer), null, {"merchant_income_charge":189.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000302201906267986976431","商户订单号":"10110011561528229366056","用户标识":"oF9zhvvNkdSuOHUjodi8Ae6abkN8","交易类型":"MWEB","交易状态":"SUCCESS","付款银行":"BOC_DEBIT","货币种类":"CNY","总金额":189.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【618】摩飞榨汁机小型便携式榨汁杯家用电动果汁机迷你全自动水果炸汁机","手续费":1.13000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.417(Timestamp)
2019-06-27 14:47:28,426 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,427 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,428 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 14:47:28,431 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,431 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,436 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561522403366054(String), 4200000303201906262676484578(String), 52000(Integer), 312(Integer), null, {"merchant_income_charge":520.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000303201906262676484578","商户订单号":"10110011561522403366054","用户标识":"oF9zhvllM4eTgNsq7H3-RIGgVJ7I","交易类型":"MWEB","交易状态":"SUCCESS","付款银行":"ABC_DEBIT","货币种类":"CNY","总金额":520.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"LONGCHAMP 珑骧70周年纪念款饺子包2605","手续费":3.12000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.427(Timestamp)
2019-06-27 14:47:28,441 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,442 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,442 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 14:47:28,445 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,446 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,447 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561513003366047(String), 4200000306201906265928161609(String), 42500(Integer), 255(Integer), null, {"merchant_income_charge":425.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000306201906265928161609","商户订单号":"10110011561513003366047","用户标识":"oF9zhvucMLv6mgU6ZEKEr-QPopqw","交易类型":"MWEB","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":425.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"LONGCHAMP 珑骧 女士Le Pliage系列织物大号长柄可折叠手提单肩包 1899","手续费":2.55000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.441(Timestamp)
2019-06-27 14:47:28,451 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:28,454 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 14:47:28,455 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561349130365981(String), wx(String)
2019-06-27 14:47:28,459 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:28,460 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,462 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561349130365981(String), refund10110011561349130365981(String), 4200000307201906247094254929(String), 37500(Integer), -225(Integer), null, {"merchant_income_charge":0.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000307201906247094254929","商户订单号":"10110011561349130365981","用户标识":"oF9zhvn6Vc_nKdqABG-0lk23TJhI","交易类型":"MWEB","交易状态":"REFUND","付款银行":"CFT","货币种类":"CNY","总金额":0.00,"微信退款单号":"50000100842019062610202888243","商户退款单号":"refund10110011561349130365981","退款金额":375.00,"退款类型":"ORIGINAL","退款状态":"SUCCESS","商品名称":"LONGCHAMP 珑骧 女士小号短柄折叠式手提包1621","手续费":-2.25000,"费率":"0.60%"}(String), 2019-06-27 14:47:28.454(Timestamp)
2019-06-27 14:47:28,469 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : <==    Updates: 1
2019-06-27 14:47:28,470 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:28,471 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190626(String)
2019-06-27 14:47:28,474 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-06-27 14:47:28,475 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-06-27 14:47:28,477 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190626(String), 12(Integer), 1(Integer), 782100(Integer), 37500(Integer), 44(Integer), {"总交易单数":13,"总交易额":7821.00,"总退款金额":375.00,"手续费总金额":44.66000}(String), null
2019-06-27 14:47:28,484 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-06-27 14:47:28,485 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:28,485 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190626(String)
2019-06-27 14:47:28,488 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 14:47:28,489 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:28,490 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190626(String), null, null
2019-06-27 14:47:28,493 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-06-27 14:47:28,528  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-06-26T14:47:25.286] parse successful
2019-06-27 14:47:28,530 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:28,531 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 14:47:28,548 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 12
2019-06-27 14:47:28,549 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,550 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 14:47:28,770 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,773  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561481398366042)
2019-06-27 14:47:28,773  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561481398366042
2019-06-27 14:47:28,774 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,774 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 14:47:28,805 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,811 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,822 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 14:47:28,824 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,825  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561481398366042
2019-06-27 14:47:28,825 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,826 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 14:47:28,828 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,829 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561481398366042] exception: not find PayRequestLog record by [orderNo:10110011561481398366042,payType:wx] 
2019-06-27 14:47:28,829 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,830 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 14:47:28,833 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,833  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561481421366043)
2019-06-27 14:47:28,833  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561481421366043
2019-06-27 14:47:28,834 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,834 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 14:47:28,837 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,838 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,838 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 14:47:28,841 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,841  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561481421366043
2019-06-27 14:47:28,842 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,842 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 14:47:28,844 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,845 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561481421366043] exception: not find PayRequestLog record by [orderNo:10110011561481421366043,payType:wx] 
2019-06-27 14:47:28,845 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,846 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 14:47:28,848 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,849  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561509456366044)
2019-06-27 14:47:28,849  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561509456366044
2019-06-27 14:47:28,850 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,850 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 14:47:28,853 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,854 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,854 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 14:47:28,857 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,857  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561509456366044
2019-06-27 14:47:28,858 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,858 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 14:47:28,863 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,864 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561509456366044] exception: not find PayRequestLog record by [orderNo:10110011561509456366044,payType:wx] 
2019-06-27 14:47:28,864 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,865 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 14:47:28,868 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,869  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561513003366047)
2019-06-27 14:47:28,870  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561513003366047
2019-06-27 14:47:28,870 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,870 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 14:47:28,873 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,874 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,874 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 14:47:28,877 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,877  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561513003366047
2019-06-27 14:47:28,878 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,878 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 14:47:28,881 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,882 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561513003366047] exception: not find PayRequestLog record by [orderNo:10110011561513003366047,payType:wx] 
2019-06-27 14:47:28,882 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,882 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 14:47:28,885 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,886  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561515803366048)
2019-06-27 14:47:28,886  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561515803366048
2019-06-27 14:47:28,886 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,886 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 14:47:28,889 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,890 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,890 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 14:47:28,893 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,893  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561515803366048
2019-06-27 14:47:28,893 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,894 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 14:47:28,896 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,897 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561515803366048] exception: not find PayRequestLog record by [orderNo:10110011561515803366048,payType:wx] 
2019-06-27 14:47:28,897 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,897 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 14:47:28,900 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,900  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561516640366049)
2019-06-27 14:47:28,900  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561516640366049
2019-06-27 14:47:28,901 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,901 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 14:47:28,903 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,904 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,904 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 14:47:28,906 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,907  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561516640366049
2019-06-27 14:47:28,907 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,907 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 14:47:28,910 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,910 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561516640366049] exception: not find PayRequestLog record by [orderNo:10110011561516640366049,payType:wx] 
2019-06-27 14:47:28,910 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,910 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 14:47:28,913 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,913  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561519154366052)
2019-06-27 14:47:28,913  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561519154366052
2019-06-27 14:47:28,914 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,914 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 14:47:28,916 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,917 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,917 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 14:47:28,920 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,920  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561519154366052
2019-06-27 14:47:28,921 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,921 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 14:47:28,924 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,925 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561519154366052] exception: not find PayRequestLog record by [orderNo:10110011561519154366052,payType:wx] 
2019-06-27 14:47:28,925 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,926 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 14:47:28,928 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,929  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561522403366054)
2019-06-27 14:47:28,929  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561522403366054
2019-06-27 14:47:28,930 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,930 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 14:47:28,933 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,934 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,935 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 14:47:28,939 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,940  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561522403366054
2019-06-27 14:47:28,941 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,941 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 14:47:28,944 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,945 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561522403366054] exception: not find PayRequestLog record by [orderNo:10110011561522403366054,payType:wx] 
2019-06-27 14:47:28,946 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,947 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 14:47:28,950 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,951  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561528229366056)
2019-06-27 14:47:28,951  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561528229366056
2019-06-27 14:47:28,952 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,952 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 14:47:28,955 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,956 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,957 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 14:47:28,960 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:28,961  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561528229366056
2019-06-27 14:47:28,962 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,969 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 14:47:28,974 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,975 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561528229366056] exception: not find PayRequestLog record by [orderNo:10110011561528229366056,payType:wx] 
2019-06-27 14:47:28,975 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:28,976 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 14:47:28,980 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:28,981  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561535625366057)
2019-06-27 14:47:28,982  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561535625366057
2019-06-27 14:47:28,984 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:28,985 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 14:47:29,003 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,004 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,005 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 14:47:29,010 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,011  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561535625366057
2019-06-27 14:47:29,012 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,012 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 14:47:29,015 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,017 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561535625366057] exception: not find PayRequestLog record by [orderNo:10110011561535625366057,payType:wx] 
2019-06-27 14:47:29,017 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,017 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 14:47:29,020 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,021  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561537704366058)
2019-06-27 14:47:29,021  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561537704366058
2019-06-27 14:47:29,022 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,022 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 14:47:29,025 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,026 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,026 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 14:47:29,030 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,031  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561537704366058
2019-06-27 14:47:29,031 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,031 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 14:47:29,035 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,036 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561537704366058] exception: not find PayRequestLog record by [orderNo:10110011561537704366058,payType:wx] 
2019-06-27 14:47:29,036 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,037 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 14:47:29,041 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,042  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561558306366065)
2019-06-27 14:47:29,042  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561558306366065
2019-06-27 14:47:29,043 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,043 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 14:47:29,046 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,048 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,049 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 14:47:29,052 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,053  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561558306366065
2019-06-27 14:47:29,053 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,054 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 14:47:29,057 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,058 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561558306366065] exception: not find PayRequestLog record by [orderNo:10110011561558306366065,payType:wx] 
2019-06-27 14:47:29,059 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:29,060 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 14:47:29,066 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 1
2019-06-27 14:47:29,067 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:29,068 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561349130365981(String), wx(String)
2019-06-27 14:47:29,106 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:29,107  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@c0a6186c, appId=101, payType=wx, orderNo=10110011561349130365981, refundNo=refund10110011561349130365981)
2019-06-27 14:47:29,108  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561349130365981
2019-06-27 14:47:29,108 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,108 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 14:47:29,111 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,111 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,113 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 14:47:29,118 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,118  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561349130365981
2019-06-27 14:47:29,119 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,119 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 14:47:29,122 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,122 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : refundQuery [refund10110011561349130365981] exception: not find PayRequestLog record by [orderNo:10110011561349130365981,payType:wx] 
2019-06-27 14:47:29,125 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-06-27 14:47:29,126 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), wx20190626(String)
2019-06-27 14:47:29,128 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-06-27 14:47:29,130 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:29,130 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190626(String)
2019-06-27 14:47:29,134 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 14:47:29,135 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-06-27 14:47:29,137 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), wx20190626(String), wx(String), 20190626(String), 2019-06-27 14:47:29.134(Timestamp)
2019-06-27 14:47:29,179  WARN 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-06-26T14:47:25.286] compare exception: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'wx20190626' for key 'idx_name'
### The error may involve com.intbee.payment.modules.trade.dao.BillCompareBatchMapper.create-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`)   VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'wx20190626' for key 'idx_name'
; Duplicate entry 'wx20190626' for key 'idx_name'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'wx20190626' for key 'idx_name'
2019-06-27 14:47:29,182 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:29,183 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190625(String)
2019-06-27 14:47:29,185 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 14:47:29,186  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=501, payType=wx, billDate=Tue Jun 25 14:47:25 CST 2019)
2019-06-27 14:47:29,186  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190625: DownloadBillRequestVO(appId=501, payType=wx, billDate=Tue Jun 25 14:47:25 CST 2019)
2019-06-27 14:47:29,187  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190625 request: {nonce_str=GKH0gIh0UdYtetE39NjNhsii5xZ8xUsh, bill_date=20190625, appid=wx1e86ddc5b2485ab2, sign=AF29FCBE87B94BE75B9B9ED2FABC157E7DBEE4429D5EFB436D528B86FEADCEED, bill_type=ALL, mch_id=1429146602, sign_type=HMAC-SHA256}
2019-06-27 14:47:29,418  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,GKH0gIh0UdYtetE39NjNhsii5xZ8xUsh,1561618049,229,api.mch.weixin.qq.com,true,6000,8000,0,0,0,8AA14F224299EE5CCE3B578BF337C3187861CCCDA8115AA930885EC07B76ECF8
2019-06-27 14:47:29,418  INFO 9897 --- [pool-4-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,GKH0gIh0UdYtetE39NjNhsii5xZ8xUsh,1561618049,229,api.mch.weixin.qq.com,true,6000,8000,0,0,0,8AA14F224299EE5CCE3B578BF337C3187861CCCDA8115AA930885EC07B76ECF8
2019-06-27 14:47:29,418  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190625 response content size: 149
2019-06-27 14:47:29,419  INFO 9897 --- [pool-4-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:29,421  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190625 response: {return_msg=No Bill Exist, error_code=20002, return_code=FAIL}
2019-06-27 14:47:29,421  WARN 9897 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: No Bill Exist
2019-06-27 14:47:29,422 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,423 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190625(String), null, No Bill Exist(String)
2019-06-27 14:47:29,426 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-06-27 14:47:29,453  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-06-25T14:47:25.286] parse successful
2019-06-27 14:47:29,454 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:29,454 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190625(String), wx(String)
2019-06-27 14:47:29,457 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 14:47:29,458 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:29,458 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190625(String), wx(String)
2019-06-27 14:47:29,460 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 14:47:29,463 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-06-27 14:47:29,463 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 501(String), wx20190625(String)
2019-06-27 14:47:29,466 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-06-27 14:47:29,467 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:29,467 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190625(String)
2019-06-27 14:47:29,471 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 14:47:29,471 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-06-27 14:47:29,472 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 501(String), wx20190625(String), wx(String), 20190625(String), 2019-06-27 14:47:29.471(Timestamp)
2019-06-27 14:47:29,476 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-06-27 14:47:29,478 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:29,478 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190625(String)
2019-06-27 14:47:29,480 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-06-27 14:47:29,481  INFO 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 501, payType: wx, date: 2019-06-25T14:47:25.286 - result is Null
2019-06-27 14:47:29,512  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-06-25T14:47:25.286] createCompareBatch successful
2019-06-27 14:47:29,514 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:29,515 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190626(String)
2019-06-27 14:47:29,517 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 14:47:29,517  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=501, payType=wx, billDate=Wed Jun 26 14:47:25 CST 2019)
2019-06-27 14:47:29,518  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190626: DownloadBillRequestVO(appId=501, payType=wx, billDate=Wed Jun 26 14:47:25 CST 2019)
2019-06-27 14:47:29,518  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190626 request: {nonce_str=HeGHoOyIzRd3ZdKQQY3e0uX7rr1nP3gj, bill_date=20190626, appid=wx1e86ddc5b2485ab2, sign=91B3ACE96167212BAE2D3B2420E209D4002AA9C093B5947B75525BA0D8BFE118, bill_type=ALL, mch_id=1429146602, sign_type=HMAC-SHA256}
2019-06-27 14:47:29,718  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,HeGHoOyIzRd3ZdKQQY3e0uX7rr1nP3gj,1561618049,198,api.mch.weixin.qq.com,true,6000,8000,0,0,0,5E1AA0F6AF40DE8239EB26DE2E9312538133266150DBDD5A68758950BF3D6B03
2019-06-27 14:47:29,718  INFO 9897 --- [pool-5-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,HeGHoOyIzRd3ZdKQQY3e0uX7rr1nP3gj,1561618049,198,api.mch.weixin.qq.com,true,6000,8000,0,0,0,5E1AA0F6AF40DE8239EB26DE2E9312538133266150DBDD5A68758950BF3D6B03
2019-06-27 14:47:29,718  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190626 response content size: 2894
2019-06-27 14:47:29,718  INFO 9897 --- [pool-5-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:29,718  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : bill file write to [wx_501_20190626.csv]
2019-06-27 14:47:29,719  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : bill file [wx_501_20190626.csv] write success
2019-06-27 14:47:29,724 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 14:47:29,724 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561533981364166(String), wx(String)
2019-06-27 14:47:29,726 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:29,727 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,728 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561533981364166(String), refund10110011561533981364166(String), 4200000291201906265695160312(String), 105(Integer), -1(Integer), null, {"merchant_income_charge":0.00,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000291201906265695160312","商户订单号":"10110011561533981364166","用户标识":"ok1_lwxblMHbvIPMdkjXoECK2EwU","交易类型":"JSAPI","交易状态":"REFUND","付款银行":"ABC_DEBIT","货币种类":"CNY","总金额":0.00,"微信退款单号":"50000000952019062610163718927","商户退款单号":"refund10110011561533981364166","退款金额":1.05,"退款类型":"ORIGINAL","退款状态":"SUCCESS","商品名称":"商品名称1050","手续费":-0.01000,"费率":"0.60%"}(String), 2019-06-27 14:47:29.724(Timestamp)
2019-06-27 14:47:29,794 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : <==    Updates: 1
2019-06-27 14:47:29,795 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,795 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561533981364166(String), wx(String)
2019-06-27 14:47:29,798 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,798 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,799 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561533981364166(String), 4200000291201906265695160312(String), 105(Integer), 1(Integer), null, {"merchant_income_charge":1.05,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000291201906265695160312","商户订单号":"10110011561533981364166","用户标识":"ok1_lwxblMHbvIPMdkjXoECK2EwU","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"ABC_DEBIT","货币种类":"CNY","总金额":1.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"商品名称1050","手续费":0.01000,"费率":"0.60%"}(String), 2019-06-27 14:47:29.794(Timestamp)
2019-06-27 14:47:29,803 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:29,804 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 14:47:29,804 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561540703364178(String), wx(String)
2019-06-27 14:47:29,806 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:29,806 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,811 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561540703364178(String), refund10110011561540703364178(String), 4200000293201906260039926484(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.00,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000293201906260039926484","商户订单号":"10110011561540703364178","用户标识":"oSyi-4qvEVpL-Qb-vSNt5K62xVeM","交易类型":"JSAPI","交易状态":"REFUND","付款银行":"CFT","货币种类":"CNY","总金额":0.00,"微信退款单号":"50000400722019062610201932423","商户退款单号":"refund10110011561540703364178","退款金额":0.05,"退款类型":"ORIGINAL","退款状态":"SUCCESS","商品名称":"商品名称365","手续费":0.00000,"费率":"0.60%"}(String), 2019-06-27 14:47:29.803(Timestamp)
2019-06-27 14:47:29,815 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : <==    Updates: 1
2019-06-27 14:47:29,815 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,816 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561540703364178(String), wx(String)
2019-06-27 14:47:29,819 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,819 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,820 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561540703364178(String), 4200000293201906260039926484(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000293201906260039926484","商户订单号":"10110011561540703364178","用户标识":"oSyi-4qvEVpL-Qb-vSNt5K62xVeM","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":0.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"商品名称365","手续费":0.00000,"费率":"0.60%"}(String), 2019-06-27 14:47:29.815(Timestamp)
2019-06-27 14:47:29,824 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:29,824 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 14:47:29,825 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561539980364177(String), wx(String)
2019-06-27 14:47:29,827 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:29,828 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,828 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561539980364177(String), refund10110011561539980364177(String), 4200000298201906269046278753(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.00,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000298201906269046278753","商户订单号":"10110011561539980364177","用户标识":"oSyi-4qvEVpL-Qb-vSNt5K62xVeM","交易类型":"JSAPI","交易状态":"REFUND","付款银行":"CFT","货币种类":"CNY","总金额":0.00,"微信退款单号":"50000100672019062610201865364","商户退款单号":"refund10110011561539980364177","退款金额":0.05,"退款类型":"ORIGINAL","退款状态":"SUCCESS","商品名称":"商品名称365","手续费":0.00000,"费率":"0.60%"}(String), 2019-06-27 14:47:29.824(Timestamp)
2019-06-27 14:47:29,832 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : <==    Updates: 1
2019-06-27 14:47:29,833 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,833 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561539980364177(String), wx(String)
2019-06-27 14:47:29,835 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,836 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,836 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561539980364177(String), 4200000298201906269046278753(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000298201906269046278753","商户订单号":"10110011561539980364177","用户标识":"oSyi-4qvEVpL-Qb-vSNt5K62xVeM","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":0.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"商品名称365","手续费":0.00000,"费率":"0.60%"}(String), 2019-06-27 14:47:29.833(Timestamp)
2019-06-27 14:47:29,840 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:29,841 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,841 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561536976364171(String), wx(String)
2019-06-27 14:47:29,843 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,844 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,846 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561536976364171(String), 4200000299201906262129266408(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000299201906262129266408","商户订单号":"10110011561536976364171","用户标识":"ok1_lwxblMHbvIPMdkjXoECK2EwU","交易类型":"NATIVE","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":0.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"商品名称1059","手续费":0.00000,"费率":"0.60%"}(String), 2019-06-27 14:47:29.84(Timestamp)
2019-06-27 14:47:29,850 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:29,850 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 14:47:29,850 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561536976364171(String), wx(String)
2019-06-27 14:47:29,852 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:29,853 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,854 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561536976364171(String), refund10110011561536976364171(String), 4200000299201906262129266408(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.00,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000299201906262129266408","商户订单号":"10110011561536976364171","用户标识":"ok1_lwxblMHbvIPMdkjXoECK2EwU","交易类型":"NATIVE","交易状态":"REFUND","付款银行":"CFT","货币种类":"CNY","总金额":0.00,"微信退款单号":"50000000802019062610152489151","商户退款单号":"refund10110011561536976364171","退款金额":0.05,"退款类型":"ORIGINAL","退款状态":"SUCCESS","商品名称":"商品名称1059","手续费":0.00000,"费率":"0.60%"}(String), 2019-06-27 14:47:29.85(Timestamp)
2019-06-27 14:47:29,857 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : <==    Updates: 1
2019-06-27 14:47:29,857 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,858 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561538137364175(String), wx(String)
2019-06-27 14:47:29,860 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,860 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,861 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561538137364175(String), 4200000300201906267199087778(String), 100(Integer), 1(Integer), null, {"merchant_income_charge":1.00,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000300201906267199087778","商户订单号":"10110011561538137364175","用户标识":"ok1_lwxblMHbvIPMdkjXoECK2EwU","交易类型":"NATIVE","交易状态":"SUCCESS","付款银行":"ABC_DEBIT","货币种类":"CNY","总金额":1.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"商品名称1060","手续费":0.01000,"费率":"0.60%"}(String), 2019-06-27 14:47:29.857(Timestamp)
2019-06-27 14:47:29,865 DEBUG 9897 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 14:47:29,865 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 14:47:29,865 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561538137364175(String), wx(String)
2019-06-27 14:47:29,868 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:29,868 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,869 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561538137364175(String), refund10110011561538137364175(String), 4200000300201906267199087778(String), 100(Integer), -1(Integer), null, {"merchant_income_charge":0.00,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000300201906267199087778","商户订单号":"10110011561538137364175","用户标识":"ok1_lwxblMHbvIPMdkjXoECK2EwU","交易类型":"NATIVE","交易状态":"REFUND","付款银行":"ABC_DEBIT","货币种类":"CNY","总金额":0.00,"微信退款单号":"50000200732019062610163936171","商户退款单号":"refund10110011561538137364175","退款金额":1.00,"退款类型":"ORIGINAL","退款状态":"SUCCESS","商品名称":"商品名称1060","手续费":-0.01000,"费率":"0.60%"}(String), 2019-06-27 14:47:29.865(Timestamp)
2019-06-27 14:47:29,873 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillRefundLogMapper.save   : <==    Updates: 1
2019-06-27 14:47:29,873 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:29,873 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190626(String)
2019-06-27 14:47:29,876 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-06-27 14:47:29,876 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-06-27 14:47:29,877 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190626(String), 5(Integer), 5(Integer), 220(Integer), 220(Integer), 0(Integer), {"总交易单数":10,"总交易额":2.20,"总退款金额":2.20,"手续费总金额":0.00000}(String), null
2019-06-27 14:47:29,882 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-06-27 14:47:29,882 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:29,882 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190626(String)
2019-06-27 14:47:29,884 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 14:47:29,885 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:29,885 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190626(String), null, null
2019-06-27 14:47:29,889 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-06-27 14:47:29,921  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-06-26T14:47:25.286] parse successful
2019-06-27 14:47:29,922 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:29,923 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 14:47:29,950 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 17
2019-06-27 14:47:29,951 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,952 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 14:47:29,956 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,956  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561481398366042)
2019-06-27 14:47:29,957  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561481398366042
2019-06-27 14:47:29,957 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,957 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 14:47:29,960 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,961 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,962 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 14:47:29,966 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,966  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561481398366042
2019-06-27 14:47:29,967 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,967 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 14:47:29,970 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,971 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561481398366042] exception: not find PayRequestLog record by [orderNo:10110011561481398366042,payType:wx] 
2019-06-27 14:47:29,971 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,972 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 14:47:29,975 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,976  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561481421366043)
2019-06-27 14:47:29,976  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561481421366043
2019-06-27 14:47:29,976 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,976 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 14:47:29,979 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,980 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,981 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 14:47:29,984 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,984  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561481421366043
2019-06-27 14:47:29,985 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,985 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 14:47:29,987 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,987 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561481421366043] exception: not find PayRequestLog record by [orderNo:10110011561481421366043,payType:wx] 
2019-06-27 14:47:29,988 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:29,988 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 14:47:29,991 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:29,992  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561509456366044)
2019-06-27 14:47:29,992  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561509456366044
2019-06-27 14:47:29,993 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,993 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 14:47:29,996 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:29,996 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:29,997 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 14:47:29,999 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,000  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561509456366044
2019-06-27 14:47:30,000 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,001 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 14:47:30,003 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,003 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561509456366044] exception: not find PayRequestLog record by [orderNo:10110011561509456366044,payType:wx] 
2019-06-27 14:47:30,003 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,004 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 14:47:30,006 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,006  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561513003366047)
2019-06-27 14:47:30,006  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561513003366047
2019-06-27 14:47:30,007 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,007 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 14:47:30,009 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,010 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,010 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 14:47:30,013 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,013  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561513003366047
2019-06-27 14:47:30,014 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,014 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 14:47:30,018 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,019 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561513003366047] exception: not find PayRequestLog record by [orderNo:10110011561513003366047,payType:wx] 
2019-06-27 14:47:30,019 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,020 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 14:47:30,023 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,023  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561515803366048)
2019-06-27 14:47:30,023  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561515803366048
2019-06-27 14:47:30,024 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,025 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 14:47:30,027 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,028 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,028 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 14:47:30,032 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,032  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561515803366048
2019-06-27 14:47:30,032 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,033 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 14:47:30,035 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,035 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561515803366048] exception: not find PayRequestLog record by [orderNo:10110011561515803366048,payType:wx] 
2019-06-27 14:47:30,035 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,036 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 14:47:30,038 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,039  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561516640366049)
2019-06-27 14:47:30,039  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561516640366049
2019-06-27 14:47:30,039 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,039 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 14:47:30,042 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,043 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,043 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 14:47:30,046 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,047  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561516640366049
2019-06-27 14:47:30,047 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,048 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 14:47:30,051 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,052 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561516640366049] exception: not find PayRequestLog record by [orderNo:10110011561516640366049,payType:wx] 
2019-06-27 14:47:30,053 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,053 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 14:47:30,056 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,056  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561519154366052)
2019-06-27 14:47:30,056  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561519154366052
2019-06-27 14:47:30,056 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,057 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 14:47:30,059 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,059 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,059 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 14:47:30,062 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,062  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561519154366052
2019-06-27 14:47:30,062 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,062 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 14:47:30,064 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,065 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561519154366052] exception: not find PayRequestLog record by [orderNo:10110011561519154366052,payType:wx] 
2019-06-27 14:47:30,065 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,065 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 14:47:30,068 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,068  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561522403366054)
2019-06-27 14:47:30,068  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561522403366054
2019-06-27 14:47:30,069 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,069 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 14:47:30,071 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,072 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,072 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 14:47:30,074 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,075  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561522403366054
2019-06-27 14:47:30,075 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,075 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 14:47:30,077 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,077 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561522403366054] exception: not find PayRequestLog record by [orderNo:10110011561522403366054,payType:wx] 
2019-06-27 14:47:30,078 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,078 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 14:47:30,081 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,081  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561528229366056)
2019-06-27 14:47:30,081  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561528229366056
2019-06-27 14:47:30,082 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,082 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 14:47:30,085 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,085 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,086 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 14:47:30,088 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,089  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561528229366056
2019-06-27 14:47:30,089 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,089 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 14:47:30,091 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,092 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561528229366056] exception: not find PayRequestLog record by [orderNo:10110011561528229366056,payType:wx] 
2019-06-27 14:47:30,093 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,093 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561533981364166(String), wx(String)
2019-06-27 14:47:30,099 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,100  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561533981364166)
2019-06-27 14:47:30,105  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011561533981364166: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561533981364166)
2019-06-27 14:47:30,105  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561533981364166 request: {out_trade_no=10110011561533981364166}
2019-06-27 14:47:30,470  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,UEvemM6UiN0S1Exo2VrXTtT5va6APlcp,1561618050,361,api.mch.weixin.qq.com,true,6000,8000,0,0,0,713F7BCB45A5AC38F044F29E04EF0463973F90C0B162A792111FB471CC53A991
2019-06-27 14:47:30,471  INFO 9897 --- [pool-6-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,UEvemM6UiN0S1Exo2VrXTtT5va6APlcp,1561618050,361,api.mch.weixin.qq.com,true,6000,8000,0,0,0,713F7BCB45A5AC38F044F29E04EF0463973F90C0B162A792111FB471CC53A991
2019-06-27 14:47:30,471  INFO 9897 --- [pool-6-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:30,473  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561533981364166 response: {transaction_id=4200000291201906265695160312, nonce_str=2hffdhsgQ3Xywdiq, trade_state=REFUND, bank_type=ABC_DEBIT, openid=ok1_lwxblMHbvIPMdkjXoECK2EwU, sign=1897034BA0C94F1B4A4ED086D016D92A1D4FE4B5779517A2464AC248079C4BAE, return_msg=OK, fee_type=CNY, mch_id=1429146602, cash_fee=105, out_trade_no=10110011561533981364166, appid=wx1e86ddc5b2485ab2, total_fee=105, trade_state_desc=订单发生过退款，退款详情请查询退款单, trade_type=JSAPI, result_code=SUCCESS, attach=, time_end=20190626152628, is_subscribe=N, return_code=SUCCESS}
2019-06-27 14:47:30,479 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,479 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 14:47:30,482 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,482  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561535625366057)
2019-06-27 14:47:30,482  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561535625366057
2019-06-27 14:47:30,483 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,483 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 14:47:30,485 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,486 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,486 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 14:47:30,489 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,490  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561535625366057
2019-06-27 14:47:30,490 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,490 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 14:47:30,493 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,493 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561535625366057] exception: not find PayRequestLog record by [orderNo:10110011561535625366057,payType:wx] 
2019-06-27 14:47:30,494 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,494 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561536976364171(String), wx(String)
2019-06-27 14:47:30,497 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,497  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561536976364171)
2019-06-27 14:47:30,499  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011561536976364171: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561536976364171)
2019-06-27 14:47:30,499  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561536976364171 request: {out_trade_no=10110011561536976364171}
2019-06-27 14:47:30,801  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,oCCYAvOkmXPSPOopHABCRVAPDOrTcUr6,1561618050,300,api.mch.weixin.qq.com,true,6000,8000,0,0,0,8D1600AA9AE95D3E2BE4D9CCAC6C217D303428E09319C58D6470F999694C7D6D
2019-06-27 14:47:30,801  INFO 9897 --- [pool-7-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,oCCYAvOkmXPSPOopHABCRVAPDOrTcUr6,1561618050,300,api.mch.weixin.qq.com,true,6000,8000,0,0,0,8D1600AA9AE95D3E2BE4D9CCAC6C217D303428E09319C58D6470F999694C7D6D
2019-06-27 14:47:30,801  INFO 9897 --- [pool-7-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:30,803  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561536976364171 response: {transaction_id=4200000299201906262129266408, nonce_str=7kYIPMzB7Id2b7ea, trade_state=REFUND, bank_type=CFT, openid=ok1_lwxblMHbvIPMdkjXoECK2EwU, sign=1DE406B0980665DEABE1DF36F9014E315D9C8648F7663DEBCF6BB68ACE902EEE, return_msg=OK, fee_type=CNY, mch_id=1429146602, cash_fee=5, out_trade_no=10110011561536976364171, appid=wx1e86ddc5b2485ab2, total_fee=5, trade_state_desc=订单发生过退款，退款详情请查询退款单, trade_type=NATIVE, result_code=SUCCESS, attach=, time_end=20190626161735, is_subscribe=N, return_code=SUCCESS}
2019-06-27 14:47:30,808 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,808 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 14:47:30,811 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,811  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561537704366058)
2019-06-27 14:47:30,811  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561537704366058
2019-06-27 14:47:30,812 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,812 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 14:47:30,814 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,814 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:30,815 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 14:47:30,817 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:30,817  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561537704366058
2019-06-27 14:47:30,818 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,818 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 14:47:30,820 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,820 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561537704366058] exception: not find PayRequestLog record by [orderNo:10110011561537704366058,payType:wx] 
2019-06-27 14:47:30,821 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:30,821 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561538137364175(String), wx(String)
2019-06-27 14:47:30,823 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:30,824  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561538137364175)
2019-06-27 14:47:30,825  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011561538137364175: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561538137364175)
2019-06-27 14:47:30,825  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561538137364175 request: {out_trade_no=10110011561538137364175}
2019-06-27 14:47:31,106  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,668Euu2NyUFbiakE2aETHsuWwXJVkiYD,1561618051,278,api.mch.weixin.qq.com,true,6000,8000,0,0,0,23B222A0B6758334E2F374B95CB117855BE263B3BADB83B4F957E9DAF5A0E01A
2019-06-27 14:47:31,106  INFO 9897 --- [pool-2-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,668Euu2NyUFbiakE2aETHsuWwXJVkiYD,1561618051,278,api.mch.weixin.qq.com,true,6000,8000,0,0,0,23B222A0B6758334E2F374B95CB117855BE263B3BADB83B4F957E9DAF5A0E01A
2019-06-27 14:47:31,106  INFO 9897 --- [pool-2-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:31,109  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561538137364175 response: {transaction_id=4200000300201906267199087778, nonce_str=YonTUiEaDEneZY6b, trade_state=REFUND, bank_type=ABC_DEBIT, openid=ok1_lwxblMHbvIPMdkjXoECK2EwU, sign=1BBC52F4280CC37C396D2CD328FCB38BF50725B51781D865FA38CDC25DD9BA40, return_msg=OK, fee_type=CNY, mch_id=1429146602, cash_fee=100, out_trade_no=10110011561538137364175, appid=wx1e86ddc5b2485ab2, total_fee=100, trade_state_desc=订单发生过退款，退款详情请查询退款单, trade_type=NATIVE, result_code=SUCCESS, attach=, time_end=20190626163637, is_subscribe=N, return_code=SUCCESS}
2019-06-27 14:47:31,114 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:31,116 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561539980364177(String), wx(String)
2019-06-27 14:47:31,119 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:31,120  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561539980364177)
2019-06-27 14:47:31,123  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011561539980364177: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561539980364177)
2019-06-27 14:47:31,123  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561539980364177 request: {out_trade_no=10110011561539980364177}
2019-06-27 14:47:31,382  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,lP7jLmZEl3xNXkO3OSSoFtxnP5iBHftx,1561618051,256,api.mch.weixin.qq.com,true,6000,8000,0,0,0,F433E023975A3F69E4490259186EDB8AB532145B2C30143235A105437CE3DD34
2019-06-27 14:47:31,382  INFO 9897 --- [pool-3-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,lP7jLmZEl3xNXkO3OSSoFtxnP5iBHftx,1561618051,256,api.mch.weixin.qq.com,true,6000,8000,0,0,0,F433E023975A3F69E4490259186EDB8AB532145B2C30143235A105437CE3DD34
2019-06-27 14:47:31,383  INFO 9897 --- [pool-3-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:31,384  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561539980364177 response: {transaction_id=4200000298201906269046278753, nonce_str=23XcJPcbu7t6GBJL, trade_state=REFUND, bank_type=CFT, openid=oSyi-4qvEVpL-Qb-vSNt5K62xVeM, sign=330E0B23CA18AF802F1DBE9EBB10B23D91782483A1D653CAEB4ADEA79D7EB27B, return_msg=OK, fee_type=CNY, mch_id=1429146602, cash_fee=5, out_trade_no=10110011561539980364177, appid=wx1e86ddc5b2485ab2, total_fee=5, trade_state_desc=订单发生过退款，退款详情请查询退款单, trade_type=JSAPI, result_code=SUCCESS, attach=, time_end=20190626170624, is_subscribe=N, return_code=SUCCESS}
2019-06-27 14:47:31,388 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:31,389 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561540703364178(String), wx(String)
2019-06-27 14:47:31,391 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:31,392  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561540703364178)
2019-06-27 14:47:31,393  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011561540703364178: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561540703364178)
2019-06-27 14:47:31,393  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561540703364178 request: {out_trade_no=10110011561540703364178}
2019-06-27 14:47:31,631  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,aB6PwwvNJAobzQbbGwS9pyPnOMlGvWsF,1561618051,236,api.mch.weixin.qq.com,true,6000,8000,0,0,0,7DDB89872B9293E078BB84D58317718B799EE54EC651493380070F0B034355C6
2019-06-27 14:47:31,631  INFO 9897 --- [pool-4-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,aB6PwwvNJAobzQbbGwS9pyPnOMlGvWsF,1561618051,236,api.mch.weixin.qq.com,true,6000,8000,0,0,0,7DDB89872B9293E078BB84D58317718B799EE54EC651493380070F0B034355C6
2019-06-27 14:47:31,631  INFO 9897 --- [pool-4-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:31,633  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561540703364178 response: {transaction_id=4200000293201906260039926484, nonce_str=EJbXGAeU8PwXbqKR, trade_state=REFUND, bank_type=CFT, openid=oSyi-4qvEVpL-Qb-vSNt5K62xVeM, sign=40194EBDDE3CA4943CE66BBFDA01B2AA5DFB3FD08D3EF5EA68BEEEA77457A3B6, return_msg=OK, fee_type=CNY, mch_id=1429146602, cash_fee=5, out_trade_no=10110011561540703364178, appid=wx1e86ddc5b2485ab2, total_fee=5, trade_state_desc=订单发生过退款，退款详情请查询退款单, trade_type=JSAPI, result_code=SUCCESS, attach=, time_end=20190626171828, is_subscribe=N, return_code=SUCCESS}
2019-06-27 14:47:31,639 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 14:47:31,639 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 14:47:31,642 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:31,642  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561558306366065)
2019-06-27 14:47:31,642  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561558306366065
2019-06-27 14:47:31,642 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:31,642 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 14:47:31,645 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:31,645 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:31,646 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 14:47:31,649 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:31,649  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561558306366065
2019-06-27 14:47:31,650 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:31,650 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 14:47:31,652 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:31,653 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561558306366065] exception: not find PayRequestLog record by [orderNo:10110011561558306366065,payType:wx] 
2019-06-27 14:47:31,653 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 14:47:31,654 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 14:47:31,661 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 6
2019-06-27 14:47:31,662 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:31,663 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561349130365981(String), wx(String)
2019-06-27 14:47:31,665 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:31,666  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@c0a6186c, appId=101, payType=wx, orderNo=10110011561349130365981, refundNo=refund10110011561349130365981)
2019-06-27 14:47:31,666  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561349130365981
2019-06-27 14:47:31,666 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:31,666 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 14:47:31,669 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:31,670 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 14:47:31,670 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 14:47:31,673 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 14:47:31,673  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561349130365981
2019-06-27 14:47:31,674 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 14:47:31,674 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 14:47:31,676 DEBUG 9897 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 14:47:31,676 ERROR 9897 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : refundQuery [refund10110011561349130365981] exception: not find PayRequestLog record by [orderNo:10110011561349130365981,payType:wx] 
2019-06-27 14:47:31,677 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:31,677 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561533981364166(String), wx(String)
2019-06-27 14:47:31,679 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:31,679  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@401d571c, appId=501, payType=wx, orderNo=10110011561533981364166, refundNo=refund10110011561533981364166)
2019-06-27 14:47:31,681  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute refundQuery refundQuery-refund10110011561533981364166: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@401d571c, appId=501, payType=wx, orderNo=10110011561533981364166, refundNo=refund10110011561533981364166)
2019-06-27 14:47:31,681  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id refundQuery-refund10110011561533981364166 request: {out_refund_no=refund10110011561533981364166}
2019-06-27 14:47:31,956  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,M8CWNfFcf4cSkbEteC9dxmBZPDdBwhTP,1561618051,272,api.mch.weixin.qq.com,true,6000,8000,0,0,0,3F47F9BFF25B4BB23CFF3F906DF0760EE3068DDEDCE6F3DBBF56E2509C35CAB3
2019-06-27 14:47:31,957  INFO 9897 --- [pool-5-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,M8CWNfFcf4cSkbEteC9dxmBZPDdBwhTP,1561618051,272,api.mch.weixin.qq.com,true,6000,8000,0,0,0,3F47F9BFF25B4BB23CFF3F906DF0760EE3068DDEDCE6F3DBBF56E2509C35CAB3
2019-06-27 14:47:31,957  INFO 9897 --- [pool-5-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:31,958  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id refundQuery-refund10110011561533981364166 response: {transaction_id=4200000291201906265695160312, nonce_str=bPtfcFWR5ioaweyh, out_refund_no_0=refund10110011561533981364166, refund_status_0=SUCCESS, sign=D1D25876329E3D3EDC97F5EA194355C51B8299E327F2DC085D64FBE5B3C1FF58, refund_fee_0=105, refund_recv_accout_0=农业银行借记卡7375, return_msg=OK, mch_id=1429146602, refund_success_time_0=2019-06-26 15:28:01, cash_fee=105, refund_id_0=50000000952019062610163718927, out_trade_no=10110011561533981364166, appid=wx1e86ddc5b2485ab2, refund_fee=105, total_fee=105, result_code=SUCCESS, refund_account_0=REFUND_SOURCE_UNSETTLED_FUNDS, refund_count=1, return_code=SUCCESS, refund_channel_0=ORIGINAL}
2019-06-27 14:47:31,959 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:31,959 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561533981364166(String), wx(String)
2019-06-27 14:47:31,962 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:31,962 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : ==>  Preparing: INSERT INTO pay_center3_refund_query_result (id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:31,964 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : ==> Parameters: null, 501(String), wx(String), refund10110011561533981364166(String), 10110011561533981364166(String), 50000000952019062610163718927(String), 10500(Integer), 10500(Integer), null, null, {"transaction_id":"4200000291201906265695160312","nonce_str":"bPtfcFWR5ioaweyh","out_refund_no_0":"refund10110011561533981364166","refund_status_0":"SUCCESS","sign":"D1D25876329E3D3EDC97F5EA194355C51B8299E327F2DC085D64FBE5B3C1FF58","refund_fee_0":"105","refund_recv_accout_0":"农业银行借记卡7375","return_msg":"OK","mch_id":"1429146602","refund_success_time_0":"2019-06-26 15:28:01","cash_fee":"105","refund_id_0":"50000000952019062610163718927","out_trade_no":"10110011561533981364166","appid":"wx1e86ddc5b2485ab2","refund_fee":"105","total_fee":"105","result_code":"SUCCESS","refund_account_0":"REFUND_SOURCE_UNSETTLED_FUNDS","refund_count":"1","return_code":"SUCCESS","refund_channel_0":"ORIGINAL"}(String)
2019-06-27 14:47:31,967 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : <==    Updates: 1
2019-06-27 14:47:32,005 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:32,005 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561536976364171(String), wx(String)
2019-06-27 14:47:32,007 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:32,008  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@a8c7d2e8, appId=501, payType=wx, orderNo=10110011561536976364171, refundNo=refund10110011561536976364171)
2019-06-27 14:47:32,009  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute refundQuery refundQuery-refund10110011561536976364171: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@a8c7d2e8, appId=501, payType=wx, orderNo=10110011561536976364171, refundNo=refund10110011561536976364171)
2019-06-27 14:47:32,010  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id refundQuery-refund10110011561536976364171 request: {out_refund_no=refund10110011561536976364171}
2019-06-27 14:47:32,247  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,Y0SGsH1sBLlerMNyc5Fogg050m6EUuJz,1561618052,235,api.mch.weixin.qq.com,true,6000,8000,0,0,0,5A6ACBE0C985E38A7521D5429C968676E72550A0565CBE27681254DE4406EA1C
2019-06-27 14:47:32,248  INFO 9897 --- [pool-6-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,Y0SGsH1sBLlerMNyc5Fogg050m6EUuJz,1561618052,235,api.mch.weixin.qq.com,true,6000,8000,0,0,0,5A6ACBE0C985E38A7521D5429C968676E72550A0565CBE27681254DE4406EA1C
2019-06-27 14:47:32,248  INFO 9897 --- [pool-6-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:32,249  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id refundQuery-refund10110011561536976364171 response: {transaction_id=4200000299201906262129266408, nonce_str=sa4GVDz2zgig9tOf, out_refund_no_0=refund10110011561536976364171, refund_status_0=SUCCESS, sign=6C0F3796D7E708B5C3500F6932993B20E79D696F593966CF9680E7C898AE0B14, refund_fee_0=5, refund_recv_accout_0=支付用户的零钱, return_msg=OK, mch_id=1429146602, refund_success_time_0=2019-06-26 16:23:17, cash_fee=5, refund_id_0=50000000802019062610152489151, out_trade_no=10110011561536976364171, appid=wx1e86ddc5b2485ab2, refund_fee=5, total_fee=5, result_code=SUCCESS, refund_account_0=REFUND_SOURCE_UNSETTLED_FUNDS, refund_count=1, return_code=SUCCESS, refund_channel_0=ORIGINAL}
2019-06-27 14:47:32,250 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:32,250 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561536976364171(String), wx(String)
2019-06-27 14:47:32,254 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:32,254 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : ==>  Preparing: INSERT INTO pay_center3_refund_query_result (id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:32,255 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : ==> Parameters: null, 501(String), wx(String), refund10110011561536976364171(String), 10110011561536976364171(String), 50000000802019062610152489151(String), 500(Integer), 500(Integer), null, null, {"transaction_id":"4200000299201906262129266408","nonce_str":"sa4GVDz2zgig9tOf","out_refund_no_0":"refund10110011561536976364171","refund_status_0":"SUCCESS","sign":"6C0F3796D7E708B5C3500F6932993B20E79D696F593966CF9680E7C898AE0B14","refund_fee_0":"5","refund_recv_accout_0":"支付用户的零钱","return_msg":"OK","mch_id":"1429146602","refund_success_time_0":"2019-06-26 16:23:17","cash_fee":"5","refund_id_0":"50000000802019062610152489151","out_trade_no":"10110011561536976364171","appid":"wx1e86ddc5b2485ab2","refund_fee":"5","total_fee":"5","result_code":"SUCCESS","refund_account_0":"REFUND_SOURCE_UNSETTLED_FUNDS","refund_count":"1","return_code":"SUCCESS","refund_channel_0":"ORIGINAL"}(String)
2019-06-27 14:47:32,259 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : <==    Updates: 1
2019-06-27 14:47:32,317 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:32,318 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561538137364175(String), wx(String)
2019-06-27 14:47:32,321 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:32,321  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@2dc08aac, appId=501, payType=wx, orderNo=10110011561538137364175, refundNo=refund10110011561538137364175)
2019-06-27 14:47:32,322  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute refundQuery refundQuery-refund10110011561538137364175: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@2dc08aac, appId=501, payType=wx, orderNo=10110011561538137364175, refundNo=refund10110011561538137364175)
2019-06-27 14:47:32,323  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id refundQuery-refund10110011561538137364175 request: {out_refund_no=refund10110011561538137364175}
2019-06-27 14:47:32,556  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,JGLl4YGqRvSXsn0bSBQGdG6LVsH68Woy,1561618052,232,api.mch.weixin.qq.com,true,6000,8000,0,0,0,B3987DDE2F3E6F824E2298B2B43E8604923916D81B4906C4E2F49AC52D5AE9F5
2019-06-27 14:47:32,557  INFO 9897 --- [pool-7-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,JGLl4YGqRvSXsn0bSBQGdG6LVsH68Woy,1561618052,232,api.mch.weixin.qq.com,true,6000,8000,0,0,0,B3987DDE2F3E6F824E2298B2B43E8604923916D81B4906C4E2F49AC52D5AE9F5
2019-06-27 14:47:32,557  INFO 9897 --- [pool-7-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:32,559  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id refundQuery-refund10110011561538137364175 response: {transaction_id=4200000300201906267199087778, nonce_str=eKvZbSpxoZimOC2c, out_refund_no_0=refund10110011561538137364175, refund_status_0=SUCCESS, sign=10CAB3128920FFE2CE87C80EC72BF1DA4D89FDBADB4FF8A79E08BAEC195A0325, refund_fee_0=100, refund_recv_accout_0=农业银行借记卡7375, return_msg=OK, mch_id=1429146602, refund_success_time_0=2019-06-26 16:40:01, cash_fee=100, refund_id_0=50000200732019062610163936171, out_trade_no=10110011561538137364175, appid=wx1e86ddc5b2485ab2, refund_fee=100, total_fee=100, result_code=SUCCESS, refund_account_0=REFUND_SOURCE_UNSETTLED_FUNDS, refund_count=1, return_code=SUCCESS, refund_channel_0=ORIGINAL}
2019-06-27 14:47:32,559 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:32,560 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561538137364175(String), wx(String)
2019-06-27 14:47:32,563 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:32,563 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : ==>  Preparing: INSERT INTO pay_center3_refund_query_result (id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:32,564 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : ==> Parameters: null, 501(String), wx(String), refund10110011561538137364175(String), 10110011561538137364175(String), 50000200732019062610163936171(String), 10000(Integer), 10000(Integer), null, null, {"transaction_id":"4200000300201906267199087778","nonce_str":"eKvZbSpxoZimOC2c","out_refund_no_0":"refund10110011561538137364175","refund_status_0":"SUCCESS","sign":"10CAB3128920FFE2CE87C80EC72BF1DA4D89FDBADB4FF8A79E08BAEC195A0325","refund_fee_0":"100","refund_recv_accout_0":"农业银行借记卡7375","return_msg":"OK","mch_id":"1429146602","refund_success_time_0":"2019-06-26 16:40:01","cash_fee":"100","refund_id_0":"50000200732019062610163936171","out_trade_no":"10110011561538137364175","appid":"wx1e86ddc5b2485ab2","refund_fee":"100","total_fee":"100","result_code":"SUCCESS","refund_account_0":"REFUND_SOURCE_UNSETTLED_FUNDS","refund_count":"1","return_code":"SUCCESS","refund_channel_0":"ORIGINAL"}(String)
2019-06-27 14:47:32,568 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : <==    Updates: 1
2019-06-27 14:47:32,598 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:32,598 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561539980364177(String), wx(String)
2019-06-27 14:47:32,601 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:32,601  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@616e8ef8, appId=501, payType=wx, orderNo=10110011561539980364177, refundNo=refund10110011561539980364177)
2019-06-27 14:47:32,603  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute refundQuery refundQuery-refund10110011561539980364177: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@616e8ef8, appId=501, payType=wx, orderNo=10110011561539980364177, refundNo=refund10110011561539980364177)
2019-06-27 14:47:32,603  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id refundQuery-refund10110011561539980364177 request: {out_refund_no=refund10110011561539980364177}
2019-06-27 14:47:32,842  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,0GefrhsSqymBckgkv8S6fPvnQUzJKmnj,1561618052,237,api.mch.weixin.qq.com,true,6000,8000,0,0,0,ED446E6E19EB9813FEA8D47A8C6E05291229D6668E2BF6AF0EB04D7D08E8A363
2019-06-27 14:47:32,842  INFO 9897 --- [pool-2-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,0GefrhsSqymBckgkv8S6fPvnQUzJKmnj,1561618052,237,api.mch.weixin.qq.com,true,6000,8000,0,0,0,ED446E6E19EB9813FEA8D47A8C6E05291229D6668E2BF6AF0EB04D7D08E8A363
2019-06-27 14:47:32,842  INFO 9897 --- [pool-2-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:32,844  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id refundQuery-refund10110011561539980364177 response: {transaction_id=4200000298201906269046278753, nonce_str=J3hJ9Ux6XwseJxSi, out_refund_no_0=refund10110011561539980364177, refund_status_0=SUCCESS, sign=0FE7931A91F97F6C7B1F79BA3FF3CA8B92BD6055B73061A57BFEF8E87A44EC9D, refund_fee_0=5, refund_recv_accout_0=支付用户的零钱, return_msg=OK, mch_id=1429146602, refund_success_time_0=2019-06-26 17:07:14, cash_fee=5, refund_id_0=50000100672019062610201865364, out_trade_no=10110011561539980364177, appid=wx1e86ddc5b2485ab2, refund_fee=5, total_fee=5, result_code=SUCCESS, refund_account_0=REFUND_SOURCE_UNSETTLED_FUNDS, refund_count=1, return_code=SUCCESS, refund_channel_0=ORIGINAL}
2019-06-27 14:47:32,844 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:32,845 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561539980364177(String), wx(String)
2019-06-27 14:47:32,848 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:32,848 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : ==>  Preparing: INSERT INTO pay_center3_refund_query_result (id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:32,849 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : ==> Parameters: null, 501(String), wx(String), refund10110011561539980364177(String), 10110011561539980364177(String), 50000100672019062610201865364(String), 500(Integer), 500(Integer), null, null, {"transaction_id":"4200000298201906269046278753","nonce_str":"J3hJ9Ux6XwseJxSi","out_refund_no_0":"refund10110011561539980364177","refund_status_0":"SUCCESS","sign":"0FE7931A91F97F6C7B1F79BA3FF3CA8B92BD6055B73061A57BFEF8E87A44EC9D","refund_fee_0":"5","refund_recv_accout_0":"支付用户的零钱","return_msg":"OK","mch_id":"1429146602","refund_success_time_0":"2019-06-26 17:07:14","cash_fee":"5","refund_id_0":"50000100672019062610201865364","out_trade_no":"10110011561539980364177","appid":"wx1e86ddc5b2485ab2","refund_fee":"5","total_fee":"5","result_code":"SUCCESS","refund_account_0":"REFUND_SOURCE_UNSETTLED_FUNDS","refund_count":"1","return_code":"SUCCESS","refund_channel_0":"ORIGINAL"}(String)
2019-06-27 14:47:32,852 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : <==    Updates: 1
2019-06-27 14:47:32,890 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:32,890 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561540703364178(String), wx(String)
2019-06-27 14:47:32,892 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:32,893  INFO 9897 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@e7b75628, appId=501, payType=wx, orderNo=10110011561540703364178, refundNo=refund10110011561540703364178)
2019-06-27 14:47:32,895  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute refundQuery refundQuery-refund10110011561540703364178: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@e7b75628, appId=501, payType=wx, orderNo=10110011561540703364178, refundNo=refund10110011561540703364178)
2019-06-27 14:47:32,895  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id refundQuery-refund10110011561540703364178 request: {out_refund_no=refund10110011561540703364178}
2019-06-27 14:47:33,116  INFO 9897 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,cbNm59mlsviLO7AUN1KEukpEvroPoCDe,1561618053,219,api.mch.weixin.qq.com,true,6000,8000,0,0,0,8E08004BAC215A14613CC88B05F5A8D9DFBCAB60B33B20852D0210257D7272B0
2019-06-27 14:47:33,116  INFO 9897 --- [pool-3-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,cbNm59mlsviLO7AUN1KEukpEvroPoCDe,1561618053,219,api.mch.weixin.qq.com,true,6000,8000,0,0,0,8E08004BAC215A14613CC88B05F5A8D9DFBCAB60B33B20852D0210257D7272B0
2019-06-27 14:47:33,116  INFO 9897 --- [pool-3-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 14:47:33,118  INFO 9897 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id refundQuery-refund10110011561540703364178 response: {transaction_id=4200000293201906260039926484, nonce_str=01hLb7rheZvq9gGB, out_refund_no_0=refund10110011561540703364178, refund_status_0=SUCCESS, sign=830DD0BF32F4A212614D152083AA57D5034EB4C19911BB4995335ACA1A53A467, refund_fee_0=5, refund_recv_accout_0=支付用户的零钱, return_msg=OK, mch_id=1429146602, refund_success_time_0=2019-06-26 17:20:45, cash_fee=5, refund_id_0=50000400722019062610201932423, out_trade_no=10110011561540703364178, appid=wx1e86ddc5b2485ab2, refund_fee=5, total_fee=5, result_code=SUCCESS, refund_account_0=REFUND_SOURCE_UNSETTLED_FUNDS, refund_count=1, return_code=SUCCESS, refund_channel_0=ORIGINAL}
2019-06-27 14:47:33,118 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 14:47:33,118 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561540703364178(String), wx(String)
2019-06-27 14:47:33,121 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 14:47:33,122 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : ==>  Preparing: INSERT INTO pay_center3_refund_query_result (id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 14:47:33,122 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : ==> Parameters: null, 501(String), wx(String), refund10110011561540703364178(String), 10110011561540703364178(String), 50000400722019062610201932423(String), 500(Integer), 500(Integer), null, null, {"transaction_id":"4200000293201906260039926484","nonce_str":"01hLb7rheZvq9gGB","out_refund_no_0":"refund10110011561540703364178","refund_status_0":"SUCCESS","sign":"830DD0BF32F4A212614D152083AA57D5034EB4C19911BB4995335ACA1A53A467","refund_fee_0":"5","refund_recv_accout_0":"支付用户的零钱","return_msg":"OK","mch_id":"1429146602","refund_success_time_0":"2019-06-26 17:20:45","cash_fee":"5","refund_id_0":"50000400722019062610201932423","out_trade_no":"10110011561540703364178","appid":"wx1e86ddc5b2485ab2","refund_fee":"5","total_fee":"5","result_code":"SUCCESS","refund_account_0":"REFUND_SOURCE_UNSETTLED_FUNDS","refund_count":"1","return_code":"SUCCESS","refund_channel_0":"ORIGINAL"}(String)
2019-06-27 14:47:33,127 DEBUG 9897 --- [           main] c.i.p.m.t.d.R.save                       : <==    Updates: 1
2019-06-27 14:47:33,166 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-06-27 14:47:33,166 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 501(String), wx20190626(String)
2019-06-27 14:47:33,169 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-06-27 14:47:33,169 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 14:47:33,170 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190626(String)
2019-06-27 14:47:33,173 DEBUG 9897 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 14:47:33,173 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-06-27 14:47:33,174 DEBUG 9897 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 501(String), wx20190626(String), wx(String), 20190626(String), 2019-06-27 14:47:33.173(Timestamp)
2019-06-27 14:47:33,214  WARN 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-06-26T14:47:25.286] compare exception: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'wx20190626' for key 'idx_name'
### The error may involve com.intbee.payment.modules.trade.dao.BillCompareBatchMapper.create-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`)   VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'wx20190626' for key 'idx_name'
; Duplicate entry 'wx20190626' for key 'idx_name'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'wx20190626' for key 'idx_name'
2019-06-27 14:47:33,215  INFO 9897 --- [           main] c.i.payment.timer.BillDownloadTimer      : task billDownload finished...
2019-06-27 14:47:33,230  INFO 9897 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-06-27 14:47:33,231  INFO 9897 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-06-27 14:47:33,259  INFO 9897 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-27 15:09:19,968  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Starting BillDownloadTimerTest on lishihaideMac-mini.local with PID 10571 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-06-27 15:09:19,971  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : The following profiles are active: szdev
2019-06-27 15:09:22,713  INFO 10571 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$896c3a85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-27 15:09:23,116  INFO 10571 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$ab7dc127] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-27 15:09:23,165  INFO 10571 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b5ba2902] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-27 15:09:23,333  INFO 10571 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-06-27 15:09:23,614  INFO 10571 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-06-27 15:09:23,636  INFO 10571 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-06-27 15:09:23,657  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-06-27 15:09:23,660  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-06-27 15:09:23,661  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-06-27 15:09:23,662  INFO 10571 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-06-27 15:09:23,663  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1367026602.p12]
2019-06-27 15:09:23,663  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-06-27 15:09:23,664  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxf712db1e1042a294, mchid=1367026602, certPath=classpath:cert/wx/apiclient_cert-1367026602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-06-27 15:09:23,665  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-06-27 15:09:23,665  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-06-27 15:09:23,666  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-06-27 15:09:23,666  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-06-27 15:09:23,668  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-06-27 15:09:23,668  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-06-27 15:09:23,669  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-06-27 15:09:23,670  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-06-27 15:09:23,670  INFO 10571 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-06-27 15:09:24,010  INFO 10571 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-06-27 15:09:25,721  INFO 10571 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-27 15:09:26,569  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$9dc5b162
2019-06-27 15:09:26,584  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$b92b7f1d
2019-06-27 15:09:26,767  INFO 10571 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-06-27 15:09:26,767  INFO 10571 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-06-27 15:09:28,881  INFO 10571 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-06-27 15:09:29,987  INFO 10571 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-06-27 15:09:30,726  INFO 10571 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-06-27 15:09:31,663  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Started BillDownloadTimerTest in 12.834 seconds (JVM running for 14.288)
2019-06-27 15:09:32,245  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : task billDownload start...
2019-06-27 15:09:32,455 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:32,504 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190625(String)
2019-06-27 15:09:32,566 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 15:09:32,580  WARN 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-06-25T15:09:32.249] parse exception: 账单[20190625]已解析
2019-06-27 15:09:32,607 ERROR 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190625]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$1207f195.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-06-27 15:09:32,617 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:32,618 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190625(String)
2019-06-27 15:09:32,624 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 15:09:32,635  WARN 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-06-25T15:09:32.249] parse exception: 账单[20190625]已解析
2019-06-27 15:09:32,636 ERROR 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190625]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$1207f195.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-06-27 15:09:32,640 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:32,642 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190626(String)
2019-06-27 15:09:32,647 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 15:09:32,660  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Wed Jun 26 15:09:32 CST 2019)
2019-06-27 15:09:32,661  INFO 10571 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190626: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Wed Jun 26 15:09:32 CST 2019)
2019-06-27 15:09:32,766 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:32,767 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190626(String)
2019-06-27 15:09:32,772 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-06-27 15:09:32,774 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-06-27 15:09:32,829 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 503(String), alipay(String), 20190626(String), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":8,"退款订单总笔数":1,"订单金额（元）":3361.90,"商家实收（元）":3361.90,"服务费（元）":-21.60,"实收净额（元）":3340.30}(String), null
2019-06-27 15:09:32,837 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-06-27 15:09:32,841 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:32,843 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190626(String)
2019-06-27 15:09:32,846 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 15:09:32,848 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:32,852 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), alipay(String), 20190626(String), null, null
2019-06-27 15:09:32,858 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-06-27 15:09:32,886  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-06-26T15:09:32.249] parse successful
2019-06-27 15:09:32,888 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:32,889 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 15:09:32,893 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 15:09:32,895 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:32,896 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 15:09:32,904 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 15:09:32,912 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-06-27 15:09:32,913 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), alipay20190626(String)
2019-06-27 15:09:32,920 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-06-27 15:09:32,921 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:32,921 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190626(String)
2019-06-27 15:09:32,931 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 15:09:32,934 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-06-27 15:09:32,937 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), alipay20190626(String), alipay(String), 20190626(String), 2019-06-27 15:09:32.934(Timestamp)
2019-06-27 15:09:32,945 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-06-27 15:09:32,948 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:32,948 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190626(String)
2019-06-27 15:09:32,983 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-06-27 15:09:32,987 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:32,987 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 15:09:32,994 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 15:09:33,060 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where create_time between ? and ? and pay_type=? 
2019-06-27 15:09:33,062 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==> Parameters: 2019-06-26 00:00:00.0(Timestamp), 2019-06-26 23:59:59.999(Timestamp), alipay(String)
2019-06-27 15:09:33,071 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : <==      Total: 0
2019-06-27 15:09:33,073 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:33,079 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 15:09:33,086 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 15:09:33,089 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, order_no, refund_no, total_amount, refund_amount, client_ip, extra, create_time from pay_center3_refund_request where create_time between ? and ? and pay_type=? 
2019-06-27 15:09:33,090 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : ==> Parameters: 2019-06-26 00:00:00.0(Timestamp), 2019-06-26 23:59:59.999(Timestamp), alipay(String)
2019-06-27 15:09:33,096 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : <==      Total: 0
2019-06-27 15:09:33,097  INFO 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: alipay, date: 2019-06-26T15:09:32.249 - result paysCount: 0, refundsCount: 0
2019-06-27 15:09:33,142  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-06-26T15:09:32.249] createCompareBatch successful
2019-06-27 15:09:33,150 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:33,152 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190626(String)
2019-06-27 15:09:33,158 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 15:09:33,160  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=wx, billDate=Wed Jun 26 15:09:32 CST 2019)
2019-06-27 15:09:33,161  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190626: DownloadBillRequestVO(appId=503, payType=wx, billDate=Wed Jun 26 15:09:32 CST 2019)
2019-06-27 15:09:33,170  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190626 request: {nonce_str=nSXorxggWiJIh1mjljeRLFheO74fC71P, bill_date=20190626, appid=wxd86049a121654669, sign=AEB187C0EF8BE1D2D8117BC9807459A9B87FC72FB823BF528E8C24BE01791786, bill_type=ALL, mch_id=1505417821, sign_type=HMAC-SHA256}
2019-06-27 15:09:33,755  INFO 10571 --- [           main] wxpay java sdk                           : report worker num: 6
2019-06-27 15:09:33,758  INFO 10571 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,nSXorxggWiJIh1mjljeRLFheO74fC71P,1561619373,537,api.mch.weixin.qq.com,true,6000,8000,0,0,0,2B15D2270D669695EC4A1885395F507A30B49425F7F7B7982B914B365C00C281
2019-06-27 15:09:33,758  INFO 10571 --- [pool-2-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,nSXorxggWiJIh1mjljeRLFheO74fC71P,1561619373,537,api.mch.weixin.qq.com,true,6000,8000,0,0,0,2B15D2270D669695EC4A1885395F507A30B49425F7F7B7982B914B365C00C281
2019-06-27 15:09:33,758  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190626 response content size: 149
2019-06-27 15:09:33,758  INFO 10571 --- [pool-2-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 15:09:33,761  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190626 response: {return_msg=No Bill Exist, error_code=20002, return_code=FAIL}
2019-06-27 15:09:33,761  WARN 10571 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: No Bill Exist
2019-06-27 15:09:33,762 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:33,762 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), wx(String), 20190626(String), null, No Bill Exist(String)
2019-06-27 15:09:33,771 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-06-27 15:09:33,816  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-06-26T15:09:32.249] parse successful
2019-06-27 15:09:33,817 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:33,818 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 15:09:33,826 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 15:09:33,828 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:33,828 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 15:09:33,843 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 6
2019-06-27 15:09:33,845 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:33,845 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561349130365981(String), wx(String)
2019-06-27 15:09:33,850 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 15:09:33,851  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@c0a6186c, appId=101, payType=wx, orderNo=10110011561349130365981, refundNo=refund10110011561349130365981)
2019-06-27 15:09:33,852  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561349130365981
2019-06-27 15:09:33,852 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:33,853 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 15:09:33,861 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:33,862 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:33,863 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 15:09:33,869 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:33,869  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561349130365981
2019-06-27 15:09:33,870 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:33,871 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 15:09:33,876 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:33,878 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : refundQuery [refund10110011561349130365981] exception: not find PayRequestLog record by [orderNo:10110011561349130365981,payType:wx] 
2019-06-27 15:09:33,879 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:33,880 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561533981364166(String), wx(String)
2019-06-27 15:09:33,889 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:33,890 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:33,891 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561536976364171(String), wx(String)
2019-06-27 15:09:33,899 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:33,900 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:33,900 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561538137364175(String), wx(String)
2019-06-27 15:09:33,910 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:33,915 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:33,916 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561539980364177(String), wx(String)
2019-06-27 15:09:33,924 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:33,925 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:33,926 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561540703364178(String), wx(String)
2019-06-27 15:09:33,935 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:33,941 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-06-27 15:09:33,943 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), wx20190626(String)
2019-06-27 15:09:33,952 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-06-27 15:09:33,953 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:33,953 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190626(String)
2019-06-27 15:09:33,967 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 15:09:33,968 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-06-27 15:09:33,969 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), wx20190626(String), wx(String), 20190626(String), 2019-06-27 15:09:33.967(Timestamp)
2019-06-27 15:09:33,979 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-06-27 15:09:33,981 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:33,982 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190626(String)
2019-06-27 15:09:33,989 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-06-27 15:09:33,990  INFO 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: wx, date: 2019-06-26T15:09:32.249 - result is Null
2019-06-27 15:09:34,021  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-06-26T15:09:32.249] createCompareBatch successful
2019-06-27 15:09:34,026 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:34,027 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190625(String)
2019-06-27 15:09:34,032 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 15:09:34,048  WARN 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-06-25T15:09:32.249] parse exception: 账单[20190625]已解析
2019-06-27 15:09:34,048 ERROR 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190625]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$1207f195.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-06-27 15:09:34,054 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:34,054 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190625(String)
2019-06-27 15:09:34,061 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 15:09:34,078  WARN 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-06-25T15:09:32.249] parse exception: 账单[20190625]已解析
2019-06-27 15:09:34,078 ERROR 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190625]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$1207f195.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-06-27 15:09:34,083 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:34,083 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190626(String)
2019-06-27 15:09:34,087 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 15:09:34,088  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Wed Jun 26 15:09:32 CST 2019)
2019-06-27 15:09:34,088  INFO 10571 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190626: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Wed Jun 26 15:09:32 CST 2019)
2019-06-27 15:09:34,095 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:34,095 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190626(String)
2019-06-27 15:09:34,101 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-06-27 15:09:34,102 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-06-27 15:09:34,103 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190626(String), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":8,"退款订单总笔数":1,"订单金额（元）":3361.90,"商家实收（元）":3361.90,"服务费（元）":-21.60,"实收净额（元）":3340.30}(String), null
2019-06-27 15:09:34,115 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-06-27 15:09:34,117 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:34,117 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190626(String)
2019-06-27 15:09:34,127 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 15:09:34,128 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,129 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190626(String), null, null
2019-06-27 15:09:34,140 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-06-27 15:09:34,170  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-06-26T15:09:32.249] parse successful
2019-06-27 15:09:34,171 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:34,171 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 15:09:34,180 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 15:09:34,183 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:34,183 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 15:09:34,211 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 15:09:34,216 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-06-27 15:09:34,217 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190626(String)
2019-06-27 15:09:34,224 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-06-27 15:09:34,225 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:34,225 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190626(String)
2019-06-27 15:09:34,233 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 15:09:34,234 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-06-27 15:09:34,235 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190626(String), alipay(String), 20190626(String), 2019-06-27 15:09:34.234(Timestamp)
2019-06-27 15:09:34,244 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-06-27 15:09:34,247 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:34,248 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190626(String)
2019-06-27 15:09:34,256 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-06-27 15:09:34,257 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:34,257 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 15:09:34,262 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 15:09:34,263 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where create_time between ? and ? and pay_type=? 
2019-06-27 15:09:34,264 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==> Parameters: 2019-06-26 00:00:00.0(Timestamp), 2019-06-26 23:59:59.999(Timestamp), alipay(String)
2019-06-27 15:09:34,269 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : <==      Total: 0
2019-06-27 15:09:34,270 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:34,270 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), alipay(String)
2019-06-27 15:09:34,279 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-06-27 15:09:34,282 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, order_no, refund_no, total_amount, refund_amount, client_ip, extra, create_time from pay_center3_refund_request where create_time between ? and ? and pay_type=? 
2019-06-27 15:09:34,283 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : ==> Parameters: 2019-06-26 00:00:00.0(Timestamp), 2019-06-26 23:59:59.999(Timestamp), alipay(String)
2019-06-27 15:09:34,290 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : <==      Total: 0
2019-06-27 15:09:34,290  INFO 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: alipay, date: 2019-06-26T15:09:32.249 - result paysCount: 0, refundsCount: 0
2019-06-27 15:09:34,326  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-06-26T15:09:32.249] createCompareBatch successful
2019-06-27 15:09:34,333 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:34,334 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190626(String)
2019-06-27 15:09:34,339 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 15:09:34,339  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=wx, billDate=Wed Jun 26 15:09:32 CST 2019)
2019-06-27 15:09:34,340  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190626: DownloadBillRequestVO(appId=101, payType=wx, billDate=Wed Jun 26 15:09:32 CST 2019)
2019-06-27 15:09:34,340  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : file [/Users/zhenling/Nesting/zc-service-pay/./bill/wx_101_20190626.csv] already exists, return local file
2019-06-27 15:09:34,362 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,363 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 15:09:34,367 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,368 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,372 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561537704366058(String), 4200000290201906264807807131(String), 12800(Integer), 77(Integer), null, {"merchant_income_charge":128.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000290201906264807807131","商户订单号":"10110011561537704366058","用户标识":"oF9zhvrPst1dawg3NBFtnwD-Gt80","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"LQT","货币种类":"CNY","总金额":128.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【618特惠】魅可MAC口红子弹头口红","手续费":0.77000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.361(Timestamp)
2019-06-27 15:09:34,382 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,383 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,383 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 15:09:34,388 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,389 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,390 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561481398366042(String), 4200000290201906269257024458(String), 9000(Integer), 54(Integer), null, {"merchant_income_charge":90.00,"公众账号ID":"wxde9d2081b4401862","商户号":"1367026602","子商户号":"0","微信订单号":"4200000290201906269257024458","商户订单号":"10110011561481398366042","用户标识":"o2st65WspyPrsoQGrdJrSpFxTRRA","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":90.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【618特惠】捷克Dermacol黛玛蔻遮瑕膏遮盖斑点保湿防水","手续费":0.54000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.383(Timestamp)
2019-06-27 15:09:34,402 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,402 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,403 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 15:09:34,410 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,410 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,411 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561481421366043(String), 4200000292201906267760816792(String), 21500(Integer), 129(Integer), null, {"merchant_income_charge":215.00,"公众账号ID":"wxde9d2081b4401862","商户号":"1367026602","子商户号":"0","微信订单号":"4200000292201906267760816792","商户订单号":"10110011561481421366043","用户标识":"o2st65WspyPrsoQGrdJrSpFxTRRA","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":215.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【618】怡丽丝尔银管","手续费":1.29000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.402(Timestamp)
2019-06-27 15:09:34,420 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,421 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,421 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 15:09:34,428 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,429 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,429 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561515803366048(String), 4200000294201906262188155334(String), 179900(Integer), 1079(Integer), null, {"merchant_income_charge":1799.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000294201906262188155334","商户订单号":"10110011561515803366048","用户标识":"oF9zhvtv0xuQRIKSm2i8XG6DfF9g","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"BOC_DEBIT","货币种类":"CNY","总金额":1799.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【顺丰包邮】cosbeauty/可思美IPL光子脱毛仪腋毛私处唇毛全身脱毛器家用","手续费":10.79000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.421(Timestamp)
2019-06-27 15:09:34,437 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,437 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,438 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 15:09:34,444 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,445 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,446 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561516640366049(String), 4200000294201906262305987820(String), 24900(Integer), 149(Integer), null, {"merchant_income_charge":249.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000294201906262305987820","商户订单号":"10110011561516640366049","用户标识":"oF9zhvkLc2zAjCkUmHfEeiaTmcng","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":249.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"CHARLES＆KEITH 链条编织时尚百搭单肩斜挎包网红小包","手续费":1.49000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.437(Timestamp)
2019-06-27 15:09:34,458 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,459 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,460 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 15:09:34,465 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,466 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,466 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561519154366052(String), 4200000297201906261831771884(String), 179900(Integer), 1079(Integer), null, {"merchant_income_charge":1799.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000297201906261831771884","商户订单号":"10110011561519154366052","用户标识":"oF9zhvj8dWQefP-Wyg-nkAuH4PKg","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CITIC_DEBIT","货币种类":"CNY","总金额":1799.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【顺丰包邮】cosbeauty/可思美IPL光子脱毛仪腋毛私处唇毛全身脱毛器家用","手续费":10.79000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.459(Timestamp)
2019-06-27 15:09:34,476 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,477 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,477 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 15:09:34,482 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,483 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,483 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561535625366057(String), 4200000297201906269002852520(String), 36800(Integer), 221(Integer), null, {"merchant_income_charge":368.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000297201906269002852520","商户订单号":"10110011561535625366057","用户标识":"oF9zhvvUivlVUcSqE43p-mjwI8SU","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":368.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"英国摩飞干果机水果烘干机家用食品风干机小型宠物零食蔬果干机","手续费":2.21000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.477(Timestamp)
2019-06-27 15:09:34,496 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,499 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,500 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 15:09:34,504 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,505 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,506 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561509456366044(String), 4200000299201906261310340984(String), 179900(Integer), 1079(Integer), null, {"merchant_income_charge":1799.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000299201906261310340984","商户订单号":"10110011561509456366044","用户标识":"oF9zhvrKaCAPS8o2xxfyPAo-9dDU","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"LQT","货币种类":"CNY","总金额":1799.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【顺丰包邮】cosbeauty/可思美IPL光子脱毛仪腋毛私处唇毛全身脱毛器家用","手续费":10.79000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.498(Timestamp)
2019-06-27 15:09:34,515 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,516 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,517 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 15:09:34,523 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,524 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,525 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561558306366065(String), 4200000300201906266766506995(String), 24000(Integer), 144(Integer), null, {"merchant_income_charge":240.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000300201906266766506995","商户订单号":"10110011561558306366065","用户标识":"oF9zhviCsRUMlpEk0s3upniymyxw","交易类型":"MWEB","交易状态":"SUCCESS","付款银行":"ABC_DEBIT","货币种类":"CNY","总金额":240.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【618活动】DW手表专属搭配手镯简约男女金色开口手镯","手续费":1.44000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.516(Timestamp)
2019-06-27 15:09:34,534 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,535 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,535 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 15:09:34,543 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,544 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,544 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561528229366056(String), 4200000302201906267986976431(String), 18900(Integer), 113(Integer), null, {"merchant_income_charge":189.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000302201906267986976431","商户订单号":"10110011561528229366056","用户标识":"oF9zhvvNkdSuOHUjodi8Ae6abkN8","交易类型":"MWEB","交易状态":"SUCCESS","付款银行":"BOC_DEBIT","货币种类":"CNY","总金额":189.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【618】摩飞榨汁机小型便携式榨汁杯家用电动果汁机迷你全自动水果炸汁机","手续费":1.13000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.535(Timestamp)
2019-06-27 15:09:34,553 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,554 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,555 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 15:09:34,561 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,562 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,562 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561522403366054(String), 4200000303201906262676484578(String), 52000(Integer), 312(Integer), null, {"merchant_income_charge":520.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000303201906262676484578","商户订单号":"10110011561522403366054","用户标识":"oF9zhvllM4eTgNsq7H3-RIGgVJ7I","交易类型":"MWEB","交易状态":"SUCCESS","付款银行":"ABC_DEBIT","货币种类":"CNY","总金额":520.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"LONGCHAMP 珑骧70周年纪念款饺子包2605","手续费":3.12000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.554(Timestamp)
2019-06-27 15:09:34,571 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,572 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,572 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 15:09:34,579 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,580 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,581 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190626(String), 10110011561513003366047(String), 4200000306201906265928161609(String), 42500(Integer), 255(Integer), null, {"merchant_income_charge":425.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000306201906265928161609","商户订单号":"10110011561513003366047","用户标识":"oF9zhvucMLv6mgU6ZEKEr-QPopqw","交易类型":"MWEB","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":425.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"LONGCHAMP 珑骧 女士Le Pliage系列织物大号长柄可折叠手提单肩包 1899","手续费":2.55000,"费率":"0.60%"}(String), 2019-06-27 15:09:34.572(Timestamp)
2019-06-27 15:09:34,599 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:34,600 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 15:09:34,601 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561349130365981(String), wx(String)
2019-06-27 15:09:34,608 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:34,609 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:34,612 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190626(String)
2019-06-27 15:09:34,618 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-06-27 15:09:34,619 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-06-27 15:09:34,621 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190626(String), 12(Integer), 1(Integer), 782100(Integer), 37500(Integer), 44(Integer), {"总交易单数":13,"总交易额":7821.00,"总退款金额":375.00,"手续费总金额":44.66000}(String), null
2019-06-27 15:09:34,631 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-06-27 15:09:34,632 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:34,632 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190626(String)
2019-06-27 15:09:34,636 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 15:09:34,637 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:34,637 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190626(String), null, null
2019-06-27 15:09:34,645 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-06-27 15:09:34,714  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-06-26T15:09:32.249] parse successful
2019-06-27 15:09:34,716 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:34,716 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 15:09:34,740 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 12
2019-06-27 15:09:34,742 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,743 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 15:09:34,748 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,749  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561481398366042)
2019-06-27 15:09:34,749  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561481398366042
2019-06-27 15:09:34,749 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,750 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 15:09:34,758 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,759 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,760 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 15:09:34,770 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,770  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561481398366042
2019-06-27 15:09:34,771 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,771 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 15:09:34,775 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,776 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561481398366042] exception: not find PayRequestLog record by [orderNo:10110011561481398366042,payType:wx] 
2019-06-27 15:09:34,776 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,776 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 15:09:34,781 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,782  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561481421366043)
2019-06-27 15:09:34,782  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561481421366043
2019-06-27 15:09:34,782 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,783 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 15:09:34,787 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,788 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,788 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 15:09:34,793 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,794  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561481421366043
2019-06-27 15:09:34,794 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,794 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 15:09:34,799 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,799 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561481421366043] exception: not find PayRequestLog record by [orderNo:10110011561481421366043,payType:wx] 
2019-06-27 15:09:34,799 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,800 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 15:09:34,808 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,808  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561509456366044)
2019-06-27 15:09:34,809  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561509456366044
2019-06-27 15:09:34,809 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,809 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 15:09:34,815 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,816 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,816 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 15:09:34,821 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,821  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561509456366044
2019-06-27 15:09:34,822 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,822 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 15:09:34,827 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,827 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561509456366044] exception: not find PayRequestLog record by [orderNo:10110011561509456366044,payType:wx] 
2019-06-27 15:09:34,828 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,828 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 15:09:34,833 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,833  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561513003366047)
2019-06-27 15:09:34,833  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561513003366047
2019-06-27 15:09:34,834 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,834 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 15:09:34,838 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,839 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,839 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 15:09:34,845 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,845  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561513003366047
2019-06-27 15:09:34,846 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,846 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 15:09:34,850 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,851 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561513003366047] exception: not find PayRequestLog record by [orderNo:10110011561513003366047,payType:wx] 
2019-06-27 15:09:34,852 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,852 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 15:09:34,859 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,860  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561515803366048)
2019-06-27 15:09:34,860  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561515803366048
2019-06-27 15:09:34,860 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,861 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 15:09:34,866 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,867 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,867 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 15:09:34,873 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,873  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561515803366048
2019-06-27 15:09:34,874 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,874 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 15:09:34,880 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,882 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561515803366048] exception: not find PayRequestLog record by [orderNo:10110011561515803366048,payType:wx] 
2019-06-27 15:09:34,884 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,884 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 15:09:34,890 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,890  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561516640366049)
2019-06-27 15:09:34,891  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561516640366049
2019-06-27 15:09:34,891 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,891 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 15:09:34,896 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,897 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,897 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 15:09:34,903 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,903  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561516640366049
2019-06-27 15:09:34,904 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,904 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 15:09:34,910 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,910 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561516640366049] exception: not find PayRequestLog record by [orderNo:10110011561516640366049,payType:wx] 
2019-06-27 15:09:34,911 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,911 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 15:09:34,915 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,916  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561519154366052)
2019-06-27 15:09:34,916  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561519154366052
2019-06-27 15:09:34,916 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,916 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 15:09:34,921 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,922 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,922 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 15:09:34,927 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,927  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561519154366052
2019-06-27 15:09:34,928 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,928 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 15:09:34,933 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,934 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561519154366052] exception: not find PayRequestLog record by [orderNo:10110011561519154366052,payType:wx] 
2019-06-27 15:09:34,934 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,934 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 15:09:34,939 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,939  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561522403366054)
2019-06-27 15:09:34,939  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561522403366054
2019-06-27 15:09:34,940 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,940 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 15:09:34,944 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,945 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,945 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 15:09:34,950 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,951  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561522403366054
2019-06-27 15:09:34,951 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,951 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 15:09:34,956 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,956 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561522403366054] exception: not find PayRequestLog record by [orderNo:10110011561522403366054,payType:wx] 
2019-06-27 15:09:34,956 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,956 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 15:09:34,969 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,969  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561528229366056)
2019-06-27 15:09:34,969  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561528229366056
2019-06-27 15:09:34,970 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,970 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 15:09:34,975 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,976 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,977 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 15:09:34,982 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:34,982  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561528229366056
2019-06-27 15:09:34,983 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,983 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 15:09:34,987 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,988 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561528229366056] exception: not find PayRequestLog record by [orderNo:10110011561528229366056,payType:wx] 
2019-06-27 15:09:34,988 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:34,988 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 15:09:34,994 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:34,994  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561535625366057)
2019-06-27 15:09:34,994  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561535625366057
2019-06-27 15:09:34,995 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:34,995 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 15:09:35,003 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,004 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,005 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 15:09:35,030 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,031  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561535625366057
2019-06-27 15:09:35,032 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,033 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 15:09:35,039 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,039 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561535625366057] exception: not find PayRequestLog record by [orderNo:10110011561535625366057,payType:wx] 
2019-06-27 15:09:35,040 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,040 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 15:09:35,044 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,045  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561537704366058)
2019-06-27 15:09:35,045  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561537704366058
2019-06-27 15:09:35,045 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,045 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 15:09:35,050 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,051 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,051 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 15:09:35,062 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,063  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561537704366058
2019-06-27 15:09:35,063 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,064 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 15:09:35,068 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,069 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561537704366058] exception: not find PayRequestLog record by [orderNo:10110011561537704366058,payType:wx] 
2019-06-27 15:09:35,070 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,070 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 15:09:35,076 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,077  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561558306366065)
2019-06-27 15:09:35,077  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561558306366065
2019-06-27 15:09:35,078 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,078 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 15:09:35,083 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,084 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,085 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 15:09:35,089 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,090  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561558306366065
2019-06-27 15:09:35,090 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,090 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 15:09:35,095 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,097 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561558306366065] exception: not find PayRequestLog record by [orderNo:10110011561558306366065,payType:wx] 
2019-06-27 15:09:35,098 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:35,100 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 15:09:35,115 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 6
2019-06-27 15:09:35,116 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:35,117 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561349130365981(String), wx(String)
2019-06-27 15:09:35,121 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 15:09:35,121  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@c0a6186c, appId=101, payType=wx, orderNo=10110011561349130365981, refundNo=refund10110011561349130365981)
2019-06-27 15:09:35,122  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561349130365981
2019-06-27 15:09:35,122 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,122 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 15:09:35,129 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,130 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,131 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 15:09:35,136 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,136  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561349130365981
2019-06-27 15:09:35,136 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,137 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 15:09:35,141 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,141 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : refundQuery [refund10110011561349130365981] exception: not find PayRequestLog record by [orderNo:10110011561349130365981,payType:wx] 
2019-06-27 15:09:35,141 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:35,142 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561533981364166(String), wx(String)
2019-06-27 15:09:35,148 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:35,149 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:35,149 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561536976364171(String), wx(String)
2019-06-27 15:09:35,156 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:35,156 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:35,157 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561538137364175(String), wx(String)
2019-06-27 15:09:35,163 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:35,164 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:35,164 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561539980364177(String), wx(String)
2019-06-27 15:09:35,170 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:35,171 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:35,172 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561540703364178(String), wx(String)
2019-06-27 15:09:35,179 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:35,184 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-06-27 15:09:35,185 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), wx20190626(String)
2019-06-27 15:09:35,190 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-06-27 15:09:35,191 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:35,191 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190626(String)
2019-06-27 15:09:35,199 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 15:09:35,200 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-06-27 15:09:35,201 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), wx20190626(String), wx(String), 20190626(String), 2019-06-27 15:09:35.2(Timestamp)
2019-06-27 15:09:35,210 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-06-27 15:09:35,211 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:35,212 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190626(String)
2019-06-27 15:09:35,218 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-06-27 15:09:35,219 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:35,220 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 15:09:35,240 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 12
2019-06-27 15:09:35,241 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where create_time between ? and ? and pay_type=? 
2019-06-27 15:09:35,241 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==> Parameters: 2019-06-26 00:00:00.0(Timestamp), 2019-06-26 23:59:59.999(Timestamp), wx(String)
2019-06-27 15:09:35,247 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : <==      Total: 0
2019-06-27 15:09:35,249 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:35,249 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 15:09:35,270 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 6
2019-06-27 15:09:35,271 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, order_no, refund_no, total_amount, refund_amount, client_ip, extra, create_time from pay_center3_refund_request where create_time between ? and ? and pay_type=? 
2019-06-27 15:09:35,273 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : ==> Parameters: 2019-06-26 00:00:00.0(Timestamp), 2019-06-26 23:59:59.999(Timestamp), wx(String)
2019-06-27 15:09:35,278 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : <==      Total: 0
2019-06-27 15:09:35,280  INFO 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: wx, date: 2019-06-26T15:09:32.249 - result paysCount: 12, refundsCount: 6
2019-06-27 15:09:35,302 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.batchSave                  : ==>  Preparing: INSERT INTO pay_center3_bill_compare_detail (`batch_id`, `pay_type`, `operate_type`, `order_no`, `refund_no`, `bill_amount`, `request_amount`, `trade_time`, `compare_status`, `compare_desc`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:35,318 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.batchSave                  : ==> Parameters: 168(Integer), wx(String), 支付(String), 10110011561481398366042(String), null, 9000(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 支付(String), 10110011561481421366043(String), null, 21500(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 支付(String), 10110011561509456366044(String), null, 179900(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 支付(String), 10110011561513003366047(String), null, 42500(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 支付(String), 10110011561515803366048(String), null, 179900(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 支付(String), 10110011561516640366049(String), null, 24900(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 支付(String), 10110011561519154366052(String), null, 179900(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 支付(String), 10110011561522403366054(String), null, 52000(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 支付(String), 10110011561528229366056(String), null, 18900(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 支付(String), 10110011561535625366057(String), null, 36800(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 支付(String), 10110011561537704366058(String), null, 12800(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 支付(String), 10110011561558306366065(String), null, 24000(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 退款(String), 10110011561349130365981(String), refund10110011561349130365981(String), 37500(Integer), null, 2019-06-28 03:46:11.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 退款(String), 10110011561533981364166(String), refund10110011561533981364166(String), 105(Integer), null, 2019-06-28 03:46:12.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 退款(String), 10110011561536976364171(String), refund10110011561536976364171(String), 5(Integer), null, 2019-06-28 03:46:13.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 退款(String), 10110011561538137364175(String), refund10110011561538137364175(String), 100(Integer), null, 2019-06-28 03:46:13.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 退款(String), 10110011561539980364177(String), refund10110011561539980364177(String), 5(Integer), null, 2019-06-28 03:46:13.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 168(Integer), wx(String), 退款(String), 10110011561540703364178(String), refund10110011561540703364178(String), 5(Integer), null, 2019-06-28 03:46:13.0(Timestamp), 1(Integer), 支付中心查无此单(String), null
2019-06-27 15:09:35,353 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.batchSave                  : <==    Updates: 18
2019-06-27 15:09:35,361 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.update                     : ==>  Preparing: update pay_center3_bill_compare_batch set `mistake_count` = ?, `unhandle_mistake_count` = ?, `bill_pay_count` = ?, `request_pay_count` = ?, `bill_refund_count` = ?, `request_refund_count` = ?, `bill_pay_amount` = ?, `request_pay_amount` = ?, `bill_refund_amount` = ?, `request_refund_amount` = ?, `pay_service_charge` = ?, `refund_service_charge` = ? where id = ? 
2019-06-27 15:09:35,362 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.update                     : ==> Parameters: 18(Integer), 18(Integer), 12(Integer), 0(Integer), 1(Integer), 0(Integer), 782100(Integer), 0(Integer), 37500(Integer), 0(Integer), 4691(Integer), -227(Integer), 168(Integer)
2019-06-27 15:09:35,374 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.update                     : <==    Updates: 1
2019-06-27 15:09:35,427  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-06-26T15:09:32.249] createCompareBatch successful
2019-06-27 15:09:35,434 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:35,434 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190625(String)
2019-06-27 15:09:35,441 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 15:09:35,452  WARN 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-06-25T15:09:32.249] parse exception: 账单[20190625]已解析
2019-06-27 15:09:35,453 ERROR 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190625]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$1207f195.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-06-27 15:09:35,459 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:35,459 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190626(String)
2019-06-27 15:09:35,464 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 15:09:35,465  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=501, payType=wx, billDate=Wed Jun 26 15:09:32 CST 2019)
2019-06-27 15:09:35,465  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190626: DownloadBillRequestVO(appId=501, payType=wx, billDate=Wed Jun 26 15:09:32 CST 2019)
2019-06-27 15:09:35,465  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : file [/Users/zhenling/Nesting/zc-service-pay/./bill/wx_501_20190626.csv] already exists, return local file
2019-06-27 15:09:35,472 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 15:09:35,473 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561533981364166(String), wx(String)
2019-06-27 15:09:35,479 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:35,479 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,480 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561533981364166(String), wx(String)
2019-06-27 15:09:35,484 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,485 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:35,486 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561533981364166(String), 4200000291201906265695160312(String), 105(Integer), 1(Integer), null, {"merchant_income_charge":1.05,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000291201906265695160312","商户订单号":"10110011561533981364166","用户标识":"ok1_lwxblMHbvIPMdkjXoECK2EwU","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"ABC_DEBIT","货币种类":"CNY","总金额":1.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"商品名称1050","手续费":0.01000,"费率":"0.60%"}(String), 2019-06-27 15:09:35.479(Timestamp)
2019-06-27 15:09:35,497 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:35,498 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 15:09:35,499 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561540703364178(String), wx(String)
2019-06-27 15:09:35,507 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:35,508 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,508 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561540703364178(String), wx(String)
2019-06-27 15:09:35,514 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,515 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:35,516 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561540703364178(String), 4200000293201906260039926484(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000293201906260039926484","商户订单号":"10110011561540703364178","用户标识":"oSyi-4qvEVpL-Qb-vSNt5K62xVeM","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":0.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"商品名称365","手续费":0.00000,"费率":"0.60%"}(String), 2019-06-27 15:09:35.508(Timestamp)
2019-06-27 15:09:35,526 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:35,529 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 15:09:35,530 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561539980364177(String), wx(String)
2019-06-27 15:09:35,538 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:35,538 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,539 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561539980364177(String), wx(String)
2019-06-27 15:09:35,544 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,544 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:35,545 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561539980364177(String), 4200000298201906269046278753(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000298201906269046278753","商户订单号":"10110011561539980364177","用户标识":"oSyi-4qvEVpL-Qb-vSNt5K62xVeM","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":0.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"商品名称365","手续费":0.00000,"费率":"0.60%"}(String), 2019-06-27 15:09:35.538(Timestamp)
2019-06-27 15:09:35,555 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:35,556 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,556 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561536976364171(String), wx(String)
2019-06-27 15:09:35,562 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,563 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:35,570 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561536976364171(String), 4200000299201906262129266408(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000299201906262129266408","商户订单号":"10110011561536976364171","用户标识":"ok1_lwxblMHbvIPMdkjXoECK2EwU","交易类型":"NATIVE","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":0.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"商品名称1059","手续费":0.00000,"费率":"0.60%"}(String), 2019-06-27 15:09:35.555(Timestamp)
2019-06-27 15:09:35,582 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:35,583 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 15:09:35,584 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561536976364171(String), wx(String)
2019-06-27 15:09:35,591 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:35,592 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,592 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011561538137364175(String), wx(String)
2019-06-27 15:09:35,598 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,598 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:35,599 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190626(String), 10110011561538137364175(String), 4200000300201906267199087778(String), 100(Integer), 1(Integer), null, {"merchant_income_charge":1.00,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000300201906267199087778","商户订单号":"10110011561538137364175","用户标识":"ok1_lwxblMHbvIPMdkjXoECK2EwU","交易类型":"NATIVE","交易状态":"SUCCESS","付款银行":"ABC_DEBIT","货币种类":"CNY","总金额":1.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"商品名称1060","手续费":0.01000,"费率":"0.60%"}(String), 2019-06-27 15:09:35.592(Timestamp)
2019-06-27 15:09:35,608 DEBUG 10571 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-06-27 15:09:35,609 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? 
2019-06-27 15:09:35,610 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561538137364175(String), wx(String)
2019-06-27 15:09:35,618 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:35,619 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:35,620 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190626(String)
2019-06-27 15:09:35,625 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-06-27 15:09:35,626 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-06-27 15:09:35,627 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190626(String), 5(Integer), 5(Integer), 220(Integer), 220(Integer), 0(Integer), {"总交易单数":10,"总交易额":2.20,"总退款金额":2.20,"手续费总金额":0.00000}(String), null
2019-06-27 15:09:35,635 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-06-27 15:09:35,636 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:35,636 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190626(String)
2019-06-27 15:09:35,639 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-06-27 15:09:35,640 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:35,641 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190626(String), null, null
2019-06-27 15:09:35,647 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-06-27 15:09:35,680  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-06-26T15:09:32.249] parse successful
2019-06-27 15:09:35,681 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:35,682 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 15:09:35,704 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 17
2019-06-27 15:09:35,705 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,705 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 15:09:35,710 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,710  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561481398366042)
2019-06-27 15:09:35,711  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561481398366042
2019-06-27 15:09:35,711 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,712 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 15:09:35,715 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,716 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,716 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 15:09:35,721 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,721  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561481398366042
2019-06-27 15:09:35,722 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,722 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481398366042(String), wx(String)
2019-06-27 15:09:35,732 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,734 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561481398366042] exception: not find PayRequestLog record by [orderNo:10110011561481398366042,payType:wx] 
2019-06-27 15:09:35,734 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,734 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 15:09:35,738 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,738  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561481421366043)
2019-06-27 15:09:35,739  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561481421366043
2019-06-27 15:09:35,740 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,741 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 15:09:35,747 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,749 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,751 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 15:09:35,756 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,757  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561481421366043
2019-06-27 15:09:35,758 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,759 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561481421366043(String), wx(String)
2019-06-27 15:09:35,762 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,763 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561481421366043] exception: not find PayRequestLog record by [orderNo:10110011561481421366043,payType:wx] 
2019-06-27 15:09:35,763 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,764 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 15:09:35,768 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,769  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561509456366044)
2019-06-27 15:09:35,769  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561509456366044
2019-06-27 15:09:35,769 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,770 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 15:09:35,773 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,775 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,776 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 15:09:35,781 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,782  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561509456366044
2019-06-27 15:09:35,782 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,782 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561509456366044(String), wx(String)
2019-06-27 15:09:35,787 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,788 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561509456366044] exception: not find PayRequestLog record by [orderNo:10110011561509456366044,payType:wx] 
2019-06-27 15:09:35,788 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,788 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 15:09:35,792 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,793  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561513003366047)
2019-06-27 15:09:35,793  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561513003366047
2019-06-27 15:09:35,793 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,794 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 15:09:35,800 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,802 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,802 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 15:09:35,806 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,806  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561513003366047
2019-06-27 15:09:35,807 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,807 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561513003366047(String), wx(String)
2019-06-27 15:09:35,810 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,810 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561513003366047] exception: not find PayRequestLog record by [orderNo:10110011561513003366047,payType:wx] 
2019-06-27 15:09:35,811 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,811 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 15:09:35,816 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,817  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561515803366048)
2019-06-27 15:09:35,817  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561515803366048
2019-06-27 15:09:35,818 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,819 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 15:09:35,822 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,822 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,823 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 15:09:35,826 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,827  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561515803366048
2019-06-27 15:09:35,827 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,828 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561515803366048(String), wx(String)
2019-06-27 15:09:35,833 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,835 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561515803366048] exception: not find PayRequestLog record by [orderNo:10110011561515803366048,payType:wx] 
2019-06-27 15:09:35,836 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,837 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 15:09:35,840 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,841  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561516640366049)
2019-06-27 15:09:35,841  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561516640366049
2019-06-27 15:09:35,841 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,842 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 15:09:35,845 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,846 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,846 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 15:09:35,849 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,850  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561516640366049
2019-06-27 15:09:35,850 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,850 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561516640366049(String), wx(String)
2019-06-27 15:09:35,858 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,858 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561516640366049] exception: not find PayRequestLog record by [orderNo:10110011561516640366049,payType:wx] 
2019-06-27 15:09:35,859 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,859 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 15:09:35,863 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,863  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561519154366052)
2019-06-27 15:09:35,863  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561519154366052
2019-06-27 15:09:35,864 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,864 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 15:09:35,868 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,869 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,870 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 15:09:35,873 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,874  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561519154366052
2019-06-27 15:09:35,874 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,874 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561519154366052(String), wx(String)
2019-06-27 15:09:35,878 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,878 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561519154366052] exception: not find PayRequestLog record by [orderNo:10110011561519154366052,payType:wx] 
2019-06-27 15:09:35,879 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,879 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 15:09:35,883 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,883  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561522403366054)
2019-06-27 15:09:35,883  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561522403366054
2019-06-27 15:09:35,884 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,884 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 15:09:35,887 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,888 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,889 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 15:09:35,892 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,893  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561522403366054
2019-06-27 15:09:35,893 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,894 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561522403366054(String), wx(String)
2019-06-27 15:09:35,900 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,901 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561522403366054] exception: not find PayRequestLog record by [orderNo:10110011561522403366054,payType:wx] 
2019-06-27 15:09:35,902 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,902 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 15:09:35,906 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,906  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561528229366056)
2019-06-27 15:09:35,906  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561528229366056
2019-06-27 15:09:35,907 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,907 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 15:09:35,910 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,912 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:35,913 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 15:09:35,916 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:35,916  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561528229366056
2019-06-27 15:09:35,917 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,917 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561528229366056(String), wx(String)
2019-06-27 15:09:35,920 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,920 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561528229366056] exception: not find PayRequestLog record by [orderNo:10110011561528229366056,payType:wx] 
2019-06-27 15:09:35,921 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:35,921 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561533981364166(String), wx(String)
2019-06-27 15:09:35,924 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:35,924  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561533981364166)
2019-06-27 15:09:35,927  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011561533981364166: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561533981364166)
2019-06-27 15:09:35,928  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561533981364166 request: {out_trade_no=10110011561533981364166}
2019-06-27 15:09:36,226  INFO 10571 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,e2QLLp0yjM1BTWnPBpAo7jI9lEWzrpXp,1561619376,295,api.mch.weixin.qq.com,true,6000,8000,0,0,0,3EF199B4E81CD41502F7CA6EE906F0BDC59F110B5A1C31DEE2366AEABE6B7F2D
2019-06-27 15:09:36,226  INFO 10571 --- [pool-3-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,e2QLLp0yjM1BTWnPBpAo7jI9lEWzrpXp,1561619376,295,api.mch.weixin.qq.com,true,6000,8000,0,0,0,3EF199B4E81CD41502F7CA6EE906F0BDC59F110B5A1C31DEE2366AEABE6B7F2D
2019-06-27 15:09:36,226  INFO 10571 --- [pool-3-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 15:09:36,230  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561533981364166 response: {transaction_id=4200000291201906265695160312, nonce_str=Y7th1r6lnXYfVdmQ, trade_state=REFUND, bank_type=ABC_DEBIT, openid=ok1_lwxblMHbvIPMdkjXoECK2EwU, sign=0591D56BE10735EFE9734ABE2A70539AD42CCF08705B4FF70F8D310E53EFD6A4, return_msg=OK, fee_type=CNY, mch_id=1429146602, cash_fee=105, out_trade_no=10110011561533981364166, appid=wx1e86ddc5b2485ab2, total_fee=105, trade_state_desc=订单发生过退款，退款详情请查询退款单, trade_type=JSAPI, result_code=SUCCESS, attach=, time_end=20190626152628, is_subscribe=N, return_code=SUCCESS}
2019-06-27 15:09:36,239 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:36,239 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 15:09:36,243 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:36,244  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561535625366057)
2019-06-27 15:09:36,244  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561535625366057
2019-06-27 15:09:36,244 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:36,244 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 15:09:36,248 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:36,248 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:36,249 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 15:09:36,254 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:36,254  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561535625366057
2019-06-27 15:09:36,254 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:36,254 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561535625366057(String), wx(String)
2019-06-27 15:09:36,257 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:36,257 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561535625366057] exception: not find PayRequestLog record by [orderNo:10110011561535625366057,payType:wx] 
2019-06-27 15:09:36,257 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:36,258 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561536976364171(String), wx(String)
2019-06-27 15:09:36,263 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:36,263  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561536976364171)
2019-06-27 15:09:36,268  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011561536976364171: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561536976364171)
2019-06-27 15:09:36,268  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561536976364171 request: {out_trade_no=10110011561536976364171}
2019-06-27 15:09:36,573  INFO 10571 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,xENzn05H8gGWA19NkWO8SQbbIEtxirjI,1561619376,303,api.mch.weixin.qq.com,true,6000,8000,0,0,0,A91E38DF5554BF707EB4692FDA0D3D8D2FA12A75098AD9BCFD833AEE12275FE6
2019-06-27 15:09:36,573  INFO 10571 --- [pool-4-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,xENzn05H8gGWA19NkWO8SQbbIEtxirjI,1561619376,303,api.mch.weixin.qq.com,true,6000,8000,0,0,0,A91E38DF5554BF707EB4692FDA0D3D8D2FA12A75098AD9BCFD833AEE12275FE6
2019-06-27 15:09:36,573  INFO 10571 --- [pool-4-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 15:09:36,575  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561536976364171 response: {transaction_id=4200000299201906262129266408, nonce_str=Xm6anK1mwyJsarOf, trade_state=REFUND, bank_type=CFT, openid=ok1_lwxblMHbvIPMdkjXoECK2EwU, sign=3E34B9BC5E2BE1785BE6E692669B17D417A3FEB76D634B7D94526A2708FACD4D, return_msg=OK, fee_type=CNY, mch_id=1429146602, cash_fee=5, out_trade_no=10110011561536976364171, appid=wx1e86ddc5b2485ab2, total_fee=5, trade_state_desc=订单发生过退款，退款详情请查询退款单, trade_type=NATIVE, result_code=SUCCESS, attach=, time_end=20190626161735, is_subscribe=N, return_code=SUCCESS}
2019-06-27 15:09:36,607 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:36,607 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 15:09:36,616 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:36,616  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561537704366058)
2019-06-27 15:09:36,616  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561537704366058
2019-06-27 15:09:36,617 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:36,617 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 15:09:36,621 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:36,622 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:36,622 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 15:09:36,627 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:36,627  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561537704366058
2019-06-27 15:09:36,628 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:36,628 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561537704366058(String), wx(String)
2019-06-27 15:09:36,631 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:36,632 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561537704366058] exception: not find PayRequestLog record by [orderNo:10110011561537704366058,payType:wx] 
2019-06-27 15:09:36,632 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:36,632 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561538137364175(String), wx(String)
2019-06-27 15:09:36,638 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:36,639  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561538137364175)
2019-06-27 15:09:36,642  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011561538137364175: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561538137364175)
2019-06-27 15:09:36,642  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561538137364175 request: {out_trade_no=10110011561538137364175}
2019-06-27 15:09:36,929  INFO 10571 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,CyPzo8CP0UXwTKYQMRt8zF3zMMQtAxwK,1561619376,284,api.mch.weixin.qq.com,true,6000,8000,0,0,0,4F35110BC5612F0BBA68F311E3DBEEC33BE132849B0DA32F6BDB579306D77684
2019-06-27 15:09:36,929  INFO 10571 --- [pool-5-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,CyPzo8CP0UXwTKYQMRt8zF3zMMQtAxwK,1561619376,284,api.mch.weixin.qq.com,true,6000,8000,0,0,0,4F35110BC5612F0BBA68F311E3DBEEC33BE132849B0DA32F6BDB579306D77684
2019-06-27 15:09:36,929  INFO 10571 --- [pool-5-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 15:09:36,931  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561538137364175 response: {transaction_id=4200000300201906267199087778, nonce_str=Qr2UAmPk4H9MK1PQ, trade_state=REFUND, bank_type=ABC_DEBIT, openid=ok1_lwxblMHbvIPMdkjXoECK2EwU, sign=3947C7FD8ED30FDFFC9C8DB360FE9914EA59417E33BD8EDD59A34C48F5974457, return_msg=OK, fee_type=CNY, mch_id=1429146602, cash_fee=100, out_trade_no=10110011561538137364175, appid=wx1e86ddc5b2485ab2, total_fee=100, trade_state_desc=订单发生过退款，退款详情请查询退款单, trade_type=NATIVE, result_code=SUCCESS, attach=, time_end=20190626163637, is_subscribe=N, return_code=SUCCESS}
2019-06-27 15:09:36,948 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:36,949 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561539980364177(String), wx(String)
2019-06-27 15:09:36,959 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:36,959  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561539980364177)
2019-06-27 15:09:36,970  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011561539980364177: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561539980364177)
2019-06-27 15:09:36,971  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561539980364177 request: {out_trade_no=10110011561539980364177}
2019-06-27 15:09:37,229  INFO 10571 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,jFekclvNjsfTf3TFqkIzHg7wfjDJie0p,1561619377,256,api.mch.weixin.qq.com,true,6000,8000,0,0,0,DBD2CFAEC66D84A7E49D0FD6701A0628F9B52E4BFD72B398A9C4CECE6AA0F596
2019-06-27 15:09:37,230  INFO 10571 --- [pool-6-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,jFekclvNjsfTf3TFqkIzHg7wfjDJie0p,1561619377,256,api.mch.weixin.qq.com,true,6000,8000,0,0,0,DBD2CFAEC66D84A7E49D0FD6701A0628F9B52E4BFD72B398A9C4CECE6AA0F596
2019-06-27 15:09:37,230  INFO 10571 --- [pool-6-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 15:09:37,232  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561539980364177 response: {transaction_id=4200000298201906269046278753, nonce_str=O2fiP3q7MObixypT, trade_state=REFUND, bank_type=CFT, openid=oSyi-4qvEVpL-Qb-vSNt5K62xVeM, sign=521E4A939B4306B4D3E9A6D4C61135BD9702756A2F21F6EA5705508369682E53, return_msg=OK, fee_type=CNY, mch_id=1429146602, cash_fee=5, out_trade_no=10110011561539980364177, appid=wx1e86ddc5b2485ab2, total_fee=5, trade_state_desc=订单发生过退款，退款详情请查询退款单, trade_type=JSAPI, result_code=SUCCESS, attach=, time_end=20190626170624, is_subscribe=N, return_code=SUCCESS}
2019-06-27 15:09:37,246 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:37,246 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561540703364178(String), wx(String)
2019-06-27 15:09:37,250 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:37,251  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561540703364178)
2019-06-27 15:09:37,261  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011561540703364178: PayQueryRequestVO(appId=501, tradeType=null, payType=wx, orderNo=10110011561540703364178)
2019-06-27 15:09:37,262  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561540703364178 request: {out_trade_no=10110011561540703364178}
2019-06-27 15:09:37,552  INFO 10571 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,GJ3VGwpznOtWuRw3IxOdf2MJPzYpkn60,1561619377,289,api.mch.weixin.qq.com,true,6000,8000,0,0,0,B48F6E44F890235E83D665B2F09C755088D2EE484763766841785E2AF1E02B6E
2019-06-27 15:09:37,553  INFO 10571 --- [pool-7-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,GJ3VGwpznOtWuRw3IxOdf2MJPzYpkn60,1561619377,289,api.mch.weixin.qq.com,true,6000,8000,0,0,0,B48F6E44F890235E83D665B2F09C755088D2EE484763766841785E2AF1E02B6E
2019-06-27 15:09:37,553  INFO 10571 --- [pool-7-thread-1] wxpay java sdk                           : try get remain report msg
2019-06-27 15:09:37,554  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011561540703364178 response: {transaction_id=4200000293201906260039926484, nonce_str=zqDOyOdFzMvVnrMA, trade_state=REFUND, bank_type=CFT, openid=oSyi-4qvEVpL-Qb-vSNt5K62xVeM, sign=A5151C7E757DCCF0F749B477238AFEFC748050B0EE2D63B77934A481FB225385, return_msg=OK, fee_type=CNY, mch_id=1429146602, cash_fee=5, out_trade_no=10110011561540703364178, appid=wx1e86ddc5b2485ab2, total_fee=5, trade_state_desc=订单发生过退款，退款详情请查询退款单, trade_type=JSAPI, result_code=SUCCESS, attach=, time_end=20190626171828, is_subscribe=N, return_code=SUCCESS}
2019-06-27 15:09:37,562 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no = ? and pay_type = ? 
2019-06-27 15:09:37,562 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 15:09:37,566 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:37,567  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011561558306366065)
2019-06-27 15:09:37,567  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561558306366065
2019-06-27 15:09:37,567 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:37,567 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 15:09:37,571 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:37,571 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:37,572 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 15:09:37,576 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:37,577  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561558306366065
2019-06-27 15:09:37,577 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:37,577 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561558306366065(String), wx(String)
2019-06-27 15:09:37,581 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:37,581 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011561558306366065] exception: not find PayRequestLog record by [orderNo:10110011561558306366065,payType:wx] 
2019-06-27 15:09:37,581 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:37,582 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 15:09:37,591 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 6
2019-06-27 15:09:37,592 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:37,592 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561349130365981(String), wx(String)
2019-06-27 15:09:37,595 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-06-27 15:09:37,595  INFO 10571 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@c0a6186c, appId=101, payType=wx, orderNo=10110011561349130365981, refundNo=refund10110011561349130365981)
2019-06-27 15:09:37,595  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======start ,getPayOrderNo method, orderNo:10110011561349130365981
2019-06-27 15:09:37,596 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:37,596 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 15:09:37,599 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:37,599 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-06-27 15:09:37,600 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 15:09:37,603 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-06-27 15:09:37,604  INFO 10571 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : =======end ,getPayOrderNo method,noList return orderNo:10110011561349130365981
2019-06-27 15:09:37,604 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? 
2019-06-27 15:09:37,604 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561349130365981(String), wx(String)
2019-06-27 15:09:37,607 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-06-27 15:09:37,607 ERROR 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : refundQuery [refund10110011561349130365981] exception: not find PayRequestLog record by [orderNo:10110011561349130365981,payType:wx] 
2019-06-27 15:09:37,608 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:37,608 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561533981364166(String), wx(String)
2019-06-27 15:09:37,612 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:37,612 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:37,613 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561536976364171(String), wx(String)
2019-06-27 15:09:37,617 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:37,618 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:37,618 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561538137364175(String), wx(String)
2019-06-27 15:09:37,623 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:37,623 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:37,624 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561539980364177(String), wx(String)
2019-06-27 15:09:37,628 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:37,629 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-06-27 15:09:37,629 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561540703364178(String), wx(String)
2019-06-27 15:09:37,635 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-06-27 15:09:37,640 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-06-27 15:09:37,640 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 501(String), wx20190626(String)
2019-06-27 15:09:37,645 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-06-27 15:09:37,645 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:37,645 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190626(String)
2019-06-27 15:09:37,648 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-06-27 15:09:37,649 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-06-27 15:09:37,649 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 501(String), wx20190626(String), wx(String), 20190626(String), 2019-06-27 15:09:37.649(Timestamp)
2019-06-27 15:09:37,655 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-06-27 15:09:37,655 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-06-27 15:09:37,656 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190626(String)
2019-06-27 15:09:37,660 DEBUG 10571 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-06-27 15:09:37,661 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:37,661 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 15:09:37,679 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 17
2019-06-27 15:09:37,680 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where create_time between ? and ? and pay_type=? 
2019-06-27 15:09:37,681 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==> Parameters: 2019-06-26 00:00:00.0(Timestamp), 2019-06-26 23:59:59.999(Timestamp), wx(String)
2019-06-27 15:09:37,684 DEBUG 10571 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : <==      Total: 0
2019-06-27 15:09:37,685 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? 
2019-06-27 15:09:37,685 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190626(String), wx(String)
2019-06-27 15:09:37,695 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 6
2019-06-27 15:09:37,696 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, order_no, refund_no, total_amount, refund_amount, client_ip, extra, create_time from pay_center3_refund_request where create_time between ? and ? and pay_type=? 
2019-06-27 15:09:37,697 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : ==> Parameters: 2019-06-26 00:00:00.0(Timestamp), 2019-06-26 23:59:59.999(Timestamp), wx(String)
2019-06-27 15:09:37,701 DEBUG 10571 --- [           main] c.i.p.m.t.d.R.findBetweenDate            : <==      Total: 0
2019-06-27 15:09:37,701  INFO 10571 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 501, payType: wx, date: 2019-06-26T15:09:32.249 - result paysCount: 17, refundsCount: 6
2019-06-27 15:09:37,709 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.batchSave                  : ==>  Preparing: INSERT INTO pay_center3_bill_compare_detail (`batch_id`, `pay_type`, `operate_type`, `order_no`, `refund_no`, `bill_amount`, `request_amount`, `trade_time`, `compare_status`, `compare_desc`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-06-27 15:09:37,714 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.batchSave                  : ==> Parameters: 169(Integer), wx(String), 支付(String), 10110011561481398366042(String), null, 9000(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561481421366043(String), null, 21500(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561509456366044(String), null, 179900(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561513003366047(String), null, 42500(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561515803366048(String), null, 179900(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561516640366049(String), null, 24900(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561519154366052(String), null, 179900(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561522403366054(String), null, 52000(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561528229366056(String), null, 18900(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561533981364166(String), null, 105(Integer), null, 2019-06-28 04:08:18.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561535625366057(String), null, 36800(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561536976364171(String), null, 5(Integer), null, 2019-06-28 04:08:18.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561537704366058(String), null, 12800(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561538137364175(String), null, 100(Integer), null, 2019-06-28 04:08:18.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561539980364177(String), null, 5(Integer), null, 2019-06-28 04:08:18.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561540703364178(String), null, 5(Integer), null, 2019-06-28 04:08:18.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 支付(String), 10110011561558306366065(String), null, 24000(Integer), null, 2019-06-28 04:08:17.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 退款(String), 10110011561349130365981(String), refund10110011561349130365981(String), 37500(Integer), null, 2019-06-28 03:46:11.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 退款(String), 10110011561533981364166(String), refund10110011561533981364166(String), 105(Integer), null, 2019-06-28 03:46:12.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 退款(String), 10110011561536976364171(String), refund10110011561536976364171(String), 5(Integer), null, 2019-06-28 03:46:13.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 退款(String), 10110011561538137364175(String), refund10110011561538137364175(String), 100(Integer), null, 2019-06-28 03:46:13.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 退款(String), 10110011561539980364177(String), refund10110011561539980364177(String), 5(Integer), null, 2019-06-28 03:46:13.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 169(Integer), wx(String), 退款(String), 10110011561540703364178(String), refund10110011561540703364178(String), 5(Integer), null, 2019-06-28 03:46:13.0(Timestamp), 1(Integer), 支付中心查无此单(String), null
2019-06-27 15:09:37,725 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.batchSave                  : <==    Updates: 23
2019-06-27 15:09:37,728 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.update                     : ==>  Preparing: update pay_center3_bill_compare_batch set `mistake_count` = ?, `unhandle_mistake_count` = ?, `bill_pay_count` = ?, `request_pay_count` = ?, `bill_refund_count` = ?, `request_refund_count` = ?, `bill_pay_amount` = ?, `request_pay_amount` = ?, `bill_refund_amount` = ?, `request_refund_amount` = ?, `pay_service_charge` = ?, `refund_service_charge` = ? where id = ? 
2019-06-27 15:09:37,729 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.update                     : ==> Parameters: 23(Integer), 23(Integer), 5(Integer), 0(Integer), 5(Integer), 0(Integer), 220(Integer), 0(Integer), 220(Integer), 0(Integer), 4693(Integer), -227(Integer), 169(Integer)
2019-06-27 15:09:37,735 DEBUG 10571 --- [           main] c.i.p.m.t.d.B.update                     : <==    Updates: 1
2019-06-27 15:09:37,816  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-06-26T15:09:32.249] createCompareBatch successful
2019-06-27 15:09:37,817  INFO 10571 --- [           main] c.i.payment.timer.BillDownloadTimer      : task billDownload finished...
2019-06-27 15:09:37,833  INFO 10571 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-06-27 15:09:37,836  INFO 10571 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-06-27 15:09:37,851  INFO 10571 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
