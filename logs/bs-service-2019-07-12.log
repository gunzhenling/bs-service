2019-07-12 10:53:13,612  INFO 1938 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Starting BillDownloadTimerTest on lishihaideMac-mini.local with PID 1938 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-12 10:53:13,622  INFO 1938 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : The following profiles are active: szdev
2019-07-12 10:53:16,976  INFO 1938 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$350b2c6a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-12 10:53:17,357  INFO 1938 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$571cb30c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-12 10:53:17,398  INFO 1938 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$61591ae7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-12 10:53:17,529  INFO 1938 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-12 10:53:17,802  INFO 1938 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-12 10:53:17,829  INFO 1938 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-12 10:53:17,855  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-12 10:53:17,861  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 10:53:17,861  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 10:53:17,863  INFO 1938 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-12 10:53:17,864  INFO 1938 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-12 10:53:17,864  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1367026602.p12]
2019-07-12 10:53:17,866  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 10:53:17,866  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxf712db1e1042a294, mchid=1367026602, certPath=classpath:cert/wx/apiclient_cert-1367026602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 10:53:17,867  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-12 10:53:17,870  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 10:53:17,871  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 10:53:17,872  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-12 10:53:17,873  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 10:53:17,873  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 10:53:17,874  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-12 10:53:17,875  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 10:53:17,876  INFO 1938 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 10:53:18,275  INFO 1938 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-12 10:53:19,652  INFO 1938 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-12 10:53:20,368  INFO 1938 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$b4323afa
2019-07-12 10:53:20,384  INFO 1938 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$cf9808b5
2019-07-12 10:53:20,545  INFO 1938 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-12 10:53:20,546  INFO 1938 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-12 10:53:22,252  INFO 1938 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-12 10:53:23,281  INFO 1938 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-12 10:53:24,003  INFO 1938 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-12 10:53:24,895  INFO 1938 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Started BillDownloadTimerTest in 12.783 seconds (JVM running for 14.456)
2019-07-12 10:53:25,533  INFO 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : task billDownload start...
2019-07-12 10:53:25,710 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:53:25,773 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190710(String)
2019-07-12 10:53:25,823 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:53:25,836  WARN 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-10T10:53:25.537] parse exception: 账单[20190710]已解析
2019-07-12 10:53:25,867 ERROR 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$28747b2d.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:53:25,872 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:53:25,873 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190710(String)
2019-07-12 10:53:25,876 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:53:25,882  WARN 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-10T10:53:25.537] parse exception: 账单[20190710]已解析
2019-07-12 10:53:25,883 ERROR 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$28747b2d.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:53:25,886 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:53:25,886 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190711(String)
2019-07-12 10:53:25,891 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:53:25,898  WARN 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-11T10:53:25.537] parse exception: 账单[20190711]已解析
2019-07-12 10:53:25,899 ERROR 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190711]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$28747b2d.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:53:25,902 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:53:25,903 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190711(String)
2019-07-12 10:53:25,906 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:53:25,911  WARN 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-11T10:53:25.537] parse exception: 账单[20190711]已解析
2019-07-12 10:53:25,911 ERROR 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190711]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$28747b2d.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:53:25,916 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:53:25,917 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190710(String)
2019-07-12 10:53:25,921 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:53:25,927  WARN 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-10T10:53:25.537] parse exception: 账单[20190710]已解析
2019-07-12 10:53:25,928 ERROR 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$28747b2d.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:53:25,931 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:53:25,933 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190710(String)
2019-07-12 10:53:25,938 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:53:25,944  WARN 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-10T10:53:25.537] parse exception: 账单[20190710]已解析
2019-07-12 10:53:25,944 ERROR 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$28747b2d.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:53:25,947 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:53:25,947 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-12 10:53:25,950 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:53:25,957  WARN 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-11T10:53:25.537] parse exception: 账单[20190711]已解析
2019-07-12 10:53:25,958 ERROR 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190711]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$28747b2d.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:53:25,961 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:53:25,962 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190711(String)
2019-07-12 10:53:25,967 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:53:25,972  WARN 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-11T10:53:25.537] parse exception: 账单[20190711]已解析
2019-07-12 10:53:25,973 ERROR 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190711]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$28747b2d.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:53:25,975 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:53:25,977 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190710(String)
2019-07-12 10:53:25,981 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:53:25,986  WARN 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-10T10:53:25.537] parse exception: 账单[20190710]已解析
2019-07-12 10:53:25,987 ERROR 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$28747b2d.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:53:25,989 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:53:25,990 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190711(String)
2019-07-12 10:53:25,994 DEBUG 1938 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:53:25,999  WARN 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-11T10:53:25.537] parse exception: 账单[20190711]已解析
2019-07-12 10:53:25,999 ERROR 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190711]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$28747b2d.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:53:26,000  INFO 1938 --- [           main] c.i.payment.timer.BillDownloadTimer      : task billDownload finished...
2019-07-12 10:53:26,019  INFO 1938 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-12 10:53:26,022  INFO 1938 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-12 10:53:26,041  INFO 1938 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-12 10:59:22,177  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Starting BillDownloadTimerTest on lishihaideMac-mini.local with PID 2029 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-12 10:59:22,181  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : The following profiles are active: szdev
2019-07-12 10:59:24,785  INFO 2029 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$bd7eaca5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-12 10:59:25,139  INFO 2029 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$df903347] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-12 10:59:25,177  INFO 2029 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e9cc9b22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-12 10:59:25,276  INFO 2029 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-12 10:59:25,533  INFO 2029 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-12 10:59:25,557  INFO 2029 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-12 10:59:25,577  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-12 10:59:25,580  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 10:59:25,581  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 10:59:25,582  INFO 2029 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-12 10:59:25,583  INFO 2029 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-12 10:59:25,584  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1367026602.p12]
2019-07-12 10:59:25,584  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 10:59:25,584  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxf712db1e1042a294, mchid=1367026602, certPath=classpath:cert/wx/apiclient_cert-1367026602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 10:59:25,585  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-12 10:59:25,586  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 10:59:25,586  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 10:59:25,587  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-12 10:59:25,588  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 10:59:25,588  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 10:59:25,588  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-12 10:59:25,589  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 10:59:25,589  INFO 2029 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 10:59:25,875  INFO 2029 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-12 10:59:26,984  INFO 2029 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-12 10:59:27,622  INFO 2029 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$d1af90b0
2019-07-12 10:59:27,637  INFO 2029 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$ed155e6b
2019-07-12 10:59:27,779  INFO 2029 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-12 10:59:27,780  INFO 2029 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-12 10:59:29,382  INFO 2029 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-12 10:59:30,445  INFO 2029 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-12 10:59:31,178  INFO 2029 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-12 10:59:32,078  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Started BillDownloadTimerTest in 10.841 seconds (JVM running for 12.221)
2019-07-12 10:59:32,552  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : task billDownload start...
2019-07-12 10:59:32,725 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:32,797 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190710(String)
2019-07-12 10:59:32,858 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:59:32,870  WARN 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-10T10:59:32.555] parse exception: 账单[20190710]已解析
2019-07-12 10:59:32,895 ERROR 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$45f1d0e3.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:59:32,899 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:32,899 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190710(String)
2019-07-12 10:59:32,903 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:59:32,913  WARN 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-10T10:59:32.555] parse exception: 账单[20190710]已解析
2019-07-12 10:59:32,914 ERROR 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$45f1d0e3.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:59:32,917 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:32,918 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190711(String)
2019-07-12 10:59:32,921 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-12 10:59:32,933  INFO 2029 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Thu Jul 11 10:59:32 CST 2019)
2019-07-12 10:59:32,935  INFO 2029 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190711: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Thu Jul 11 10:59:32 CST 2019)
2019-07-12 10:59:32,938  INFO 2029 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=503,appId=alipay,config=AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-12 10:59:33,006  INFO 2029 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190711 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-11","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-07-12 10:59:33,570 ERROR 2029 --- [           main] sdk.biz.err                              : ErrorScene^_^40004^_^isp.bill_not_exist^_^null^_^Mac OS X^_^2019-07-12 10:59:33^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=KsiQ1g+eMJ7WV8WGgulshly2gRPuoO4wPyuSKUZIXb2TFNKvuRLtcAHTGSfU3Wb2o8osCjWuqsSaWrI89t5jfSO9hnKM9iFR5ionoVDiAeA9LF9yJr6u0sFDeVSjxjiAkpH4mPsPeKJIcIO2yamjwQZLH8C6ina6MIB/xCmcBaLf+EODZWYERyS6taVliExfCE8TbTjEuM5nP/BwESLvhg6XQ/1qHwlMM4vkPpeqP4ic/e3XlCtMOO4U5lzeGrhnsC+PqBwMon1niVYAr4Alme4xgq+kEG9C1UFT+Qcc8Bttv7lKKfivxB8ocTmw+vn0kvvIEgCvnj1qWfzit994lQ==&version=1.0&app_id=2018042660058300&sign_type=RSA2&timestamp=2019-07-12 10:59:33^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-11","bill_type":"trade"}^_^Body:{"alipay_data_dataservice_bill_downloadurl_query_response":{"code":"40004","msg":"Business Failed","sub_code":"isp.bill_not_exist","sub_msg":"账单不存在"},"sign":"Gq+kjxgtcIxPkqPaWE44LRxNLhZgQQ9URlgEk4FhMivzPrH/I8kvXpJddhQqUof66/u6AJGeyIUxWlhjJH6JGubeRpTPS+vGcSd7qndlX47YKvxe4PIrRpxiM95dPkXrtdDVkGW4y6vDOj8Wg3Ullh/Q2PVXmNa9XxJ8ka5iuUtNA+Y1/t/QvlUcf7QI35IqkQLHZrht30LNsDh20++fT65gb8FV4nVdbvvkiX0yiAiZVAW90o/EWSdYktEIMGfH5wYBqLhQRMATtZeQ49Ya3lj3Ja+fnCNh92WNciuFoZm9Uk4wCnyJ5k4SO06FlOqwpX0s0X7ePyw+IKhDEciSOw=="}^_^60ms,481ms,18ms
2019-07-12 10:59:33,576  INFO 2029 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190711 response: {"code":"40004","msg":"Business Failed","sub_code":"isp.bill_not_exist","sub_msg":"账单不存在","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"isp.bill_not_exist\",\"sub_msg\":\"账单不存在\"},\"sign\":\"Gq+kjxgtcIxPkqPaWE44LRxNLhZgQQ9URlgEk4FhMivzPrH/I8kvXpJddhQqUof66/u6AJGeyIUxWlhjJH6JGubeRpTPS+vGcSd7qndlX47YKvxe4PIrRpxiM95dPkXrtdDVkGW4y6vDOj8Wg3Ullh/Q2PVXmNa9XxJ8ka5iuUtNA+Y1/t/QvlUcf7QI35IqkQLHZrht30LNsDh20++fT65gb8FV4nVdbvvkiX0yiAiZVAW90o/EWSdYktEIMGfH5wYBqLhQRMATtZeQ49Ya3lj3Ja+fnCNh92WNciuFoZm9Uk4wCnyJ5k4SO06FlOqwpX0s0X7ePyw+IKhDEciSOw==\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-11\",\"bill_type\":\"trade\"}"},"success":false,"error_code":"40004"}
2019-07-12 10:59:33,577  WARN 2029 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: Business Failed # isp.bill_not_exist # 账单不存在
2019-07-12 10:59:33,581 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:33,584 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), alipay(String), 20190711(String), null, Business Failed # isp.bill_not_exist # 账单不存在(String)
2019-07-12 10:59:33,591 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-12 10:59:33,624  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-11T10:59:32.555] parse successful
2019-07-12 10:59:33,626 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-12 10:59:33,628 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 503(String), 20190711(String), alipay(String)
2019-07-12 10:59:33,633 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:33,635 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:33,636 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190711(String), alipay(String), 503(String)
2019-07-12 10:59:33,641 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:33,646 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-12 10:59:33,649 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), alipay20190711(String)
2019-07-12 10:59:33,655 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-12 10:59:33,657 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:33,658 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190711(String)
2019-07-12 10:59:33,662 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:59:33,664 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-12 10:59:33,667 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), alipay20190711(String), alipay(String), 20190711(String), 2019-07-12 10:59:33.663(Timestamp)
2019-07-12 10:59:33,672 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-12 10:59:33,676 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:33,679 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190711(String)
2019-07-12 10:59:33,683 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-12 10:59:33,684  INFO 2029 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: alipay, date: 2019-07-11T10:59:32.555 - result is Null
2019-07-12 10:59:33,733  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-11T10:59:32.555] createCompareBatch successful
2019-07-12 10:59:33,737 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:33,737 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190711(String)
2019-07-12 10:59:33,740 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-12 10:59:33,742  INFO 2029 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=wx, billDate=Thu Jul 11 10:59:32 CST 2019)
2019-07-12 10:59:33,743  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190711: DownloadBillRequestVO(appId=503, payType=wx, billDate=Thu Jul 11 10:59:32 CST 2019)
2019-07-12 10:59:33,752  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190711 request: {nonce_str=Qf2o7FnnNOMlhAIAOCLkR4eQ6oJZXaip, bill_date=20190711, appid=wxd86049a121654669, sign=9950ACCB8700B3482FC22998013954080A71DDE7DEB4A1E0259C2E94175F3E9D, bill_type=ALL, mch_id=1505417821, sign_type=HMAC-SHA256}
2019-07-12 10:59:34,314  INFO 2029 --- [           main] wxpay java sdk                           : report worker num: 6
2019-07-12 10:59:34,317  INFO 2029 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,Qf2o7FnnNOMlhAIAOCLkR4eQ6oJZXaip,1562900374,511,api.mch.weixin.qq.com,true,6000,8000,0,0,0,96690CD744B27C8FA3C93D79913EA0E406F5C86906D2446C7F4B4112A02AB667
2019-07-12 10:59:34,317  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : <xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[No Bill Exist]]></return_msg>
<error_code><![CDATA[20002]]></error_code>
</xml>
2019-07-12 10:59:34,317  INFO 2029 --- [pool-2-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,Qf2o7FnnNOMlhAIAOCLkR4eQ6oJZXaip,1562900374,511,api.mch.weixin.qq.com,true,6000,8000,0,0,0,96690CD744B27C8FA3C93D79913EA0E406F5C86906D2446C7F4B4112A02AB667
2019-07-12 10:59:34,317  INFO 2029 --- [pool-2-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-12 10:59:34,317  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190711 response content size: 149
2019-07-12 10:59:34,318  INFO 2029 --- [           main] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[No Bill Exist]]></return_msg>
<error_code><![CDATA[20002]]></error_code>
</xml>
2019-07-12 10:59:34,321  INFO 2029 --- [           main] com.github.wxpay.sdk.WXPay               : processResponseXml: return={return_msg=No Bill Exist, error_code=20002, return_code=FAIL}
2019-07-12 10:59:34,322  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190711 response: {return_msg=No Bill Exist, error_code=20002, return_code=FAIL}
2019-07-12 10:59:34,322  WARN 2029 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: No Bill Exist
2019-07-12 10:59:34,323 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:34,324 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), wx(String), 20190711(String), null, No Bill Exist(String)
2019-07-12 10:59:34,328 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-12 10:59:34,350  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-11T10:59:32.555] parse successful
2019-07-12 10:59:34,350 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-12 10:59:34,351 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 503(String), 20190711(String), wx(String)
2019-07-12 10:59:34,354 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:34,355 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:34,356 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190711(String), wx(String), 503(String)
2019-07-12 10:59:34,359 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:34,361 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-12 10:59:34,362 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), wx20190711(String)
2019-07-12 10:59:34,366 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-12 10:59:34,368 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:34,369 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190711(String)
2019-07-12 10:59:34,373 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:59:34,374 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-12 10:59:34,375 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), wx20190711(String), wx(String), 20190711(String), 2019-07-12 10:59:34.374(Timestamp)
2019-07-12 10:59:34,378 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-12 10:59:34,379 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:34,380 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190711(String)
2019-07-12 10:59:34,383 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-12 10:59:34,383  INFO 2029 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: wx, date: 2019-07-11T10:59:32.555 - result is Null
2019-07-12 10:59:34,409  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-11T10:59:32.555] createCompareBatch successful
2019-07-12 10:59:34,412 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:34,412 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190710(String)
2019-07-12 10:59:34,416 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:59:34,422  WARN 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-10T10:59:32.555] parse exception: 账单[20190710]已解析
2019-07-12 10:59:34,423 ERROR 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$45f1d0e3.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:59:34,426 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:34,427 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190710(String)
2019-07-12 10:59:34,431 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:59:34,438  WARN 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-10T10:59:32.555] parse exception: 账单[20190710]已解析
2019-07-12 10:59:34,438 ERROR 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$45f1d0e3.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:59:34,442 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:34,442 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-12 10:59:34,444 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-12 10:59:34,445  INFO 2029 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Thu Jul 11 10:59:32 CST 2019)
2019-07-12 10:59:34,446  INFO 2029 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190711: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Thu Jul 11 10:59:32 CST 2019)
2019-07-12 10:59:34,446  INFO 2029 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=101,appId=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-12 10:59:34,447  INFO 2029 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190711 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-11","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-07-12 10:59:34,647  INFO 2029 --- [           main] sdk.biz.err                              : Summary^_^10000^_^null^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=XvN115UrXWsvP41xx704caG00fN5VFzlX1MmuWbnejA0Ay2/Ijyu8P+w70JI/soVmsoKgtlhGF8xmo9mquiGotR1jjGb/mVTNs5pBdPAA3iywc4i4/4lsDFgs0E1TS1Dq+s9TYAP+qlX6iH5E5V1Ch4XsD6mdY8T5cOiXFDq9xc=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-12 10:59:34^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-11","bill_type":"trade"}^_^5ms,194ms,1ms
2019-07-12 10:59:34,647  INFO 2029 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190711 response: {"code":"10000","msg":"Success","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"10000\",\"msg\":\"Success\",\"bill_download_url\":\"http:\\/\\/dwbillcenter.alipay.com\\/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190711&downloadFileName=20882218614866000156_20190711.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190711.csv.zip&timestamp=1562900374&token=dcc25934813a17ef60a9ebe5a5ad9d87\"},\"sign\":\"t227xtouiiuIbFCKzFSi2HCYaXpRZtFdGp8ycp0QZVnjOLITkmugylFMvrjFKXMMyMt+da0O+1AI5wJjqbfM50gh33aEGBwlP5PDX/A65Fyc5Op0oODiWWDY7xliR1v/4RhylUagCBc4ZNnUDyZFUWgzA3fI23weh0Bof8jaL98=\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-11\",\"bill_type\":\"trade\"}"},"bill_download_url":"http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190711&downloadFileName=20882218614866000156_20190711.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190711.csv.zip&timestamp=1562900374&token=dcc25934813a17ef60a9ebe5a5ad9d87","success":true,"error_code":"10000"}
2019-07-12 10:59:34,648  INFO 2029 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : alipay 101-Thu Jul 11 10:59:32 CST 2019 download-url: http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190711&downloadFileName=20882218614866000156_20190711.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190711.csv.zip&timestamp=1562900374&token=dcc25934813a17ef60a9ebe5a5ad9d87
2019-07-12 10:59:34,823  WARN 2029 --- [           main] o.a.h.c.protocol.ResponseProcessCookies  : Cookie rejected [zone="GZ00C", version:1, domain:.${session_domain}, path:/, expiry:null] Domain attribute ".${session_domain}" violates RFC 2109: domain must contain an embedded dot
2019-07-12 10:59:34,824  INFO 2029 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file write to [alipay_101_2019-07-11.zip]
2019-07-12 10:59:34,828  INFO 2029 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file [alipay_101_2019-07-11.zip] write success
2019-07-12 10:59:34,924 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:34,925 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-12 10:59:34,931 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-12 10:59:34,932 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-12 10:59:34,953 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190711(String), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":7,"退款订单总笔数":3,"订单金额（元）":283.05,"商家实收（元）":283.05,"服务费（元）":-9.12,"实收净额（元）":273.93}(String), null
2019-07-12 10:59:34,961 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-12 10:59:34,962 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:34,964 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-12 10:59:34,968 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-12 10:59:34,969 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:34,970 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190711(String), null, null
2019-07-12 10:59:34,975 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-12 10:59:35,000  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-11T10:59:32.555] parse successful
2019-07-12 10:59:35,001 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-12 10:59:35,001 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190711(String), alipay(String)
2019-07-12 10:59:35,006 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:35,008 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,009 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190711(String), alipay(String), 101(String)
2019-07-12 10:59:35,012 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:35,015 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-12 10:59:35,015 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190711(String)
2019-07-12 10:59:35,019 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-12 10:59:35,020 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:35,020 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-12 10:59:35,024 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:59:35,025 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-12 10:59:35,025 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190711(String), alipay(String), 20190711(String), 2019-07-12 10:59:35.024(Timestamp)
2019-07-12 10:59:35,029 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-12 10:59:35,030 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:35,031 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-12 10:59:35,060 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-12 10:59:35,065 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-12 10:59:35,067 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190711(String), alipay(String)
2019-07-12 10:59:35,073 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:35,128 DEBUG 2029 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-12 10:59:35,129 DEBUG 2029 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-11 00:00:00.0(Timestamp), 2019-07-11 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-12 10:59:35,132 DEBUG 2029 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-12 10:59:35,133 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,134 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190711(String), alipay(String), 101(String)
2019-07-12 10:59:35,138 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:35,139 DEBUG 2029 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-12 10:59:35,141 DEBUG 2029 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-11 00:00:00.0(Timestamp), 2019-07-11 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-12 10:59:35,146 DEBUG 2029 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-12 10:59:35,146  INFO 2029 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: alipay, date: 2019-07-11T10:59:32.555 - result paysCount: 0, refundsCount: 0
2019-07-12 10:59:35,200  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-11T10:59:32.555] createCompareBatch successful
2019-07-12 10:59:35,203 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:35,204 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190711(String)
2019-07-12 10:59:35,208 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-12 10:59:35,209  INFO 2029 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=wx, billDate=Thu Jul 11 10:59:32 CST 2019)
2019-07-12 10:59:35,209  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190711: DownloadBillRequestVO(appId=101, payType=wx, billDate=Thu Jul 11 10:59:32 CST 2019)
2019-07-12 10:59:35,210  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190711 request: {nonce_str=tg0IgCDkkKMGEnm27xpSbVtqL32ii9Wn, bill_date=20190711, appid=wxf712db1e1042a294, sign=E6ABBAEA398D97858EDCD4E672525720980C409F9B784E1AF4AC82259972474C, bill_type=ALL, mch_id=1367026602, sign_type=HMAC-SHA256}
2019-07-12 10:59:35,424  INFO 2029 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,tg0IgCDkkKMGEnm27xpSbVtqL32ii9Wn,1562900375,212,api.mch.weixin.qq.com,true,6000,8000,0,0,0,ECB05AD65CD68B1467375D0DB94145BB0896988CD9911F5C65ADBA8DCA534435
2019-07-12 10:59:35,425  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : ﻿交易时间,公众账号ID,商户号,子商户号,设备号,微信订单号,商户订单号,用户标识,交易类型,交易状态,付款银行,货币种类,总金额,企业红包金额,微信退款单号,商户退款单号,退款金额,企业红包退款金额,退款类型,退款状态,商品名称,商户数据包,手续费,费率
`2019-07-11 12:04:10,`wxf712db1e1042a294,`1367026602,`0,`,`4200000353201907110510275492,`10110011562817840366334,`oF9zhvsUcqSGU25u1a6ydGAnz46U,`MWEB,`SUCCESS,`CMB_DEBIT,`CNY,`368.00,`0.00,`0,`0,`0.00,`0.00,`,`,`【618特惠】爆款断货王skg按摩仪便携式颈部热敷电极片按摩4098李佳琦同款蒋梦婕代言,`,`2.21000,`0.60%
`2019-07-11 22:38:01,`wxf712db1e1042a294,`1367026602,`0,`,`4200000340201907110417920046,`10110011562855873366344,`oF9zhvtcUozGHi86IF0G_kJ3WOds,`JSAPI,`SUCCESS,`CFT,`CNY,`97.00,`0.00,`0,`0,`0.00,`0.00,`,`,`限时特惠法国欧缇丽大葡萄喷雾200ml,`,`0.58000,`0.60%
`2019-07-11 11:25:22,`wxf712db1e1042a294,`1367026602,`0,`,`4200000353201907110955023921,`10110011562815512366333,`oF9zhvlcw9XX2yHTVku_VvbTVqzM,`JSAPI,`SUCCESS,`HXB_DEBIT,`CNY,`155.00,`0.00,`0,`0,`0.00,`0.00,`,`,`nathome北欧欧慕折叠水壶旅行电热水壶便携式烧水壶可压缩nsh0711,`,`0.93000,`0.60%
`2019-07-11 16:07:07,`wxde9d2081b4401862,`1367026602,`0,`,`4200000356201907119713420895,`10110011562832420366338,`o2st65Xf59UzUqdqHGjfP2i8mBC8,`JSAPI,`SUCCESS,`GZCB_CREDIT,`CNY,`72.00,`0.00,`0,`0,`0.00,`0.00,`,`,`[限时特惠]遮阳帽女大号韩版出游沙滩帽防晒折叠大檐纯棉帽子太阳帽渔夫帽女,`,`0.43000,`0.60%
总交易单数,总交易额,总退款金额,总企业红包退款金额,手续费总金额
`4,`692.00,`0.00,`0.00,`4.15000

2019-07-12 10:59:35,425  INFO 2029 --- [pool-3-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,tg0IgCDkkKMGEnm27xpSbVtqL32ii9Wn,1562900375,212,api.mch.weixin.qq.com,true,6000,8000,0,0,0,ECB05AD65CD68B1467375D0DB94145BB0896988CD9911F5C65ADBA8DCA534435
2019-07-12 10:59:35,425  INFO 2029 --- [pool-3-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-12 10:59:35,425  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190711 response content size: 1256
2019-07-12 10:59:35,425  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : bill file write to [wx_101_20190711.csv]
2019-07-12 10:59:35,430  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : bill file [wx_101_20190711.csv] write success
2019-07-12 10:59:35,437 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,438 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562817840366334(String), wx(String), 101(String)
2019-07-12 10:59:35,441 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,442 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:35,445 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190711(String), 10110011562817840366334(String), 4200000353201907110510275492(String), 36800(Integer), 221(Integer), null, {"merchant_income_charge":368.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000353201907110510275492","商户订单号":"10110011562817840366334","用户标识":"oF9zhvsUcqSGU25u1a6ydGAnz46U","交易类型":"MWEB","交易状态":"SUCCESS","付款银行":"CMB_DEBIT","货币种类":"CNY","总金额":368.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"【618特惠】爆款断货王skg按摩仪便携式颈部热敷电极片按摩4098李佳琦同款蒋梦婕代言","手续费":2.21000,"费率":"0.60%"}(String), 2019-07-12 10:59:35.437(Timestamp)
2019-07-12 10:59:35,449 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-12 10:59:35,450 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,451 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562855873366344(String), wx(String), 101(String)
2019-07-12 10:59:35,456 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,456 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:35,457 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190711(String), 10110011562855873366344(String), 4200000340201907110417920046(String), 9700(Integer), 58(Integer), null, {"merchant_income_charge":97.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000340201907110417920046","商户订单号":"10110011562855873366344","用户标识":"oF9zhvtcUozGHi86IF0G_kJ3WOds","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":97.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"限时特惠法国欧缇丽大葡萄喷雾200ml","手续费":0.58000,"费率":"0.60%"}(String), 2019-07-12 10:59:35.45(Timestamp)
2019-07-12 10:59:35,461 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-12 10:59:35,462 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,463 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562815512366333(String), wx(String), 101(String)
2019-07-12 10:59:35,465 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,465 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:35,466 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190711(String), 10110011562815512366333(String), 4200000353201907110955023921(String), 15500(Integer), 93(Integer), null, {"merchant_income_charge":155.00,"公众账号ID":"wxf712db1e1042a294","商户号":"1367026602","子商户号":"0","微信订单号":"4200000353201907110955023921","商户订单号":"10110011562815512366333","用户标识":"oF9zhvlcw9XX2yHTVku_VvbTVqzM","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"HXB_DEBIT","货币种类":"CNY","总金额":155.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"nathome北欧欧慕折叠水壶旅行电热水壶便携式烧水壶可压缩nsh0711","手续费":0.93000,"费率":"0.60%"}(String), 2019-07-12 10:59:35.462(Timestamp)
2019-07-12 10:59:35,469 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-12 10:59:35,470 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,471 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562832420366338(String), wx(String), 101(String)
2019-07-12 10:59:35,473 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,474 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:35,475 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), wx(String), 20190711(String), 10110011562832420366338(String), 4200000356201907119713420895(String), 7200(Integer), 43(Integer), null, {"merchant_income_charge":72.00,"公众账号ID":"wxde9d2081b4401862","商户号":"1367026602","子商户号":"0","微信订单号":"4200000356201907119713420895","商户订单号":"10110011562832420366338","用户标识":"o2st65Xf59UzUqdqHGjfP2i8mBC8","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"GZCB_CREDIT","货币种类":"CNY","总金额":72.00,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"[限时特惠]遮阳帽女大号韩版出游沙滩帽防晒折叠大檐纯棉帽子太阳帽渔夫帽女","手续费":0.43000,"费率":"0.60%"}(String), 2019-07-12 10:59:35.47(Timestamp)
2019-07-12 10:59:35,480 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-12 10:59:35,484 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:35,485 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190711(String)
2019-07-12 10:59:35,492 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-12 10:59:35,492 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-12 10:59:35,494 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190711(String), 4(Integer), 0(Integer), 69200(Integer), 0(Integer), 4(Integer), {"总交易单数":4,"总交易额":692.00,"总退款金额":0.00,"手续费总金额":4.15000}(String), null
2019-07-12 10:59:35,498 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-12 10:59:35,499 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:35,499 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190711(String)
2019-07-12 10:59:35,502 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-12 10:59:35,502 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:35,503 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190711(String), null, null
2019-07-12 10:59:35,507 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-12 10:59:35,533  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-11T10:59:32.555] parse successful
2019-07-12 10:59:35,534 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-12 10:59:35,534 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190711(String), wx(String)
2019-07-12 10:59:35,542 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 4
2019-07-12 10:59:35,544 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-12 10:59:35,544 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562817840366334(String), wx(String)
2019-07-12 10:59:35,548 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,549  INFO 2029 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562817840366334)
2019-07-12 10:59:35,549  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562817840366334,payType=wx,appId=101
2019-07-12 10:59:35,552  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562817840366334
2019-07-12 10:59:35,553 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-12 10:59:35,553 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562817840366334(String), wx(String)
2019-07-12 10:59:35,558 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-12 10:59:35,560 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-12 10:59:35,560 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562817840366334(String), wx(String)
2019-07-12 10:59:35,564 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-12 10:59:35,565  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562817840366334
2019-07-12 10:59:35,566 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,567 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562817840366334(String), wx(String), 101(String)
2019-07-12 10:59:35,570 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,571 ERROR 2029 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011562817840366334] exception: not find PayRequestLog record by [orderNo:10110011562817840366334,payType:wx] 
2019-07-12 10:59:35,572 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-12 10:59:35,572 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562855873366344(String), wx(String)
2019-07-12 10:59:35,575 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,576  INFO 2029 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562855873366344)
2019-07-12 10:59:35,577  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562855873366344,payType=wx,appId=101
2019-07-12 10:59:35,577  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562855873366344
2019-07-12 10:59:35,577 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-12 10:59:35,578 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562855873366344(String), wx(String)
2019-07-12 10:59:35,581 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-12 10:59:35,582 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-12 10:59:35,582 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562855873366344(String), wx(String)
2019-07-12 10:59:35,586 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-12 10:59:35,588  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562855873366344
2019-07-12 10:59:35,589 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,590 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562855873366344(String), wx(String), 101(String)
2019-07-12 10:59:35,593 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,596 ERROR 2029 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011562855873366344] exception: not find PayRequestLog record by [orderNo:10110011562855873366344,payType:wx] 
2019-07-12 10:59:35,597 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-12 10:59:35,597 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562815512366333(String), wx(String)
2019-07-12 10:59:35,602 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,602  INFO 2029 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562815512366333)
2019-07-12 10:59:35,602  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562815512366333,payType=wx,appId=101
2019-07-12 10:59:35,603  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562815512366333
2019-07-12 10:59:35,603 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-12 10:59:35,604 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562815512366333(String), wx(String)
2019-07-12 10:59:35,610 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-12 10:59:35,611 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-12 10:59:35,612 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562815512366333(String), wx(String)
2019-07-12 10:59:35,615 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-12 10:59:35,616  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562815512366333
2019-07-12 10:59:35,616 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,616 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562815512366333(String), wx(String), 101(String)
2019-07-12 10:59:35,619 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,620 ERROR 2029 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011562815512366333] exception: not find PayRequestLog record by [orderNo:10110011562815512366333,payType:wx] 
2019-07-12 10:59:35,620 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-12 10:59:35,620 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562832420366338(String), wx(String)
2019-07-12 10:59:35,626 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,628  INFO 2029 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562832420366338)
2019-07-12 10:59:35,629  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562832420366338,payType=wx,appId=101
2019-07-12 10:59:35,629  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562832420366338
2019-07-12 10:59:35,630 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-12 10:59:35,631 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562832420366338(String), wx(String)
2019-07-12 10:59:35,634 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-12 10:59:35,635 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-12 10:59:35,635 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562832420366338(String), wx(String)
2019-07-12 10:59:35,638 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-12 10:59:35,641  INFO 2029 --- [           main] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562832420366338
2019-07-12 10:59:35,642 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,643 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562832420366338(String), wx(String), 101(String)
2019-07-12 10:59:35,645 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:35,646 ERROR 2029 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : payQuery [10110011562832420366338] exception: not find PayRequestLog record by [orderNo:10110011562832420366338,payType:wx] 
2019-07-12 10:59:35,646 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,647 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190711(String), wx(String), 101(String)
2019-07-12 10:59:35,649 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:35,652 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-12 10:59:35,653 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), wx20190711(String)
2019-07-12 10:59:35,657 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-12 10:59:35,658 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:35,659 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190711(String)
2019-07-12 10:59:35,663 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:59:35,664 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-12 10:59:35,667 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), wx20190711(String), wx(String), 20190711(String), 2019-07-12 10:59:35.664(Timestamp)
2019-07-12 10:59:35,672 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-12 10:59:35,673 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:35,674 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190711(String)
2019-07-12 10:59:35,678 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-12 10:59:35,679 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-12 10:59:35,680 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190711(String), wx(String)
2019-07-12 10:59:35,687 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 4
2019-07-12 10:59:35,688 DEBUG 2029 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-12 10:59:35,692 DEBUG 2029 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-11 00:00:00.0(Timestamp), 2019-07-11 23:59:59.999(Timestamp), wx(String), 101(String)
2019-07-12 10:59:35,695 DEBUG 2029 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-12 10:59:35,697 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:35,697 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190711(String), wx(String), 101(String)
2019-07-12 10:59:35,700 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:35,701 DEBUG 2029 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-12 10:59:35,702 DEBUG 2029 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-11 00:00:00.0(Timestamp), 2019-07-11 23:59:59.999(Timestamp), wx(String), 101(String)
2019-07-12 10:59:35,705 DEBUG 2029 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-12 10:59:35,705  INFO 2029 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: wx, date: 2019-07-11T10:59:32.555 - result paysCount: 4, refundsCount: 0
2019-07-12 10:59:35,720 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.batchSave                  : ==>  Preparing: INSERT INTO pay_center3_bill_compare_detail (`batch_id`, `pay_type`, `operate_type`, `order_no`, `refund_no`, `bill_amount`, `request_amount`, `trade_time`, `compare_status`, `compare_desc`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:35,724 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.batchSave                  : ==> Parameters: 279(Integer), wx(String), 支付(String), 10110011562817840366334(String), null, 36800(Integer), null, 2019-07-12 23:58:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 279(Integer), wx(String), 支付(String), 10110011562855873366344(String), null, 9700(Integer), null, 2019-07-12 23:58:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 279(Integer), wx(String), 支付(String), 10110011562815512366333(String), null, 15500(Integer), null, 2019-07-12 23:58:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 279(Integer), wx(String), 支付(String), 10110011562832420366338(String), null, 7200(Integer), null, 2019-07-12 23:58:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null
2019-07-12 10:59:35,728 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.batchSave                  : <==    Updates: 4
2019-07-12 10:59:35,736 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.update                     : ==>  Preparing: update pay_center3_bill_compare_batch set `mistake_count` = ?, `unhandle_mistake_count` = ?, `bill_pay_count` = ?, `request_pay_count` = ?, `bill_refund_count` = ?, `request_refund_count` = ?, `bill_pay_amount` = ?, `request_pay_amount` = ?, `bill_refund_amount` = ?, `request_refund_amount` = ?, `pay_service_charge` = ?, `refund_service_charge` = ? where id = ? 
2019-07-12 10:59:35,737 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.update                     : ==> Parameters: 4(Integer), 4(Integer), 4(Integer), 0(Integer), 0(Integer), 0(Integer), 69200(Integer), 0(Integer), 0(Integer), 0(Integer), 415(Integer), 0(Integer), 279(Integer)
2019-07-12 10:59:35,742 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.update                     : <==    Updates: 1
2019-07-12 10:59:35,775  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-11T10:59:32.555] createCompareBatch successful
2019-07-12 10:59:35,778 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:35,779 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190710(String)
2019-07-12 10:59:35,783 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:59:35,789  WARN 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-10T10:59:32.555] parse exception: 账单[20190710]已解析
2019-07-12 10:59:35,790 ERROR 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$45f1d0e3.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.timer.BillDownloadTimerTest.billDownloadTask(BillDownloadTimerTest.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-12 10:59:35,793 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:35,794 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190711(String)
2019-07-12 10:59:35,797 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-12 10:59:35,797  INFO 2029 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=501, payType=wx, billDate=Thu Jul 11 10:59:32 CST 2019)
2019-07-12 10:59:35,798  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190711: DownloadBillRequestVO(appId=501, payType=wx, billDate=Thu Jul 11 10:59:32 CST 2019)
2019-07-12 10:59:35,799  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190711 request: {nonce_str=xBXVHn6DH0aa23aHZzEwDUB99wS6l2L1, bill_date=20190711, appid=wx1e86ddc5b2485ab2, sign=ECCE088CC43327C19D0AF4185C9A1E73D493347D1C262B039A977ADF2D91D56C, bill_type=ALL, mch_id=1429146602, sign_type=HMAC-SHA256}
2019-07-12 10:59:36,043  INFO 2029 --- [           main] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,xBXVHn6DH0aa23aHZzEwDUB99wS6l2L1,1562900376,239,api.mch.weixin.qq.com,true,6000,8000,0,0,0,AF968F5690BF5DC33F7BE686B81A37209F23303BA866A449D8AAD494DCFABC6C
2019-07-12 10:59:36,047  INFO 2029 --- [pool-4-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,xBXVHn6DH0aa23aHZzEwDUB99wS6l2L1,1562900376,239,api.mch.weixin.qq.com,true,6000,8000,0,0,0,AF968F5690BF5DC33F7BE686B81A37209F23303BA866A449D8AAD494DCFABC6C
2019-07-12 10:59:36,047  INFO 2029 --- [pool-4-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-12 10:59:36,047  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : ﻿交易时间,公众账号ID,商户号,子商户号,设备号,微信订单号,商户订单号,用户标识,交易类型,交易状态,付款银行,货币种类,总金额,企业红包金额,微信退款单号,商户退款单号,退款金额,企业红包退款金额,退款类型,退款状态,商品名称,商户数据包,手续费,费率
`2019-07-11 15:31:20,`wxc9d0a70977ecf5fe,`1429146602,`0,`,`4200000342201907114597414788,`10110011562830276364318,`oSyi-4jrMh4wtNEJDSMk-h-wxcUM,`JSAPI,`SUCCESS,`CFT,`CNY,`0.05,`0.00,`0,`0,`0.00,`0.00,`,`,`发给34524香港总部,`,`0.00000,`0.60%
`2019-07-11 14:24:32,`wxc9d0a70977ecf5fe,`1429146602,`0,`,`4200000348201907119554505787,`10110011562826265364297,`oSyi-4jrMh4wtNEJDSMk-h-wxcUM,`JSAPI,`SUCCESS,`CFT,`CNY,`0.05,`0.00,`0,`0,`0.00,`0.00,`,`,`发给34524香港总部,`,`0.00000,`0.60%
`2019-07-11 16:32:31,`wx9b5cb757426e00d9,`1429146602,`0,`,`4200000339201907117980895446,`10110011562833364364329,`ok1_lw3e743joDk95Hb9U153nwk8,`NATIVE,`SUCCESS,`CFT,`CNY,`0.05,`0.00,`0,`0,`0.00,`0.00,`,`,`发给34524香港总部,`,`0.00000,`0.60%
`2019-07-11 14:45:17,`wxc9d0a70977ecf5fe,`1429146602,`0,`,`4200000343201907119644236924,`10110011562827494364311,`oSyi-4jrMh4wtNEJDSMk-h-wxcUM,`JSAPI,`SUCCESS,`CFT,`CNY,`0.05,`0.00,`0,`0,`0.00,`0.00,`,`,`发给34524香港总部,`,`0.00000,`0.60%
`2019-07-11 15:29:59,`wxc9d0a70977ecf5fe,`1429146602,`0,`,`4200000356201907117039844605,`10110011562830188364317,`oSyi-4jrMh4wtNEJDSMk-h-wxcUM,`JSAPI,`SUCCESS,`CFT,`CNY,`0.05,`0.00,`0,`0,`0.00,`0.00,`,`,`发给34524香港总部,`,`0.00000,`0.60%
总交易单数,总交易额,总退款金额,总企业红包退款金额,手续费总金额
`5,`0.25,`0.00,`0.00,`0.00000

2019-07-12 10:59:36,047  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190711 response content size: 1373
2019-07-12 10:59:36,047  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : bill file write to [wx_501_20190711.csv]
2019-07-12 10:59:36,048  INFO 2029 --- [           main] c.i.p.m.t.service.impl.WxServiceImpl     : bill file [wx_501_20190711.csv] write success
2019-07-12 10:59:36,050 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:36,053 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562830276364318(String), wx(String), 501(String)
2019-07-12 10:59:36,056 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:36,057 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:36,059 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190711(String), 10110011562830276364318(String), 4200000342201907114597414788(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000342201907114597414788","商户订单号":"10110011562830276364318","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":0.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"发给34524香港总部","手续费":0.00000,"费率":"0.60%"}(String), 2019-07-12 10:59:36.049(Timestamp)
2019-07-12 10:59:36,063 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-12 10:59:36,065 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:36,065 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562826265364297(String), wx(String), 501(String)
2019-07-12 10:59:36,068 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:36,068 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:36,069 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190711(String), 10110011562826265364297(String), 4200000348201907119554505787(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000348201907119554505787","商户订单号":"10110011562826265364297","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":0.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"发给34524香港总部","手续费":0.00000,"费率":"0.60%"}(String), 2019-07-12 10:59:36.064(Timestamp)
2019-07-12 10:59:36,074 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-12 10:59:36,075 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:36,075 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562833364364329(String), wx(String), 501(String)
2019-07-12 10:59:36,078 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:36,078 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:36,079 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190711(String), 10110011562833364364329(String), 4200000339201907117980895446(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000339201907117980895446","商户订单号":"10110011562833364364329","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","交易类型":"NATIVE","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":0.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"发给34524香港总部","手续费":0.00000,"费率":"0.60%"}(String), 2019-07-12 10:59:36.074(Timestamp)
2019-07-12 10:59:36,082 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-12 10:59:36,083 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:36,083 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562827494364311(String), wx(String), 501(String)
2019-07-12 10:59:36,087 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:36,087 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:36,088 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190711(String), 10110011562827494364311(String), 4200000343201907119644236924(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000343201907119644236924","商户订单号":"10110011562827494364311","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":0.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"发给34524香港总部","手续费":0.00000,"费率":"0.60%"}(String), 2019-07-12 10:59:36.083(Timestamp)
2019-07-12 10:59:36,092 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-12 10:59:36,093 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:36,094 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562830188364317(String), wx(String), 501(String)
2019-07-12 10:59:36,096 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-12 10:59:36,097 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:36,107 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 501(String), wx(String), 20190711(String), 10110011562830188364317(String), 4200000356201907117039844605(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000356201907117039844605","商户订单号":"10110011562830188364317","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","交易类型":"JSAPI","交易状态":"SUCCESS","付款银行":"CFT","货币种类":"CNY","总金额":0.05,"微信退款单号":"0","商户退款单号":"0","退款金额":0.00,"退款类型":"","退款状态":"","商品名称":"发给34524香港总部","手续费":0.00000,"费率":"0.60%"}(String), 2019-07-12 10:59:36.093(Timestamp)
2019-07-12 10:59:36,118 DEBUG 2029 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-12 10:59:36,119 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:36,120 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190711(String)
2019-07-12 10:59:36,122 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-12 10:59:36,123 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-12 10:59:36,123 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190711(String), 5(Integer), 0(Integer), 25(Integer), 0(Integer), 0(Integer), {"总交易单数":5,"总交易额":0.25,"总退款金额":0.00,"手续费总金额":0.00000}(String), null
2019-07-12 10:59:36,129 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-12 10:59:36,130 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:36,130 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190711(String)
2019-07-12 10:59:36,132 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-12 10:59:36,133 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:36,134 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190711(String), null, null
2019-07-12 10:59:36,137 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-12 10:59:36,167  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-11T10:59:32.555] parse successful
2019-07-12 10:59:36,168 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-12 10:59:36,169 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 501(String), 20190711(String), wx(String)
2019-07-12 10:59:36,177 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 5
2019-07-12 10:59:36,178 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-12 10:59:36,178 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 501(String), 10110011562830276364318(String), wx(String)
2019-07-12 10:59:36,188 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-12 10:59:36,189 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-12 10:59:36,189 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 501(String), 10110011562826265364297(String), wx(String)
2019-07-12 10:59:36,193 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-12 10:59:36,195 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-12 10:59:36,195 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 501(String), 10110011562833364364329(String), wx(String)
2019-07-12 10:59:36,199 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-12 10:59:36,200 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-12 10:59:36,200 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 501(String), 10110011562827494364311(String), wx(String)
2019-07-12 10:59:36,204 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-12 10:59:36,205 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-12 10:59:36,206 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 501(String), 10110011562830188364317(String), wx(String)
2019-07-12 10:59:36,209 DEBUG 2029 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-12 10:59:36,210 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:36,211 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190711(String), wx(String), 501(String)
2019-07-12 10:59:36,214 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:36,217 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-12 10:59:36,217 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 501(String), wx20190711(String)
2019-07-12 10:59:36,224 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-12 10:59:36,224 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:36,225 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190711(String)
2019-07-12 10:59:36,228 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 10:59:36,228 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-12 10:59:36,229 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 501(String), wx20190711(String), wx(String), 20190711(String), 2019-07-12 10:59:36.228(Timestamp)
2019-07-12 10:59:36,234 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-12 10:59:36,235 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 10:59:36,236 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190711(String)
2019-07-12 10:59:36,241 DEBUG 2029 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-12 10:59:36,242 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-12 10:59:36,243 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 501(String), 20190711(String), wx(String)
2019-07-12 10:59:36,267 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 5
2019-07-12 10:59:36,267 DEBUG 2029 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-12 10:59:36,268 DEBUG 2029 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-11 00:00:00.0(Timestamp), 2019-07-11 23:59:59.999(Timestamp), wx(String), 501(String)
2019-07-12 10:59:36,274 DEBUG 2029 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-12 10:59:36,275 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-12 10:59:36,275 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190711(String), wx(String), 501(String)
2019-07-12 10:59:36,279 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 10:59:36,280 DEBUG 2029 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-12 10:59:36,281 DEBUG 2029 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-11 00:00:00.0(Timestamp), 2019-07-11 23:59:59.999(Timestamp), wx(String), 501(String)
2019-07-12 10:59:36,290 DEBUG 2029 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-12 10:59:36,293  INFO 2029 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 501, payType: wx, date: 2019-07-11T10:59:32.555 - result paysCount: 5, refundsCount: 0
2019-07-12 10:59:36,295 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.batchSave                  : ==>  Preparing: INSERT INTO pay_center3_bill_compare_detail (`batch_id`, `pay_type`, `operate_type`, `order_no`, `refund_no`, `bill_amount`, `request_amount`, `trade_time`, `compare_status`, `compare_desc`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-12 10:59:36,298 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.batchSave                  : ==> Parameters: 280(Integer), wx(String), 支付(String), 10110011562830276364318(String), null, 5(Integer), null, 2019-07-12 23:58:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 280(Integer), wx(String), 支付(String), 10110011562826265364297(String), null, 5(Integer), null, 2019-07-12 23:58:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 280(Integer), wx(String), 支付(String), 10110011562833364364329(String), null, 5(Integer), null, 2019-07-12 23:58:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 280(Integer), wx(String), 支付(String), 10110011562827494364311(String), null, 5(Integer), null, 2019-07-12 23:58:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 280(Integer), wx(String), 支付(String), 10110011562830188364317(String), null, 5(Integer), null, 2019-07-12 23:58:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null
2019-07-12 10:59:36,312 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.batchSave                  : <==    Updates: 5
2019-07-12 10:59:36,313 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.update                     : ==>  Preparing: update pay_center3_bill_compare_batch set `mistake_count` = ?, `unhandle_mistake_count` = ?, `bill_pay_count` = ?, `request_pay_count` = ?, `bill_refund_count` = ?, `request_refund_count` = ?, `bill_pay_amount` = ?, `request_pay_amount` = ?, `bill_refund_amount` = ?, `request_refund_amount` = ?, `pay_service_charge` = ?, `refund_service_charge` = ? where id = ? 
2019-07-12 10:59:36,314 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.update                     : ==> Parameters: 5(Integer), 5(Integer), 5(Integer), 0(Integer), 0(Integer), 0(Integer), 25(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 280(Integer)
2019-07-12 10:59:36,323 DEBUG 2029 --- [           main] c.i.p.m.t.d.B.update                     : <==    Updates: 1
2019-07-12 10:59:36,350  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-11T10:59:32.555] createCompareBatch successful
2019-07-12 10:59:36,350  INFO 2029 --- [           main] c.i.payment.timer.BillDownloadTimer      : task billDownload finished...
2019-07-12 10:59:36,366  INFO 2029 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-12 10:59:36,368  INFO 2029 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-12 10:59:36,385  INFO 2029 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-12 11:40:55,483  INFO 3959 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 3959 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-12 11:40:55,491  INFO 3959 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-12 11:40:55,586  INFO 3959 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-07-12 11:40:55,587  INFO 3959 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-07-12 11:40:58,140  INFO 3959 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$22bcd60d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-12 11:40:58,310  INFO 3959 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$44ce5caf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-12 11:40:58,397  INFO 3959 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4f0ac48a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-12 11:40:58,461  INFO 3959 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-12 11:40:59,137  INFO 3959 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-12 11:40:59,328  INFO 3959 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3741 ms
2019-07-12 11:40:59,712  INFO 3959 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-12 11:41:00,787  INFO 3959 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-12 11:41:01,298  INFO 3959 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-12 11:41:01,323  INFO 3959 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-12 11:41:01,335  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-12 11:41:01,339  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 11:41:01,340  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 11:41:01,341  INFO 3959 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-12 11:41:01,341  INFO 3959 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-12 11:41:01,342  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1367026602.p12]
2019-07-12 11:41:01,343  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 11:41:01,343  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxf712db1e1042a294, mchid=1367026602, certPath=classpath:cert/wx/apiclient_cert-1367026602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 11:41:01,344  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-12 11:41:01,344  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 11:41:01,345  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 11:41:01,345  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-12 11:41:01,346  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 11:41:01,346  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 11:41:01,347  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-12 11:41:01,348  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-12 11:41:01,349  INFO 3959 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-12 11:41:02,131  INFO 3959 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$d2809ad8
2019-07-12 11:41:02,143  INFO 3959 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$ede66893
2019-07-12 11:41:02,255  INFO 3959 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-12 11:41:02,257  INFO 3959 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-12 11:41:02,942  INFO 3959 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-12 11:41:03,330  INFO 3959 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-12 11:41:03,362  INFO 3959 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-12 11:41:03,744  INFO 3959 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-12 11:41:04,921  INFO 3959 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-12 11:41:04,928  INFO 3959 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 10.46 seconds (JVM running for 11.101)
2019-07-12 11:41:35,278  INFO 3959 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-07-12 11:41:35,299  INFO 3959 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 20 ms
2019-07-12 11:41:35,591  INFO 3959 --- [nio-9999-exec-2] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: start 对账触发接口
2019-07-12 11:41:35,592  INFO 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : task billDownload start...
2019-07-12 11:41:35,806 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:35,859 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190710(String)
2019-07-12 11:41:35,911 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 11:41:35,922  WARN 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-10T11:41:35.595] parse exception: 账单[20190710]已解析
2019-07-12 11:41:35,952 ERROR 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$46c2db0b.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-12 11:41:35,959 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:35,959 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190710(String)
2019-07-12 11:41:35,964 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 11:41:35,970  WARN 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-10T11:41:35.595] parse exception: 账单[20190710]已解析
2019-07-12 11:41:35,987 ERROR 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$46c2db0b.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-12 11:41:35,992 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:35,993 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190711(String)
2019-07-12 11:41:35,996 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-12 11:41:36,009  INFO 3959 --- [nio-9999-exec-2] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Thu Jul 11 11:41:35 CST 2019)
2019-07-12 11:41:36,011  INFO 3959 --- [nio-9999-exec-2] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190711: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Thu Jul 11 11:41:35 CST 2019)
2019-07-12 11:41:36,022  INFO 3959 --- [nio-9999-exec-2] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=503,appId=alipay,config=AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-12 11:41:36,082  INFO 3959 --- [nio-9999-exec-2] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190711 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-11","bill_type":"trade"},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse","text_params":{},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query"}
2019-07-12 11:41:36,477 ERROR 3959 --- [nio-9999-exec-2] sdk.biz.err                              : ErrorScene^_^40004^_^isp.bill_not_exist^_^null^_^Mac OS X^_^2019-07-12 11:41:36^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=KpISa3mgJ5+VTw5FFrcRwi02tL2warmq+kcig307ev1red7onbtnBhwK/4YqHxUc3dqPQialIpy8KjHzEdVFORkzcMxPFznN4WLQ3kIPKh2AZk8l+5BwmuQfH1JI2qdcEY3wDpxchTs+6wWPf8YanJ5LHf5biNo4Jkm3XkP6DI6L5+dSBZXx4APa73pWXOIjIdzDOdGUdM87UZK/jUtBr6RI79d50cAczwLjOgpoaQhmsUl9CTn0Fs4pZDSCDc8/TbNCxdE0PVmIte/WJMwfBRM87RanwHWCX8IQZjMPD7cMod2fZMsdLDfZ8oamUim0l7Fp7ZTsrtNPWKEbTu5kFQ==&version=1.0&app_id=2018042660058300&sign_type=RSA2&timestamp=2019-07-12 11:41:36^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-11","bill_type":"trade"}^_^Body:{"alipay_data_dataservice_bill_downloadurl_query_response":{"code":"40004","msg":"Business Failed","sub_code":"isp.bill_not_exist","sub_msg":"账单不存在"},"sign":"Gq+kjxgtcIxPkqPaWE44LRxNLhZgQQ9URlgEk4FhMivzPrH/I8kvXpJddhQqUof66/u6AJGeyIUxWlhjJH6JGubeRpTPS+vGcSd7qndlX47YKvxe4PIrRpxiM95dPkXrtdDVkGW4y6vDOj8Wg3Ullh/Q2PVXmNa9XxJ8ka5iuUtNA+Y1/t/QvlUcf7QI35IqkQLHZrht30LNsDh20++fT65gb8FV4nVdbvvkiX0yiAiZVAW90o/EWSdYktEIMGfH5wYBqLhQRMATtZeQ49Ya3lj3Ja+fnCNh92WNciuFoZm9Uk4wCnyJ5k4SO06FlOqwpX0s0X7ePyw+IKhDEciSOw=="}^_^61ms,314ms,17ms
2019-07-12 11:41:36,480  INFO 3959 --- [nio-9999-exec-2] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190711 response: {"code":"40004","msg":"Business Failed","sub_code":"isp.bill_not_exist","sub_msg":"账单不存在","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"isp.bill_not_exist\",\"sub_msg\":\"账单不存在\"},\"sign\":\"Gq+kjxgtcIxPkqPaWE44LRxNLhZgQQ9URlgEk4FhMivzPrH/I8kvXpJddhQqUof66/u6AJGeyIUxWlhjJH6JGubeRpTPS+vGcSd7qndlX47YKvxe4PIrRpxiM95dPkXrtdDVkGW4y6vDOj8Wg3Ullh/Q2PVXmNa9XxJ8ka5iuUtNA+Y1/t/QvlUcf7QI35IqkQLHZrht30LNsDh20++fT65gb8FV4nVdbvvkiX0yiAiZVAW90o/EWSdYktEIMGfH5wYBqLhQRMATtZeQ49Ya3lj3Ja+fnCNh92WNciuFoZm9Uk4wCnyJ5k4SO06FlOqwpX0s0X7ePyw+IKhDEciSOw==\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-11\",\"bill_type\":\"trade\"}"},"success":false,"error_code":"40004"}
2019-07-12 11:41:36,481  WARN 3959 --- [nio-9999-exec-2] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: Business Failed # isp.bill_not_exist # 账单不存在
2019-07-12 11:41:36,483 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-12 11:41:36,485 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), alipay(String), 20190711(String), null, Business Failed # isp.bill_not_exist # 账单不存在(String)
2019-07-12 11:41:36,491 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-12 11:41:36,550  INFO 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-11T11:41:35.595] parse successful
2019-07-12 11:41:36,554 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-12 11:41:36,555 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 503(String), 20190711(String), alipay(String)
2019-07-12 11:41:36,570 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 11:41:36,572 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-12 11:41:36,575 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190711(String), alipay(String), 503(String)
2019-07-12 11:41:36,579 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-12 11:41:36,582 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-12 11:41:36,583 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), alipay20190711(String)
2019-07-12 11:41:36,588 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-12 11:41:36,589 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:36,589 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190711(String)
2019-07-12 11:41:36,593 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 11:41:36,594 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-12 11:41:36,599 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), alipay20190711(String), alipay(String), 20190711(String), 2019-07-12 11:41:36.594(Timestamp)
2019-07-12 11:41:36,603 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-12 11:41:36,605 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:36,605 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190711(String)
2019-07-12 11:41:36,609 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-12 11:41:36,610  INFO 3959 --- [nio-9999-exec-2] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: alipay, date: 2019-07-11T11:41:35.595 - result is Null
2019-07-12 11:41:36,646  INFO 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-11T11:41:35.595] createCompareBatch successful
2019-07-12 11:41:36,648 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:36,649 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190711(String)
2019-07-12 11:41:36,655 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 11:41:36,662  WARN 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-11T11:41:35.595] parse exception: 账单[20190711]已解析
2019-07-12 11:41:36,662 ERROR 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190711]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$46c2db0b.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-12 11:41:36,665 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:36,666 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190710(String)
2019-07-12 11:41:36,669 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 11:41:36,674  WARN 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-10T11:41:35.595] parse exception: 账单[20190710]已解析
2019-07-12 11:41:36,675 ERROR 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$46c2db0b.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-12 11:41:36,678 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:36,679 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190710(String)
2019-07-12 11:41:36,683 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 11:41:36,688  WARN 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-10T11:41:35.595] parse exception: 账单[20190710]已解析
2019-07-12 11:41:36,689 ERROR 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$46c2db0b.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-12 11:41:36,692 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:36,693 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-12 11:41:36,697 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 11:41:36,702  WARN 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-11T11:41:35.595] parse exception: 账单[20190711]已解析
2019-07-12 11:41:36,703 ERROR 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190711]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$46c2db0b.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:52)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-12 11:41:36,707 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:36,708 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190711(String)
2019-07-12 11:41:36,712 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 11:41:36,719  WARN 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-11T11:41:35.595] parse exception: 账单[20190711]已解析
2019-07-12 11:41:36,719 ERROR 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190711]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$46c2db0b.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-12 11:41:36,722 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:36,724 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190710(String)
2019-07-12 11:41:36,729 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 11:41:36,744  WARN 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-10T11:41:35.595] parse exception: 账单[20190710]已解析
2019-07-12 11:41:36,745 ERROR 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$46c2db0b.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-12 11:41:36,749 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-12 11:41:36,750 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190711(String)
2019-07-12 11:41:36,755 DEBUG 3959 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-12 11:41:36,760  WARN 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-11T11:41:35.595] parse exception: 账单[20190711]已解析
2019-07-12 11:41:36,761 ERROR 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190711]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$46c2db0b.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimer.billDownloadTask(BillDownloadTimer.java:55)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-12 11:41:36,761  INFO 3959 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : task billDownload finished...
2019-07-12 11:41:36,762  INFO 3959 --- [nio-9999-exec-2] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: end 对账触发接口
2019-07-12 11:42:12,568  INFO 3959 --- [      Thread-11] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-12 11:42:12,575  INFO 3959 --- [      Thread-11] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-12 11:42:12,595  INFO 3959 --- [      Thread-11] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
