2019-07-22 14:34:00,856  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 1361 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 14:34:00,878  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 14:34:01,071  INFO 1361 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-07-22 14:34:01,072  INFO 1361 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-07-22 14:34:04,845  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$b5edc02c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:34:05,065  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$d7ff46ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:34:05,151  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e23baea9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:34:05,247  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 14:34:05,991  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 14:34:06,209  INFO 1361 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 5136 ms
2019-07-22 14:34:06,621  INFO 1361 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 14:34:07,786  INFO 1361 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-22 14:34:08,364  INFO 1361 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 14:34:08,390  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 14:34:08,401  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 14:34:08,406  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:34:08,406  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:34:08,406  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:34:08,407  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:34:08,408  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:34:08,409  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:34:08,410  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:34:08,411  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:34:08,412  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:34:08,412  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:34:08,413  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:34:08,414  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:34:08,414  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:34:08,415  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:34:08,415  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:34:08,415  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:34:09,382  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$27619d9c
2019-07-22 14:34:09,398  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$42c76b57
2019-07-22 14:34:09,552  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 14:34:09,552  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 14:34:10,279  INFO 1361 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 14:34:10,723  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 14:34:10,760  INFO 1361 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 14:34:11,269  INFO 1361 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 14:34:12,895  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 14:34:12,901  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 13.545 seconds (JVM running for 14.146)
2019-07-22 14:36:22,861  INFO 1361 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-07-22 14:36:22,882  INFO 1361 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 20 ms
2019-07-22 14:36:23,143  INFO 1361 --- [nio-9999-exec-2] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: start 对账触发接口  appId=101,payType=alipay,billDate=20190709
2019-07-22 14:36:23,223  WARN 1361 --- [nio-9999-exec-2] c.i.payment.common.WebExceptionHandler   : IllegalArgumentException: Invalid format: "2019070920190709T00:00:00" is malformed at "0190709T00:00:00"
2019-07-22 14:36:23,300  WARN 1361 --- [nio-9999-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.IllegalArgumentException: Invalid format: "2019070920190709T00:00:00" is malformed at "0190709T00:00:00"]
2019-07-22 14:36:34,532  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: start 对账触发接口  appId=101,payType=alipay,billDate=2019-07-09
2019-07-22 14:36:34,539  WARN 1361 --- [nio-9999-exec-3] c.i.payment.common.WebExceptionHandler   : IllegalArgumentException: Invalid format: "2019-07-092019-07-09T00:00:00" is malformed at "2019-07-09T00:00:00"
2019-07-22 14:36:34,547  WARN 1361 --- [nio-9999-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.IllegalArgumentException: Invalid format: "2019-07-092019-07-09T00:00:00" is malformed at "2019-07-09T00:00:00"]
2019-07-22 14:36:58,587  INFO 1361 --- [       Thread-7] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 14:36:58,591  INFO 1361 --- [       Thread-7] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 14:36:58,611  INFO 1361 --- [       Thread-7] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-22 14:36:59,106  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 1361 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 14:36:59,106  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 14:37:00,191  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$b5edc02c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:37:00,221  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$d7ff46ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:37:00,234  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e23baea9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:37:00,252  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 14:37:00,399  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 14:37:00,418  INFO 1361 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1304 ms
2019-07-22 14:37:00,562  INFO 1361 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 14:37:00,787  INFO 1361 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} inited
2019-07-22 14:37:01,008  INFO 1361 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 14:37:01,009  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 14:37:01,011  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 14:37:01,012  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:37:01,012  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:37:01,012  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:37:01,013  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:37:01,013  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:37:01,014  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:37:01,014  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:37:01,015  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:37:01,015  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:37:01,015  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:37:01,016  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:37:01,016  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:37:01,017  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:37:01,017  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:37:01,017  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:37:01,017  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:37:01,373  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$27619d9c
2019-07-22 14:37:01,386  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$42c76b57
2019-07-22 14:37:01,491  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 14:37:01,493  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 14:37:01,827  INFO 1361 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 14:37:02,019  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 14:37:02,030  INFO 1361 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 14:37:02,243  INFO 1361 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 14:37:02,665  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 14:37:02,668  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 3.666 seconds (JVM running for 183.909)
2019-07-22 14:37:02,675  INFO 1361 --- [  async-event-3] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-22 14:37:07,383  INFO 1361 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-07-22 14:37:07,394  INFO 1361 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2019-07-22 14:37:07,422  INFO 1361 --- [nio-9999-exec-2] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: start 对账触发接口  appId=101,payType=alipay,billDate=2019-07-09
2019-07-22 14:37:07,634 DEBUG 1361 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:37:07,701 DEBUG 1361 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:37:07,759 DEBUG 1361 --- [nio-9999-exec-2] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:37:07,767  WARN 1361 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-09T00:00:00.000] parse exception: 账单[20190709]已解析
2019-07-22 14:37:07,772 ERROR 1361 --- [nio-9999-exec-2] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190709]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$9ba3ddcf.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:186)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-22 14:37:07,773  INFO 1361 --- [nio-9999-exec-2] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: end 对账触发接口
2019-07-22 14:42:02,670  INFO 1361 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery start...
2019-07-22 14:42:02,717 DEBUG 1361 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==>  Preparing: select pr.id, pr.app_id, pr.pay_type, pr.channel, pr.order_no, pr.amount, pr.subject, pr.sign_type, pr.client_ip, pr.extra, pr.create_time from pay_center3_pay_request pr left join pay_center3_pay_query_result pqr on pr.pay_type = pqr.pay_type and pr.order_no = pqr.order_no where pqr.app_id is null and pr.create_time between ? and ? 
2019-07-22 14:42:02,719 DEBUG 1361 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==> Parameters: 2019-07-20 14:42:02.67(Timestamp), 2019-07-22 14:42:02.67(Timestamp)
2019-07-22 14:42:02,724 DEBUG 1361 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : <==      Total: 0
2019-07-22 14:44:41,310  INFO 1361 --- [      Thread-12] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 14:44:41,312  INFO 1361 --- [      Thread-12] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 14:44:41,320  INFO 1361 --- [      Thread-12] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} closed
2019-07-22 14:44:42,100  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 1361 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 14:44:42,102  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 14:44:44,272  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$b5edc02c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:44:44,321  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$d7ff46ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:44:44,338  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e23baea9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:44:44,376  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 14:44:44,575  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 14:44:44,589  INFO 1361 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2473 ms
2019-07-22 14:44:44,860  INFO 1361 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 14:44:45,196  INFO 1361 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-3} inited
2019-07-22 14:44:45,430  INFO 1361 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 14:44:45,431  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 14:44:45,432  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 14:44:45,433  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:44:45,433  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:44:45,436  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:44:45,436  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:44:45,437  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:44:45,437  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:44:45,438  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:44:45,439  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:44:45,443  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:44:45,443  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:44:45,451  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:44:45,451  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:44:45,451  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:44:45,452  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:44:45,452  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:44:45,452  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:44:45,771  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$27619d9c
2019-07-22 14:44:45,782  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$42c76b57
2019-07-22 14:44:45,872  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 14:44:45,873  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 14:44:46,138  INFO 1361 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 14:44:46,292  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 14:44:46,301  INFO 1361 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 14:44:46,438  INFO 1361 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 14:44:46,798  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 14:44:46,799  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 4.835 seconds (JVM running for 648.025)
2019-07-22 14:44:46,805  INFO 1361 --- [  async-event-5] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-22 14:44:57,614  INFO 1361 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-07-22 14:44:57,627  INFO 1361 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2019-07-22 14:45:39,241  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: start 对账触发接口  appId=20190709,payType={},billDate={}
2019-07-22 14:45:39,246 ERROR 1361 --- [nio-9999-exec-3] c.i.payment.common.WebExceptionHandler   : unkonw exception: 
java.text.ParseException: Unable to parse the date: 20190709
	at org.apache.commons.lang3.time.DateUtils.parseDateWithLeniency(DateUtils.java:388)
	at org.apache.commons.lang3.time.DateUtils.parseDate(DateUtils.java:302)
	at org.apache.commons.lang3.time.DateUtils.parseDate(DateUtils.java:279)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:190)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-22 14:45:39,256  WARN 1361 --- [nio-9999-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.text.ParseException: Unable to parse the date: 20190709]
2019-07-22 14:48:02,108  INFO 1361 --- [      Thread-21] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 14:48:02,109  INFO 1361 --- [      Thread-21] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 14:48:02,115  INFO 1361 --- [      Thread-21] com.alibaba.druid.pool.DruidDataSource   : {dataSource-3} closed
2019-07-22 14:48:02,723  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 1361 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 14:48:02,728  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 14:48:03,503  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$b5edc02c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:48:03,527  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$d7ff46ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:48:03,536  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e23baea9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:48:03,548  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 14:48:03,643  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 14:48:03,661  INFO 1361 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 927 ms
2019-07-22 14:48:03,781  INFO 1361 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 14:48:03,983  INFO 1361 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-4} inited
2019-07-22 14:48:04,169  INFO 1361 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 14:48:04,172  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 14:48:04,173  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 14:48:04,174  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:48:04,174  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:48:04,174  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:48:04,174  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:48:04,175  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:48:04,175  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:48:04,175  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:48:04,175  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:48:04,175  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:48:04,176  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:48:04,176  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:48:04,176  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:48:04,176  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:48:04,176  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:48:04,176  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:48:04,176  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:48:04,453  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$27619d9c
2019-07-22 14:48:04,464  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$42c76b57
2019-07-22 14:48:04,553  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 14:48:04,554  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 14:48:04,793  INFO 1361 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 14:48:04,955  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 14:48:04,964  INFO 1361 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 14:48:05,122  INFO 1361 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 14:48:05,444  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 14:48:05,445  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 2.818 seconds (JVM running for 846.665)
2019-07-22 14:48:05,451  INFO 1361 --- [  async-event-4] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-22 14:48:09,654  INFO 1361 --- [      Thread-29] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 14:48:09,655  INFO 1361 --- [      Thread-29] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 14:48:09,663  INFO 1361 --- [      Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-4} closed
2019-07-22 14:48:10,275  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 1361 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 14:48:10,277  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 14:48:11,081  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$b5edc02c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:48:11,110  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$d7ff46ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:48:11,122  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e23baea9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:48:11,134  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 14:48:11,231  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 14:48:11,250  INFO 1361 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 970 ms
2019-07-22 14:48:11,370  INFO 1361 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 14:48:11,587  INFO 1361 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-5} inited
2019-07-22 14:48:11,780  INFO 1361 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 14:48:11,781  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 14:48:11,782  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 14:48:11,782  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:48:11,782  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:48:11,783  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:48:11,783  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:48:11,784  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:48:11,784  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:48:11,785  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:48:11,785  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:48:11,785  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:48:11,785  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:48:11,785  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:48:11,786  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:48:11,786  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:48:11,786  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:48:11,786  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:48:11,786  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:48:12,091  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$27619d9c
2019-07-22 14:48:12,104  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$42c76b57
2019-07-22 14:48:12,191  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 14:48:12,191  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 14:48:12,426  INFO 1361 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 14:48:12,569  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 14:48:12,578  INFO 1361 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 14:48:12,708  INFO 1361 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 14:48:13,034  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 14:48:13,035  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 2.848 seconds (JVM running for 854.256)
2019-07-22 14:48:13,041  INFO 1361 --- [  async-event-2] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-22 14:48:16,886  INFO 1361 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-07-22 14:48:16,896  INFO 1361 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2019-07-22 14:48:16,908  INFO 1361 --- [nio-9999-exec-2] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: start 对账触发接口  appId=20190709,payType={},billDate={}
2019-07-22 14:49:09,116  INFO 1361 --- [      Thread-35] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 14:49:09,118  INFO 1361 --- [      Thread-35] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 14:49:09,131  INFO 1361 --- [      Thread-35] com.alibaba.druid.pool.DruidDataSource   : {dataSource-5} closed
2019-07-22 14:49:09,716  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 1361 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 14:49:09,717  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 14:49:10,807  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$b5edc02c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:49:10,831  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$d7ff46ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:49:10,848  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e23baea9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:49:10,862  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 14:49:10,962  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 14:49:10,973  INFO 1361 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1249 ms
2019-07-22 14:49:11,095  INFO 1361 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 14:49:11,311  INFO 1361 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-6} inited
2019-07-22 14:49:11,499  INFO 1361 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 14:49:11,501  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 14:49:11,502  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 14:49:11,503  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:49:11,503  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:49:11,504  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:49:11,504  INFO 1361 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 14:49:11,504  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:49:11,504  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:49:11,504  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:49:11,505  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 14:49:11,505  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:49:11,505  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:49:11,505  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:49:11,505  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:49:11,505  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:49:11,505  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 14:49:11,506  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 14:49:11,506  INFO 1361 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 14:49:11,772  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$27619d9c
2019-07-22 14:49:11,783  INFO 1361 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$42c76b57
2019-07-22 14:49:11,875  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 14:49:11,876  INFO 1361 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 14:49:12,145  INFO 1361 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 14:49:12,280  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 14:49:12,289  INFO 1361 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 14:49:12,411  INFO 1361 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 14:49:12,689  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 14:49:12,691  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 3.113 seconds (JVM running for 913.909)
2019-07-22 14:49:12,699  INFO 1361 --- [  async-event-5] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-22 14:49:16,347  INFO 1361 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-07-22 14:49:16,365  INFO 1361 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2019-07-22 14:49:16,374  INFO 1361 --- [nio-9999-exec-2] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: start 对账触发接口  appId=20190709,payType={},billDate={}
2019-07-22 14:49:24,427  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: start 对账触发接口  appId=2019-07-09,payType={},billDate={}
2019-07-22 14:49:24,468 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:24,469 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190709(String)
2019-07-22 14:49:24,474 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:49:24,487  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:49:24,490  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:49:24,490  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=503,appId=alipay,config=AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 14:49:24,528  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190709 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-09","bill_type":"trade"},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse","text_params":{},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query"}
2019-07-22 14:49:24,962 ERROR 1361 --- [nio-9999-exec-3] sdk.biz.err                              : ErrorScene^_^40004^_^isp.bill_not_exist^_^null^_^Mac OS X^_^2019-07-22 14:49:24^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=GkyC0Qz6cxGveHnfLwyLyvlzMGCg0o10UvB7FP17nU4FGasoTLQXBpL3cl5BsOgUdf6cnrJeTHLQEwXTu1ghBTSWa/hOqaG0ZH2dbpJKGozFFik6wWfmOvGrErQ0ZVBrDDyWtlucsQ4vrktZ/Mu0o+2kivIe0zppTrMYWJY3A6gMfRJEwDvGTBbBL0fV8waUO+k/VO6d70DkHPyaJ83zEFHL66kQv0S2+jPoRwbsNhEj2E8t3pf7aWYQDw8Y1f6CER2focLgthD8+dEAxJiU3fIn8MYCX6ZA+YXjtJy1aevZElpBYohYNV8HrwbPScw5RKkSOimeyaae6PYyNW6VTA==&version=1.0&app_id=2018042660058300&sign_type=RSA2&timestamp=2019-07-22 14:49:24^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-09","bill_type":"trade"}^_^Body:{"alipay_data_dataservice_bill_downloadurl_query_response":{"code":"40004","msg":"Business Failed","sub_code":"isp.bill_not_exist","sub_msg":"账单不存在"},"sign":"Gq+kjxgtcIxPkqPaWE44LRxNLhZgQQ9URlgEk4FhMivzPrH/I8kvXpJddhQqUof66/u6AJGeyIUxWlhjJH6JGubeRpTPS+vGcSd7qndlX47YKvxe4PIrRpxiM95dPkXrtdDVkGW4y6vDOj8Wg3Ullh/Q2PVXmNa9XxJ8ka5iuUtNA+Y1/t/QvlUcf7QI35IqkQLHZrht30LNsDh20++fT65gb8FV4nVdbvvkiX0yiAiZVAW90o/EWSdYktEIMGfH5wYBqLhQRMATtZeQ49Ya3lj3Ja+fnCNh92WNciuFoZm9Uk4wCnyJ5k4SO06FlOqwpX0s0X7ePyw+IKhDEciSOw=="}^_^70ms,337ms,25ms
2019-07-22 14:49:24,967  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190709 response: {"code":"40004","msg":"Business Failed","sub_code":"isp.bill_not_exist","sub_msg":"账单不存在","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"isp.bill_not_exist\",\"sub_msg\":\"账单不存在\"},\"sign\":\"Gq+kjxgtcIxPkqPaWE44LRxNLhZgQQ9URlgEk4FhMivzPrH/I8kvXpJddhQqUof66/u6AJGeyIUxWlhjJH6JGubeRpTPS+vGcSd7qndlX47YKvxe4PIrRpxiM95dPkXrtdDVkGW4y6vDOj8Wg3Ullh/Q2PVXmNa9XxJ8ka5iuUtNA+Y1/t/QvlUcf7QI35IqkQLHZrht30LNsDh20++fT65gb8FV4nVdbvvkiX0yiAiZVAW90o/EWSdYktEIMGfH5wYBqLhQRMATtZeQ49Ya3lj3Ja+fnCNh92WNciuFoZm9Uk4wCnyJ5k4SO06FlOqwpX0s0X7ePyw+IKhDEciSOw==\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-09\",\"bill_type\":\"trade\"}"},"success":false,"error_code":"40004"}
2019-07-22 14:49:24,968  WARN 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: Business Failed # isp.bill_not_exist # 账单不存在
2019-07-22 14:49:24,970 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:49:24,975 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), alipay(String), 20190709(String), null, Business Failed # isp.bill_not_exist # 账单不存在(String)
2019-07-22 14:49:24,980 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:49:25,051  INFO 1361 --- [nio-9999-exec-3] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:49:25,052 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:49:25,052 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 503(String), 20190709(String), alipay(String)
2019-07-22 14:49:25,057 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:49:25,058 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:25,060 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), alipay(String), 503(String)
2019-07-22 14:49:25,063 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:49:25,067 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:49:25,068 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), alipay20190709(String)
2019-07-22 14:49:25,072 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:49:25,073 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:25,074 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190709(String)
2019-07-22 14:49:25,077 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:49:25,078 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:49:25,080 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), alipay20190709(String), alipay(String), 20190709(String), 2019-07-22 14:49:25.078(Timestamp)
2019-07-22 14:49:25,085 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:49:25,087 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:25,088 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190709(String)
2019-07-22 14:49:25,091 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:49:25,092  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: alipay, date: 2019-07-09T00:00:00.000 - result is Null
2019-07-22 14:49:25,126  INFO 1361 --- [nio-9999-exec-3] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-09T00:00:00.000] createCompareBatch successful
2019-07-22 14:49:25,129 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:25,129 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190709(String)
2019-07-22 14:49:25,132 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:49:25,134  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:49:25,134  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=503, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:49:25,142  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 request: {nonce_str=AEndhzsx5w4l71Ya0PfIb5nMnCw0V91S, bill_date=20190709, appid=wxd86049a121654669, sign=BADABBBB21E7A973B6000F450EF11A4CA932F9FEA525AF4D0940B7A7511388E7, bill_type=ALL, mch_id=1505417821, sign_type=HMAC-SHA256}
2019-07-22 14:49:25,741  INFO 1361 --- [nio-9999-exec-3] wxpay java sdk                           : report worker num: 6
2019-07-22 14:49:25,744  INFO 1361 --- [nio-9999-exec-3] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,AEndhzsx5w4l71Ya0PfIb5nMnCw0V91S,1563778165,570,api.mch.weixin.qq.com,true,6000,8000,0,0,0,90719793B23FC3CB72093EFBCEB684590D3EC3C14295179D0A1E475C1F84E9AF
2019-07-22 14:49:25,744  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : <xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[No Bill Exist]]></return_msg>
<error_code><![CDATA[20002]]></error_code>
</xml>
2019-07-22 14:49:25,744  INFO 1361 --- [pool-2-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,AEndhzsx5w4l71Ya0PfIb5nMnCw0V91S,1563778165,570,api.mch.weixin.qq.com,true,6000,8000,0,0,0,90719793B23FC3CB72093EFBCEB684590D3EC3C14295179D0A1E475C1F84E9AF
2019-07-22 14:49:25,744  INFO 1361 --- [pool-2-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-22 14:49:25,744  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 response content size: 149
2019-07-22 14:49:25,744  INFO 1361 --- [nio-9999-exec-3] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[No Bill Exist]]></return_msg>
<error_code><![CDATA[20002]]></error_code>
</xml>
2019-07-22 14:49:25,747  INFO 1361 --- [nio-9999-exec-3] com.github.wxpay.sdk.WXPay               : processResponseXml: return={return_msg=No Bill Exist, error_code=20002, return_code=FAIL}
2019-07-22 14:49:25,747  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 response: {return_msg=No Bill Exist, error_code=20002, return_code=FAIL}
2019-07-22 14:49:25,748  WARN 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: No Bill Exist
2019-07-22 14:49:25,748 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:49:25,748 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), wx(String), 20190709(String), null, No Bill Exist(String)
2019-07-22 14:49:25,759 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:49:25,797  INFO 1361 --- [nio-9999-exec-3] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:49:25,798 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:49:25,798 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 503(String), 20190709(String), wx(String)
2019-07-22 14:49:25,802 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:49:25,803 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:25,803 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 503(String)
2019-07-22 14:49:25,805 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:49:25,808 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:49:25,808 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), wx20190709(String)
2019-07-22 14:49:25,811 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:49:25,812 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:25,814 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190709(String)
2019-07-22 14:49:25,819 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:49:25,819 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:49:25,820 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), wx20190709(String), wx(String), 20190709(String), 2019-07-22 14:49:25.819(Timestamp)
2019-07-22 14:49:25,825 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:49:25,826 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:25,826 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190709(String)
2019-07-22 14:49:25,830 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:49:25,830  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: wx, date: 2019-07-09T00:00:00.000 - result is Null
2019-07-22 14:49:25,861  INFO 1361 --- [nio-9999-exec-3] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-09T00:00:00.000] createCompareBatch successful
2019-07-22 14:49:25,865 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:25,867 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:49:25,871 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:49:25,882  WARN 1361 --- [nio-9999-exec-3] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-09T00:00:00.000] parse exception: 账单[20190709]已解析
2019-07-22 14:49:25,882 ERROR 1361 --- [nio-9999-exec-3] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190709]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$9ba3ddcf.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.modules.trade.controller.BillController.billDownloadTask(BillController.java:207)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-22 14:49:25,888 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:25,888 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:49:25,894 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:49:25,896  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:49:25,896  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=101, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:49:25,897  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 request: {nonce_str=rBYSnyP0PmGhxlimSruTPppMR1hCsvvx, bill_date=20190709, appid=wx9b5cb757426e00d9, sign=AE10DA57E0F31E1E052096FCACE046D0F83DF97361F3275366A0F71347B35FBC, bill_type=ALL, mch_id=1429146602, sign_type=HMAC-SHA256}
2019-07-22 14:49:26,143  INFO 1361 --- [nio-9999-exec-3] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,rBYSnyP0PmGhxlimSruTPppMR1hCsvvx,1563778166,244,api.mch.weixin.qq.com,true,6000,8000,0,0,0,E141D4968574A9816F9116D7453EB760F2651BEC62BA3C2A85C4060E52A8A0E6
2019-07-22 14:49:26,143  INFO 1361 --- [pool-3-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,rBYSnyP0PmGhxlimSruTPppMR1hCsvvx,1563778166,244,api.mch.weixin.qq.com,true,6000,8000,0,0,0,E141D4968574A9816F9116D7453EB760F2651BEC62BA3C2A85C4060E52A8A0E6
2019-07-22 14:49:26,143  INFO 1361 --- [pool-3-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-22 14:49:26,143  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : ﻿交易时间,公众账号ID,商户号,子商户号,设备号,微信订单号,商户订单号,用户标识,交易类型,交易状态,付款银行,货币种类,总金额,企业红包金额,微信退款单号,商户退款单号,退款金额,企业红包退款金额,退款类型,退款状态,商品名称,商户数据包,手续费,费率
`2019-07-09 15:04:25,`wx9b5cb757426e00d9,`1429146602,`0,`,`4200000300201906281787713838,`10110011561694500364202,`ok1_lw3e743joDk95Hb9U153nwk8,`JSAPI,`REFUND,`CFT,`CNY,`0.00,`0.00,`50000600872019070910515745012,`refund10110011561694500364202,`0.05,`0.00,`ORIGINAL,`SUCCESS,`定向专用,`,`0.00000,`0.60%
`2019-07-09 14:25:16,`wx9b5cb757426e00d9,`1429146602,`0,`,`4200000303201906137721154482,`10110011560398938363931,`ok1_lw3e743joDk95Hb9U153nwk8,`MWEB,`REFUND,`CFT,`CNY,`0.00,`0.00,`50000200882019070910306564674,`refund10110011560398938363931,`0.05,`0.00,`ORIGINAL,`SUCCESS,`发给34524香港总部,`,`0.00000,`0.60%
`2019-07-09 14:59:46,`wxc9d0a70977ecf5fe,`1429146602,`0,`,`4200000294201907012576189376,`10110011561951929364204,`oSyi-4jrMh4wtNEJDSMk-h-wxcUM,`JSAPI,`REFUND,`CFT,`CNY,`0.00,`0.00,`50000000892019070910499055214,`refund10110011561951929364204,`0.05,`0.00,`ORIGINAL,`SUCCESS,`定向专用,`,`0.00000,`0.60%
`2019-07-09 14:26:49,`wxc9d0a70977ecf5fe,`1429146602,`0,`,`4200000302201906127476731585,`10110011560334037363923,`oSyi-4jrMh4wtNEJDSMk-h-wxcUM,`JSAPI,`REFUND,`CFT,`CNY,`0.00,`0.00,`50000100702019070910536509454,`refund10110011560334037363923,`0.05,`0.00,`ORIGINAL,`SUCCESS,`发给34524香港总部,`,`0.00000,`0.60%
`2019-07-09 14:36:48,`wxc9d0a70977ecf5fe,`1429146602,`0,`,`4200000295201906127291057886,`10110011560327103363921,`oSyi-4jrMh4wtNEJDSMk-h-wxcUM,`JSAPI,`REFUND,`CFT,`CNY,`0.00,`0.00,`50000600922019070910376228007,`refund10110011560327103363921,`0.05,`0.00,`ORIGINAL,`SUCCESS,`发给34524香港总部,`,`0.00000,`0.60%
总交易单数,总交易额,总退款金额,总企业红包退款金额,手续费总金额
`5,`0.00,`0.25,`0.00,`0.00000

2019-07-22 14:49:26,144  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 response content size: 1707
2019-07-22 14:49:26,144  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : bill file write to [wx_101_20190709.csv]
2019-07-22 14:49:26,152  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : bill file [wx_101_20190709.csv] write success
2019-07-22 14:49:26,220 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,221 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String), 101(String)
2019-07-22 14:49:26,224 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 0
2019-07-22 14:49:26,224 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 14:49:26,230 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==> Parameters: null, 101(String), wx(String), 20190709(String), 10110011561694500364202(String), refund10110011561694500364202(String), 4200000300201906281787713838(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.00,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000300201906281787713838","商户订单号":"10110011561694500364202","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","交易类型":"JSAPI","交易状态":"REFUND","付款银行":"CFT","货币种类":"CNY","总金额":0.00,"微信退款单号":"50000600872019070910515745012","商户退款单号":"refund10110011561694500364202","退款金额":0.05,"退款类型":"ORIGINAL","退款状态":"SUCCESS","商品名称":"定向专用","手续费":0.00000,"费率":"0.60%"}(String), 2019-07-22 14:49:26.22(Timestamp)
2019-07-22 14:49:26,235 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : <==    Updates: 1
2019-07-22 14:49:26,235 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,236 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String), 101(String)
2019-07-22 14:49:26,238 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 0
2019-07-22 14:49:26,239 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 14:49:26,240 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==> Parameters: null, 101(String), wx(String), 20190709(String), 10110011560398938363931(String), refund10110011560398938363931(String), 4200000303201906137721154482(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.00,"公众账号ID":"wx9b5cb757426e00d9","商户号":"1429146602","子商户号":"0","微信订单号":"4200000303201906137721154482","商户订单号":"10110011560398938363931","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","交易类型":"MWEB","交易状态":"REFUND","付款银行":"CFT","货币种类":"CNY","总金额":0.00,"微信退款单号":"50000200882019070910306564674","商户退款单号":"refund10110011560398938363931","退款金额":0.05,"退款类型":"ORIGINAL","退款状态":"SUCCESS","商品名称":"发给34524香港总部","手续费":0.00000,"费率":"0.60%"}(String), 2019-07-22 14:49:26.235(Timestamp)
2019-07-22 14:49:26,282 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : <==    Updates: 1
2019-07-22 14:49:26,283 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,283 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String), 101(String)
2019-07-22 14:49:26,289 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 0
2019-07-22 14:49:26,289 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 14:49:26,290 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==> Parameters: null, 101(String), wx(String), 20190709(String), 10110011561951929364204(String), refund10110011561951929364204(String), 4200000294201907012576189376(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.00,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000294201907012576189376","商户订单号":"10110011561951929364204","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","交易类型":"JSAPI","交易状态":"REFUND","付款银行":"CFT","货币种类":"CNY","总金额":0.00,"微信退款单号":"50000000892019070910499055214","商户退款单号":"refund10110011561951929364204","退款金额":0.05,"退款类型":"ORIGINAL","退款状态":"SUCCESS","商品名称":"定向专用","手续费":0.00000,"费率":"0.60%"}(String), 2019-07-22 14:49:26.282(Timestamp)
2019-07-22 14:49:26,294 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : <==    Updates: 1
2019-07-22 14:49:26,294 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,295 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String), 101(String)
2019-07-22 14:49:26,297 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 0
2019-07-22 14:49:26,298 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 14:49:26,299 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==> Parameters: null, 101(String), wx(String), 20190709(String), 10110011560334037363923(String), refund10110011560334037363923(String), 4200000302201906127476731585(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.00,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000302201906127476731585","商户订单号":"10110011560334037363923","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","交易类型":"JSAPI","交易状态":"REFUND","付款银行":"CFT","货币种类":"CNY","总金额":0.00,"微信退款单号":"50000100702019070910536509454","商户退款单号":"refund10110011560334037363923","退款金额":0.05,"退款类型":"ORIGINAL","退款状态":"SUCCESS","商品名称":"发给34524香港总部","手续费":0.00000,"费率":"0.60%"}(String), 2019-07-22 14:49:26.294(Timestamp)
2019-07-22 14:49:26,303 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : <==    Updates: 1
2019-07-22 14:49:26,303 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,304 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String), 101(String)
2019-07-22 14:49:26,306 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 0
2019-07-22 14:49:26,307 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 14:49:26,308 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : ==> Parameters: null, 101(String), wx(String), 20190709(String), 10110011560327103363921(String), refund10110011560327103363921(String), 4200000295201906127291057886(String), 5(Integer), 0(Integer), null, {"merchant_income_charge":0.00,"公众账号ID":"wxc9d0a70977ecf5fe","商户号":"1429146602","子商户号":"0","微信订单号":"4200000295201906127291057886","商户订单号":"10110011560327103363921","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","交易类型":"JSAPI","交易状态":"REFUND","付款银行":"CFT","货币种类":"CNY","总金额":0.00,"微信退款单号":"50000600922019070910376228007","商户退款单号":"refund10110011560327103363921","退款金额":0.05,"退款类型":"ORIGINAL","退款状态":"SUCCESS","商品名称":"发给34524香港总部","手续费":0.00000,"费率":"0.60%"}(String), 2019-07-22 14:49:26.303(Timestamp)
2019-07-22 14:49:26,311 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillRefundLogMapper.save   : <==    Updates: 1
2019-07-22 14:49:26,312 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:26,315 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:49:26,318 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:49:26,319 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-22 14:49:26,322 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190709(String), 0(Integer), 5(Integer), 0(Integer), 25(Integer), 0(Integer), {"总交易单数":5,"总交易额":0.00,"总退款金额":0.25,"手续费总金额":0.00000}(String), null
2019-07-22 14:49:26,327 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-22 14:49:26,328 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:26,328 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:49:26,331 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:49:26,332 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:49:26,332 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190709(String), null, null
2019-07-22 14:49:26,336 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:49:26,376  INFO 1361 --- [nio-9999-exec-3] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:49:26,377 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:49:26,377 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), wx(String)
2019-07-22 14:49:26,380 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:49:26,381 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,381 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 101(String)
2019-07-22 14:49:26,406 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 7
2019-07-22 14:49:26,407 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:26,408 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561291536365966(String), wx(String)
2019-07-22 14:49:26,410 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-07-22 14:49:26,411  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@c93c0d30, appId=101, payType=wx, orderNo=10110011561291536365966, refundNo=refund10110011561291536365966)
2019-07-22 14:49:26,411  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011561291536365966,payType=wx,appId=101
2019-07-22 14:49:26,411  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011561291536365966
2019-07-22 14:49:26,412 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:49:26,412 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561291536365966(String), wx(String)
2019-07-22 14:49:26,415 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:49:26,416 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:49:26,417 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561291536365966(String), wx(String)
2019-07-22 14:49:26,420 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:49:26,421  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011561291536365966
2019-07-22 14:49:26,422 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,422 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561291536365966(String), wx(String), 101(String)
2019-07-22 14:49:26,425 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-22 14:49:26,426 ERROR 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BaseBillService   : refundQuery [refund10110011561291536365966] exception: not find PayRequestLog record by [orderNo:10110011561291536365966,payType:wx] 
2019-07-22 14:49:26,426 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:26,427 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011558860422365280(String), wx(String)
2019-07-22 14:49:26,429 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-07-22 14:49:26,430  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@5755a13c, appId=101, payType=wx, orderNo=10110011558860422365280, refundNo=refund10110011558860422365280)
2019-07-22 14:49:26,430  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011558860422365280,payType=wx,appId=101
2019-07-22 14:49:26,430  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011558860422365280
2019-07-22 14:49:26,431 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:49:26,431 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011558860422365280(String), wx(String)
2019-07-22 14:49:26,434 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:49:26,435 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:49:26,435 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011558860422365280(String), wx(String)
2019-07-22 14:49:26,438 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:49:26,438  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011558860422365280
2019-07-22 14:49:26,439 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,439 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011558860422365280(String), wx(String), 101(String)
2019-07-22 14:49:26,442 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-22 14:49:26,442 ERROR 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BaseBillService   : refundQuery [refund10110011558860422365280] exception: not find PayRequestLog record by [orderNo:10110011558860422365280,payType:wx] 
2019-07-22 14:49:26,442 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:26,443 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String)
2019-07-22 14:49:26,446 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:26,448 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:26,448 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String)
2019-07-22 14:49:26,452 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:26,453 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:26,453 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String)
2019-07-22 14:49:26,456 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:26,457 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:26,457 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String)
2019-07-22 14:49:26,461 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:26,462 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:26,462 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String)
2019-07-22 14:49:26,467 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:26,470 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:49:26,472 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), wx20190709(String)
2019-07-22 14:49:26,476 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:49:26,477 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:26,477 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:49:26,480 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:49:26,481 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:49:26,485 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), wx20190709(String), wx(String), 20190709(String), 2019-07-22 14:49:26.481(Timestamp)
2019-07-22 14:49:26,489 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:49:26,490 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:26,491 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:49:26,494 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-22 14:49:26,499 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:49:26,499 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), wx(String)
2019-07-22 14:49:26,502 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:49:26,503 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-22 14:49:26,504 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 101(String)
2019-07-22 14:49:26,508 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:49:26,510 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,511 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 101(String)
2019-07-22 14:49:26,521 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 7
2019-07-22 14:49:26,522 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-22 14:49:26,524 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 101(String)
2019-07-22 14:49:26,527 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:49:26,531  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BaseBillService   : compareRefundList-billRefundLogCachService.saveBatch:  appId=101; payType=wx; valueList=[BillRefundLog(id=309, appId=101, payType=wx, billDate=20190709, orderNo=10110011560398938363931, refundNo=refund10110011560398938363931, tradeNo=4200000303201906137721154482, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=MWEB, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011560398938363931, 微信订单号=4200000303201906137721154482, 商户退款单号=refund10110011560398938363931, 微信退款单号=50000200882019070910306564674, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=310, appId=101, payType=wx, billDate=20190709, orderNo=10110011561951929364204, refundNo=refund10110011561951929364204, tradeNo=4200000294201907012576189376, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011561951929364204, 微信订单号=4200000294201907012576189376, 商户退款单号=refund10110011561951929364204, 微信退款单号=50000000892019070910499055214, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=286, appId=101, payType=wx, billDate=20190709, orderNo=10110011558860422365280, refundNo=refund10110011558860422365280, tradeNo=4200000299201905263010571491, refundAmount=5, serviceCharge=0, tradeTime=Thu Jul 11 03:35:39 CST 2019, details={费率=0.60%, 商户号=1367026602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=MWEB, 付款银行=CFT, 商品名称=chenjhtest, 子商户号=0, 用户标识=oF9zhvuwwXGs0OPoPdSuknufzzuc, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxf712db1e1042a294, 商户订单号=10110011558860422365280, 微信订单号=4200000299201905263010571491, 商户退款单号=refund10110011558860422365280, 微信退款单号=50000300612019070910499890270, merchant_income_charge=0}, createTime=Wed Jul 10 14:36:38 CST 2019), BillRefundLog(id=285, appId=101, payType=wx, billDate=20190709, orderNo=10110011561291536365966, refundNo=refund10110011561291536365966, tradeNo=4200000297201906233184249390, refundAmount=40500, serviceCharge=-243, tradeTime=Thu Jul 11 03:35:39 CST 2019, details={费率=0.60%, 商户号=1367026602, 总金额=0, 手续费=-2.43, 交易状态=REFUND, 交易类型=MWEB, 付款银行=LQT, 商品名称=LONGCHAMP 珑骧 女士织物单肩包中号长柄 2605, 子商户号=0, 用户标识=oF9zhvgYZ-Fy68cIOpnbNUOIhJ34, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=405, 公众账号ID=wxf712db1e1042a294, 商户订单号=10110011561291536365966, 微信订单号=4200000297201906233184249390, 商户退款单号=refund10110011561291536365966, 微信退款单号=50000600752019070910412896587, merchant_income_charge=0}, createTime=Wed Jul 10 14:36:38 CST 2019), BillRefundLog(id=312, appId=101, payType=wx, billDate=20190709, orderNo=10110011560327103363921, refundNo=refund10110011560327103363921, tradeNo=4200000295201906127291057886, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560327103363921, 微信订单号=4200000295201906127291057886, 商户退款单号=refund10110011560327103363921, 微信退款单号=50000600922019070910376228007, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=308, appId=101, payType=wx, billDate=20190709, orderNo=10110011561694500364202, refundNo=refund10110011561694500364202, tradeNo=4200000300201906281787713838, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011561694500364202, 微信订单号=4200000300201906281787713838, 商户退款单号=refund10110011561694500364202, 微信退款单号=50000600872019070910515745012, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=311, appId=101, payType=wx, billDate=20190709, orderNo=10110011560334037363923, refundNo=refund10110011560334037363923, tradeNo=4200000302201906127476731585, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560334037363923, 微信订单号=4200000302201906127476731585, 商户退款单号=refund10110011560334037363923, 微信退款单号=50000100702019070910536509454, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019)]
2019-07-22 14:49:26,542 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.saveBatch                  : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log_cach (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2019-07-22 14:49:26,555 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.saveBatch                  : ==> Parameters: 309(Integer), 101(String), wx(String), 20190709(String), 10110011560398938363931(String), refund10110011560398938363931(String), 4200000303201906137721154482(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011560398938363931","微信订单号":"4200000303201906137721154482","商户退款单号":"refund10110011560398938363931","微信退款单号":"50000200882019070910306564674","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 310(Integer), 101(String), wx(String), 20190709(String), 10110011561951929364204(String), refund10110011561951929364204(String), 4200000294201907012576189376(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011561951929364204","微信订单号":"4200000294201907012576189376","商户退款单号":"refund10110011561951929364204","微信退款单号":"50000000892019070910499055214","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 286(Integer), 101(String), wx(String), 20190709(String), 10110011558860422365280(String), refund10110011558860422365280(String), 4200000299201905263010571491(String), 5(Integer), 0(Integer), 2019-07-11 03:35:39.0(Timestamp), {"费率":"0.60%","商户号":"1367026602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"CFT","商品名称":"chenjhtest","子商户号":"0","用户标识":"oF9zhvuwwXGs0OPoPdSuknufzzuc","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxf712db1e1042a294","商户订单号":"10110011558860422365280","微信订单号":"4200000299201905263010571491","商户退款单号":"refund10110011558860422365280","微信退款单号":"50000300612019070910499890270","merchant_income_charge":0}(String), 2019-07-10 14:36:38.0(Timestamp), 285(Integer), 101(String), wx(String), 20190709(String), 10110011561291536365966(String), refund10110011561291536365966(String), 4200000297201906233184249390(String), 40500(Integer), -243(Integer), 2019-07-11 03:35:39.0(Timestamp), {"费率":"0.60%","商户号":"1367026602","总金额":0,"手续费":-2.43,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"LQT","商品名称":"LONGCHAMP 珑骧 女士织物单肩包中号长柄 2605","子商户号":"0","用户标识":"oF9zhvgYZ-Fy68cIOpnbNUOIhJ34","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":405,"公众账号ID":"wxf712db1e1042a294","商户订单号":"10110011561291536365966","微信订单号":"4200000297201906233184249390","商户退款单号":"refund10110011561291536365966","微信退款单号":"50000600752019070910412896587","merchant_income_charge":0}(String), 2019-07-10 14:36:38.0(Timestamp), 312(Integer), 101(String), wx(String), 20190709(String), 10110011560327103363921(String), refund10110011560327103363921(String), 4200000295201906127291057886(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560327103363921","微信订单号":"4200000295201906127291057886","商户退款单号":"refund10110011560327103363921","微信退款单号":"50000600922019070910376228007","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 308(Integer), 101(String), wx(String), 20190709(String), 10110011561694500364202(String), refund10110011561694500364202(String), 4200000300201906281787713838(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011561694500364202","微信订单号":"4200000300201906281787713838","商户退款单号":"refund10110011561694500364202","微信退款单号":"50000600872019070910515745012","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 311(Integer), 101(String), wx(String), 20190709(String), 10110011560334037363923(String), refund10110011560334037363923(String), 4200000302201906127476731585(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560334037363923","微信订单号":"4200000302201906127476731585","商户退款单号":"refund10110011560334037363923","微信退款单号":"50000100702019070910536509454","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp)
2019-07-22 14:49:26,564 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.saveBatch                  : <==    Updates: 7
2019-07-22 14:49:26,566 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findListMoreThanThreeDay   : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log_cach where pay_type = ? and app_id = ? and DATE_ADD(create_time,INTERVAL 4 DAY) < NOW() ORDER BY create_time DESC 
2019-07-22 14:49:26,567 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findListMoreThanThreeDay   : ==> Parameters: wx(String), 101(String)
2019-07-22 14:49:26,571 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findListMoreThanThreeDay   : <==      Total: 2
2019-07-22 14:49:26,571  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BaseBillService   : compareRefundList-7.处理缓存表数据超过三天的记录，生成异常比对明细数据:  appId=101; payType=wx
2019-07-22 14:49:26,574  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: wx, date: 2019-07-09T00:00:00.000 - result paysCount: 0, refundsCount: 2
2019-07-22 14:49:26,576 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.batchSave                  : ==>  Preparing: INSERT INTO pay_center3_bill_compare_detail (`batch_id`, `pay_type`, `operate_type`, `order_no`, `refund_no`, `bill_amount`, `request_amount`, `trade_time`, `compare_status`, `compare_desc`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 14:49:26,580 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.batchSave                  : ==> Parameters: 366(Integer), wx(String), 退款(String), 10110011561291536365966(String), refund10110011561291536365966(String), 40500(Integer), 0(Integer), 2019-07-11 03:35:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 366(Integer), wx(String), 退款(String), 10110011558860422365280(String), refund10110011558860422365280(String), 5(Integer), 0(Integer), 2019-07-11 03:35:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null
2019-07-22 14:49:26,584 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.batchSave                  : <==    Updates: 2
2019-07-22 14:49:26,586 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.update                     : ==>  Preparing: update pay_center3_bill_compare_batch set `mistake_count` = ?, `unhandle_mistake_count` = ?, `bill_pay_count` = ?, `request_pay_count` = ?, `bill_refund_count` = ?, `request_refund_count` = ?, `bill_pay_amount` = ?, `request_pay_amount` = ?, `bill_refund_amount` = ?, `request_refund_amount` = ?, `pay_service_charge` = ?, `refund_service_charge` = ? where id = ? 
2019-07-22 14:49:26,587 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.update                     : ==> Parameters: 2(Integer), 2(Integer), 0(Integer), 0(Integer), 5(Integer), 0(Integer), 0(Integer), 0(Integer), 25(Integer), 0(Integer), 0(Integer), -486(Integer), 366(Integer)
2019-07-22 14:49:26,593 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.update                     : <==    Updates: 1
2019-07-22 14:49:26,634  INFO 1361 --- [nio-9999-exec-3] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-09T00:00:00.000] createCompareBatch successful
2019-07-22 14:49:26,637 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:26,637 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:49:26,640 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:49:26,641  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=501, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:49:26,641  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=501, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:49:26,641  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 request: {nonce_str=vgeJ93sstStIPep15UAhHSPOZZLsvQa3, bill_date=20190709, appid=wx1e86ddc5b2485ab2, sign=20E4CDF4712BCAB821A06E3CA2A6551B5AA5F4ED2EDB273958691499EB60A4E5, bill_type=ALL, mch_id=1429146602, sign_type=HMAC-SHA256}
2019-07-22 14:49:26,864  INFO 1361 --- [nio-9999-exec-3] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,vgeJ93sstStIPep15UAhHSPOZZLsvQa3,1563778166,221,api.mch.weixin.qq.com,true,6000,8000,0,0,0,F5FF81B1B1A2FC819E511454A21557345021A0F985FABE8FEFBDCE7F4A5E6AAA
2019-07-22 14:49:26,864  INFO 1361 --- [pool-4-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,vgeJ93sstStIPep15UAhHSPOZZLsvQa3,1563778166,221,api.mch.weixin.qq.com,true,6000,8000,0,0,0,F5FF81B1B1A2FC819E511454A21557345021A0F985FABE8FEFBDCE7F4A5E6AAA
2019-07-22 14:49:26,864  INFO 1361 --- [pool-4-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-22 14:49:26,865  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : ﻿交易时间,公众账号ID,商户号,子商户号,设备号,微信订单号,商户订单号,用户标识,交易类型,交易状态,付款银行,货币种类,总金额,企业红包金额,微信退款单号,商户退款单号,退款金额,企业红包退款金额,退款类型,退款状态,商品名称,商户数据包,手续费,费率
`2019-07-09 15:04:25,`wx9b5cb757426e00d9,`1429146602,`0,`,`4200000300201906281787713838,`10110011561694500364202,`ok1_lw3e743joDk95Hb9U153nwk8,`JSAPI,`REFUND,`CFT,`CNY,`0.00,`0.00,`50000600872019070910515745012,`refund10110011561694500364202,`0.05,`0.00,`ORIGINAL,`SUCCESS,`定向专用,`,`0.00000,`0.60%
`2019-07-09 14:25:16,`wx9b5cb757426e00d9,`1429146602,`0,`,`4200000303201906137721154482,`10110011560398938363931,`ok1_lw3e743joDk95Hb9U153nwk8,`MWEB,`REFUND,`CFT,`CNY,`0.00,`0.00,`50000200882019070910306564674,`refund10110011560398938363931,`0.05,`0.00,`ORIGINAL,`SUCCESS,`发给34524香港总部,`,`0.00000,`0.60%
`2019-07-09 14:59:46,`wxc9d0a70977ecf5fe,`1429146602,`0,`,`4200000294201907012576189376,`10110011561951929364204,`oSyi-4jrMh4wtNEJDSMk-h-wxcUM,`JSAPI,`REFUND,`CFT,`CNY,`0.00,`0.00,`50000000892019070910499055214,`refund10110011561951929364204,`0.05,`0.00,`ORIGINAL,`SUCCESS,`定向专用,`,`0.00000,`0.60%
`2019-07-09 14:26:49,`wxc9d0a70977ecf5fe,`1429146602,`0,`,`4200000302201906127476731585,`10110011560334037363923,`oSyi-4jrMh4wtNEJDSMk-h-wxcUM,`JSAPI,`REFUND,`CFT,`CNY,`0.00,`0.00,`50000100702019070910536509454,`refund10110011560334037363923,`0.05,`0.00,`ORIGINAL,`SUCCESS,`发给34524香港总部,`,`0.00000,`0.60%
`2019-07-09 14:36:48,`wxc9d0a70977ecf5fe,`1429146602,`0,`,`4200000295201906127291057886,`10110011560327103363921,`oSyi-4jrMh4wtNEJDSMk-h-wxcUM,`JSAPI,`REFUND,`CFT,`CNY,`0.00,`0.00,`50000600922019070910376228007,`refund10110011560327103363921,`0.05,`0.00,`ORIGINAL,`SUCCESS,`发给34524香港总部,`,`0.00000,`0.60%
总交易单数,总交易额,总退款金额,总企业红包退款金额,手续费总金额
`5,`0.00,`0.25,`0.00,`0.00000

2019-07-22 14:49:26,866  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 response content size: 1707
2019-07-22 14:49:26,866  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : bill file write to [wx_501_20190709.csv]
2019-07-22 14:49:26,868  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : bill file [wx_501_20190709.csv] write success
2019-07-22 14:49:26,870 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,871 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String), 501(String)
2019-07-22 14:49:26,875 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:26,876 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,878 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String), 501(String)
2019-07-22 14:49:26,895 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:26,896 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,897 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String), 501(String)
2019-07-22 14:49:26,903 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:26,904 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,904 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String), 501(String)
2019-07-22 14:49:26,909 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:26,909 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,910 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String), 501(String)
2019-07-22 14:49:26,916 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:26,916 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:26,919 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:49:26,922 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:49:26,923 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-22 14:49:26,924 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190709(String), 0(Integer), 5(Integer), 0(Integer), 25(Integer), 0(Integer), {"总交易单数":5,"总交易额":0.00,"总退款金额":0.25,"手续费总金额":0.00000}(String), null
2019-07-22 14:49:26,932 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-22 14:49:26,933 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:26,936 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:49:26,939 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:49:26,940 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:49:26,941 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190709(String), null, null
2019-07-22 14:49:26,948 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:49:26,985  INFO 1361 --- [nio-9999-exec-3] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:49:26,985 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:49:26,986 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 501(String), 20190709(String), wx(String)
2019-07-22 14:49:26,989 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:49:26,990 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:26,990 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 501(String)
2019-07-22 14:49:27,000 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 5
2019-07-22 14:49:27,004 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:27,005 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String)
2019-07-22 14:49:27,009 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:27,010 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:27,010 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String)
2019-07-22 14:49:27,016 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:27,016 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:27,017 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String)
2019-07-22 14:49:27,021 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:27,022 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:27,022 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String)
2019-07-22 14:49:27,027 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:27,027 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:49:27,028 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String)
2019-07-22 14:49:27,033 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:49:27,036 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:49:27,037 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 501(String), wx20190709(String)
2019-07-22 14:49:27,042 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:49:27,043 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:27,043 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:49:27,048 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:49:27,048 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:49:27,049 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 501(String), wx20190709(String), wx(String), 20190709(String), 2019-07-22 14:49:27.048(Timestamp)
2019-07-22 14:49:27,061 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:49:27,062 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:49:27,062 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:49:27,068 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-22 14:49:27,069 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:49:27,070 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 501(String), 20190709(String), wx(String)
2019-07-22 14:49:27,075 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:49:27,075 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-22 14:49:27,076 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 501(String)
2019-07-22 14:49:27,080 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:49:27,081 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:49:27,081 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 501(String)
2019-07-22 14:49:27,093 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 5
2019-07-22 14:49:27,094 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-22 14:49:27,095 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 501(String)
2019-07-22 14:49:27,099 DEBUG 1361 --- [nio-9999-exec-3] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:49:27,099  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BaseBillService   : compareRefundList-billRefundLogCachService.saveBatch:  appId=501; payType=wx; valueList=[BillRefundLog(id=281, appId=501, payType=wx, billDate=20190709, orderNo=10110011560398938363931, refundNo=refund10110011560398938363931, tradeNo=4200000303201906137721154482, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=MWEB, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011560398938363931, 微信订单号=4200000303201906137721154482, 商户退款单号=refund10110011560398938363931, 微信退款单号=50000200882019070910306564674, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=282, appId=501, payType=wx, billDate=20190709, orderNo=10110011561951929364204, refundNo=refund10110011561951929364204, tradeNo=4200000294201907012576189376, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011561951929364204, 微信订单号=4200000294201907012576189376, 商户退款单号=refund10110011561951929364204, 微信退款单号=50000000892019070910499055214, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=284, appId=501, payType=wx, billDate=20190709, orderNo=10110011560327103363921, refundNo=refund10110011560327103363921, tradeNo=4200000295201906127291057886, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560327103363921, 微信订单号=4200000295201906127291057886, 商户退款单号=refund10110011560327103363921, 微信退款单号=50000600922019070910376228007, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=280, appId=501, payType=wx, billDate=20190709, orderNo=10110011561694500364202, refundNo=refund10110011561694500364202, tradeNo=4200000300201906281787713838, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011561694500364202, 微信订单号=4200000300201906281787713838, 商户退款单号=refund10110011561694500364202, 微信退款单号=50000600872019070910515745012, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=283, appId=501, payType=wx, billDate=20190709, orderNo=10110011560334037363923, refundNo=refund10110011560334037363923, tradeNo=4200000302201906127476731585, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560334037363923, 微信订单号=4200000302201906127476731585, 商户退款单号=refund10110011560334037363923, 微信退款单号=50000100702019070910536509454, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019)]
2019-07-22 14:49:27,103 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.saveBatch                  : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log_cach (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2019-07-22 14:49:27,109 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.saveBatch                  : ==> Parameters: 281(Integer), 501(String), wx(String), 20190709(String), 10110011560398938363931(String), refund10110011560398938363931(String), 4200000303201906137721154482(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011560398938363931","微信订单号":"4200000303201906137721154482","商户退款单号":"refund10110011560398938363931","微信退款单号":"50000200882019070910306564674","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 282(Integer), 501(String), wx(String), 20190709(String), 10110011561951929364204(String), refund10110011561951929364204(String), 4200000294201907012576189376(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011561951929364204","微信订单号":"4200000294201907012576189376","商户退款单号":"refund10110011561951929364204","微信退款单号":"50000000892019070910499055214","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 284(Integer), 501(String), wx(String), 20190709(String), 10110011560327103363921(String), refund10110011560327103363921(String), 4200000295201906127291057886(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560327103363921","微信订单号":"4200000295201906127291057886","商户退款单号":"refund10110011560327103363921","微信退款单号":"50000600922019070910376228007","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 280(Integer), 501(String), wx(String), 20190709(String), 10110011561694500364202(String), refund10110011561694500364202(String), 4200000300201906281787713838(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011561694500364202","微信订单号":"4200000300201906281787713838","商户退款单号":"refund10110011561694500364202","微信退款单号":"50000600872019070910515745012","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 283(Integer), 501(String), wx(String), 20190709(String), 10110011560334037363923(String), refund10110011560334037363923(String), 4200000302201906127476731585(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560334037363923","微信订单号":"4200000302201906127476731585","商户退款单号":"refund10110011560334037363923","微信退款单号":"50000100702019070910536509454","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp)
2019-07-22 14:49:27,119 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.saveBatch                  : <==    Updates: 5
2019-07-22 14:49:27,119 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findListMoreThanThreeDay   : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log_cach where pay_type = ? and app_id = ? and DATE_ADD(create_time,INTERVAL 4 DAY) < NOW() ORDER BY create_time DESC 
2019-07-22 14:49:27,120 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findListMoreThanThreeDay   : ==> Parameters: wx(String), 501(String)
2019-07-22 14:49:27,131 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findListMoreThanThreeDay   : <==      Total: 8
2019-07-22 14:49:27,132  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BaseBillService   : compareRefundList-7.处理缓存表数据超过三天的记录，生成异常比对明细数据:  appId=501; payType=wx
2019-07-22 14:49:27,132  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 501, payType: wx, date: 2019-07-09T00:00:00.000 - result paysCount: 0, refundsCount: 8
2019-07-22 14:49:27,134 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.batchSave                  : ==>  Preparing: INSERT INTO pay_center3_bill_compare_detail (`batch_id`, `pay_type`, `operate_type`, `order_no`, `refund_no`, `bill_amount`, `request_amount`, `trade_time`, `compare_status`, `compare_desc`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 14:49:27,141 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.batchSave                  : ==> Parameters: 367(Integer), wx(String), 退款(String), 10110031563244439364361(String), refund10110031563244439364361(String), 14200(Integer), 0(Integer), 2019-07-17 23:42:26.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 367(Integer), wx(String), 退款(String), 10110031563245163364362(String), refund10110031563245163364362(String), 14200(Integer), 0(Integer), 2019-07-17 23:42:26.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 367(Integer), wx(String), 退款(String), 10110031563268210364365(String), refund10110031563268210364365(String), 2950(Integer), 0(Integer), 2019-07-17 23:42:26.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 367(Integer), wx(String), 退款(String), 10110011561694500364202(String), refund10110011561694500364202(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 367(Integer), wx(String), 退款(String), 10110011560398938363931(String), refund10110011560398938363931(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 367(Integer), wx(String), 退款(String), 10110011561951929364204(String), refund10110011561951929364204(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 367(Integer), wx(String), 退款(String), 10110011560334037363923(String), refund10110011560334037363923(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 367(Integer), wx(String), 退款(String), 10110011560327103363921(String), refund10110011560327103363921(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), 1(Integer), 支付中心查无此单(String), null
2019-07-22 14:49:27,183 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.batchSave                  : <==    Updates: 8
2019-07-22 14:49:27,185 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.update                     : ==>  Preparing: update pay_center3_bill_compare_batch set `mistake_count` = ?, `unhandle_mistake_count` = ?, `bill_pay_count` = ?, `request_pay_count` = ?, `bill_refund_count` = ?, `request_refund_count` = ?, `bill_pay_amount` = ?, `request_pay_amount` = ?, `bill_refund_amount` = ?, `request_refund_amount` = ?, `pay_service_charge` = ?, `refund_service_charge` = ? where id = ? 
2019-07-22 14:49:27,186 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.update                     : ==> Parameters: 8(Integer), 8(Integer), 0(Integer), 0(Integer), 5(Integer), 0(Integer), 0(Integer), 0(Integer), 25(Integer), 0(Integer), 0(Integer), -188(Integer), 367(Integer)
2019-07-22 14:49:27,196 DEBUG 1361 --- [nio-9999-exec-3] c.i.p.m.t.d.B.update                     : <==    Updates: 1
2019-07-22 14:49:27,234  INFO 1361 --- [nio-9999-exec-3] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-09T00:00:00.000] createCompareBatch successful
2019-07-22 14:49:27,234  INFO 1361 --- [nio-9999-exec-3] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: end 对账触发接口
2019-07-22 14:50:38,209  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: start 对账触发接口  appId=2019-07-09,payType={},billDate={}
2019-07-22 14:50:38,225 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:38,226 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190709(String)
2019-07-22 14:50:38,231 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:50:38,231  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:50:38,231  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:50:38,232  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=503,appId=alipay,config=AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 14:50:38,232  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190709 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-09","bill_type":"trade"},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse","text_params":{},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query"}
2019-07-22 14:50:38,520 ERROR 1361 --- [nio-9999-exec-6] sdk.biz.err                              : ErrorScene^_^40004^_^isp.bill_not_exist^_^null^_^Mac OS X^_^2019-07-22 14:50:38^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=gu8+Q0oGnlUxM3qt+B+A9wbNQpkwhUZGdekUrEIrersR1XetMCZqCIbq0ZSlS6ZcE3JVhnJ7zd3M22zVTMuulgM1IaJyhFS1yyapJ6qvAX+7dB1f4q8vep1QnULaBmiYGaz0irl/cXVQTUyWefqo8v6IzdrDWsdJV3wCsKOXFkL0T9pDB0JgW3MzjSmxlprWpgZqFBXU2N05aikbMTOi0KXjjZ8RzFBDtOaSfxBVFc/9gS38LdbhFQM5ijTNa0HGOGZ2I/yaVvqU/5Qh6PGrSmgzuTFGmBV+uc8DmNCYJFGGLW8TsgjICVPZw6NX1aNGqKUOTP/S4PGIOrt5YyS2Og==&version=1.0&app_id=2018042660058300&sign_type=RSA2&timestamp=2019-07-22 14:50:38^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-09","bill_type":"trade"}^_^Body:{"alipay_data_dataservice_bill_downloadurl_query_response":{"code":"40004","msg":"Business Failed","sub_code":"isp.bill_not_exist","sub_msg":"账单不存在"},"sign":"Gq+kjxgtcIxPkqPaWE44LRxNLhZgQQ9URlgEk4FhMivzPrH/I8kvXpJddhQqUof66/u6AJGeyIUxWlhjJH6JGubeRpTPS+vGcSd7qndlX47YKvxe4PIrRpxiM95dPkXrtdDVkGW4y6vDOj8Wg3Ullh/Q2PVXmNa9XxJ8ka5iuUtNA+Y1/t/QvlUcf7QI35IqkQLHZrht30LNsDh20++fT65gb8FV4nVdbvvkiX0yiAiZVAW90o/EWSdYktEIMGfH5wYBqLhQRMATtZeQ49Ya3lj3Ja+fnCNh92WNciuFoZm9Uk4wCnyJ5k4SO06FlOqwpX0s0X7ePyw+IKhDEciSOw=="}^_^18ms,267ms,3ms
2019-07-22 14:50:38,521  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190709 response: {"code":"40004","msg":"Business Failed","sub_code":"isp.bill_not_exist","sub_msg":"账单不存在","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"isp.bill_not_exist\",\"sub_msg\":\"账单不存在\"},\"sign\":\"Gq+kjxgtcIxPkqPaWE44LRxNLhZgQQ9URlgEk4FhMivzPrH/I8kvXpJddhQqUof66/u6AJGeyIUxWlhjJH6JGubeRpTPS+vGcSd7qndlX47YKvxe4PIrRpxiM95dPkXrtdDVkGW4y6vDOj8Wg3Ullh/Q2PVXmNa9XxJ8ka5iuUtNA+Y1/t/QvlUcf7QI35IqkQLHZrht30LNsDh20++fT65gb8FV4nVdbvvkiX0yiAiZVAW90o/EWSdYktEIMGfH5wYBqLhQRMATtZeQ49Ya3lj3Ja+fnCNh92WNciuFoZm9Uk4wCnyJ5k4SO06FlOqwpX0s0X7ePyw+IKhDEciSOw==\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-09\",\"bill_type\":\"trade\"}"},"success":false,"error_code":"40004"}
2019-07-22 14:50:38,521  WARN 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: Business Failed # isp.bill_not_exist # 账单不存在
2019-07-22 14:50:38,522 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:50:38,522 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), alipay(String), 20190709(String), null, Business Failed # isp.bill_not_exist # 账单不存在(String)
2019-07-22 14:50:38,529 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:50:38,565  INFO 1361 --- [nio-9999-exec-6] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:50:38,566 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:50:38,567 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 503(String), 20190709(String), alipay(String)
2019-07-22 14:50:38,571 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:50:38,572 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:38,572 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), alipay(String), 503(String)
2019-07-22 14:50:38,576 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:50:38,579 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:50:38,580 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), alipay20190709(String)
2019-07-22 14:50:38,584 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:50:38,585 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:38,585 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190709(String)
2019-07-22 14:50:38,589 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:50:38,590 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:50:38,591 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), alipay20190709(String), alipay(String), 20190709(String), 2019-07-22 14:50:38.589(Timestamp)
2019-07-22 14:50:38,597 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:50:38,598 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:38,599 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190709(String)
2019-07-22 14:50:38,603 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:50:38,605  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: alipay, date: 2019-07-09T00:00:00.000 - result is Null
2019-07-22 14:50:38,643  INFO 1361 --- [nio-9999-exec-6] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-09T00:00:00.000] createCompareBatch successful
2019-07-22 14:50:38,647 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:38,647 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190709(String)
2019-07-22 14:50:38,651 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:50:38,651  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:50:38,651  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=503, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:50:38,652  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 request: {nonce_str=7xORTytyj2mdyoOpbtOJ5n5q00HKavss, bill_date=20190709, appid=wxd86049a121654669, sign=4D24799C7A529221CCE4A2C2D14C82D1612F4239DF8A39C367A3B65444D2F100, bill_type=ALL, mch_id=1505417821, sign_type=HMAC-SHA256}
2019-07-22 14:50:38,901  INFO 1361 --- [nio-9999-exec-6] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,7xORTytyj2mdyoOpbtOJ5n5q00HKavss,1563778238,240,api.mch.weixin.qq.com,true,6000,8000,0,0,0,5EF4B22A9C43404D8E545E016468AEECBC5D0F09DB15BCD8A6AD991B8C8FDEC2
2019-07-22 14:50:38,901  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.WxServiceImpl     : <xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[No Bill Exist]]></return_msg>
<error_code><![CDATA[20002]]></error_code>
</xml>
2019-07-22 14:50:38,901  INFO 1361 --- [pool-5-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,7xORTytyj2mdyoOpbtOJ5n5q00HKavss,1563778238,240,api.mch.weixin.qq.com,true,6000,8000,0,0,0,5EF4B22A9C43404D8E545E016468AEECBC5D0F09DB15BCD8A6AD991B8C8FDEC2
2019-07-22 14:50:38,901  INFO 1361 --- [pool-5-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-22 14:50:38,901  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 response content size: 149
2019-07-22 14:50:38,902  INFO 1361 --- [nio-9999-exec-6] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[No Bill Exist]]></return_msg>
<error_code><![CDATA[20002]]></error_code>
</xml>
2019-07-22 14:50:38,903  INFO 1361 --- [nio-9999-exec-6] com.github.wxpay.sdk.WXPay               : processResponseXml: return={return_msg=No Bill Exist, error_code=20002, return_code=FAIL}
2019-07-22 14:50:38,903  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 response: {return_msg=No Bill Exist, error_code=20002, return_code=FAIL}
2019-07-22 14:50:38,903  WARN 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: No Bill Exist
2019-07-22 14:50:38,904 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:50:38,904 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), wx(String), 20190709(String), null, No Bill Exist(String)
2019-07-22 14:50:38,909 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:50:38,949  INFO 1361 --- [nio-9999-exec-6] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:50:38,950 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:50:38,950 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 503(String), 20190709(String), wx(String)
2019-07-22 14:50:38,957 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:50:38,957 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:38,958 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 503(String)
2019-07-22 14:50:38,962 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:50:38,964 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:50:38,965 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), wx20190709(String)
2019-07-22 14:50:38,971 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:50:38,972 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:38,973 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190709(String)
2019-07-22 14:50:38,976 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:50:38,976 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:50:38,977 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), wx20190709(String), wx(String), 20190709(String), 2019-07-22 14:50:38.976(Timestamp)
2019-07-22 14:50:38,985 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:50:38,986 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:38,986 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190709(String)
2019-07-22 14:50:38,990 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:50:38,990  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: wx, date: 2019-07-09T00:00:00.000 - result is Null
2019-07-22 14:50:39,022  INFO 1361 --- [nio-9999-exec-6] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-09T00:00:00.000] createCompareBatch successful
2019-07-22 14:50:39,025 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,025 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:50:39,030 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:50:39,031  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:50:39,031  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:50:39,082 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,083 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562641960364267(String), alipay(String), 101(String)
2019-07-22 14:50:39,087 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-22 14:50:39,087 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 14:50:39,093 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), alipay(String), 20190709(String), 10110011562641960364267(String), 2019070922001486611048342510(String), 5(Integer), 0(Integer), 2019-07-09 19:15:44.0(Timestamp), {"refund_amount":0.05,"支付宝交易号":"2019070922001486611048342510","商户订单号":"10110011562641960364267","业务类型":"交易","商品名称":"商品名称974","创建时间":"2019-07-09 11:15:43","完成时间":"2019-07-09 11:15:44","门店编号":"dev","对方账户":"*佳鸿(641***@qq.com)","订单金额（元）":0.05,"商家实收（元）":0.05,"退款批次号/请求号":"","服务费（元）":0.00,"备注":""}(String), 2019-07-22 14:50:39.082(Timestamp)
2019-07-22 14:50:39,099 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-22 14:50:39,100 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,100 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:50:39,105 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:50:39,106 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-22 14:50:39,109 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190709(String), 1(Integer), 0(Integer), 5(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":58,"退款订单总笔数":24,"订单金额（元）":5107.15,"商家实收（元）":5107.15,"服务费（元）":-62.99,"实收净额（元）":5044.16}(String), null
2019-07-22 14:50:39,128 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-22 14:50:39,129 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,130 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:50:39,134 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:50:39,135 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:50:39,135 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190709(String), null, null
2019-07-22 14:50:39,140 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:50:39,198  INFO 1361 --- [nio-9999-exec-6] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:50:39,199 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:50:39,200 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), alipay(String)
2019-07-22 14:50:39,206 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 1
2019-07-22 14:50:39,207 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-22 14:50:39,208 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562641960364267(String), alipay(String)
2019-07-22 14:50:39,220 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-22 14:50:39,221 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,222 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), alipay(String), 101(String)
2019-07-22 14:50:39,226 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:50:39,229 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:50:39,229 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190709(String)
2019-07-22 14:50:39,234 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:50:39,235 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,235 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:50:39,239 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:50:39,240 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:50:39,240 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190709(String), alipay(String), 20190709(String), 2019-07-22 14:50:39.24(Timestamp)
2019-07-22 14:50:39,246 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:50:39,247 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,248 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:50:39,254 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-22 14:50:39,255 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:50:39,255 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), alipay(String)
2019-07-22 14:50:39,260 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 1
2019-07-22 14:50:39,261 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-22 14:50:39,262 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-22 14:50:39,266 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:50:39,268 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.saveBatch                  : ==>  Preparing: insert into pay_center3_bill_pay_log_cach (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2019-07-22 14:50:39,269 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.saveBatch                  : ==> Parameters: 2117(Integer), 101(String), alipay(String), 20190709(String), 10110011562641960364267(String), 2019070922001486611048342510(String), 5(Integer), 0(Integer), 2019-07-09 19:15:44.0(Timestamp), {"备注":"","业务类型":"交易","创建时间":"2019-07-09 11:15:43","商品名称":"商品名称974","完成时间":"2019-07-09 11:15:44","对方账户":"*佳鸿(641***@qq.com)","门店编号":"dev","refund_amount":0.05,"商户订单号":"10110011562641960364267","支付宝交易号":"2019070922001486611048342510","服务费（元）":0,"商家实收（元）":0.05,"订单金额（元）":0.05,"退款批次号/请求号":""}(String), 2019-07-22 14:50:39.0(Timestamp)
2019-07-22 14:50:39,436  WARN 1361 --- [nio-9999-exec-6] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-09T00:00:00.000] compare exception: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '10110011562641960364267-101-alipay' for key 'idx_oNo_aId_pType'
### The error may involve com.intbee.payment.modules.trade.dao.BillPayLogCachMapper.saveBatch-Inline
### The error occurred while setting parameters
### SQL: insert into pay_center3_bill_pay_log_cach      (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`)      values                (        ?,         ?,         ?,         ?,         ?,         ?,        ?,         ?,         ?,         ?,         ?         )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '10110011562641960364267-101-alipay' for key 'idx_oNo_aId_pType'
; Duplicate entry '10110011562641960364267-101-alipay' for key 'idx_oNo_aId_pType'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '10110011562641960364267-101-alipay' for key 'idx_oNo_aId_pType'
2019-07-22 14:50:39,440 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,440 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:50:39,447 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:50:39,448  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:50:39,448  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=101, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:50:39,448  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.WxServiceImpl     : file [/Users/zhenling/Nesting/zc-service-pay/./bill/wx_101_20190709.csv] already exists, return local file
2019-07-22 14:50:39,449 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,449 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String), 101(String)
2019-07-22 14:50:39,454 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,455 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,455 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String), 101(String)
2019-07-22 14:50:39,459 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,486 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,486 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String), 101(String)
2019-07-22 14:50:39,490 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,491 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,491 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String), 101(String)
2019-07-22 14:50:39,496 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,498 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,498 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String), 101(String)
2019-07-22 14:50:39,504 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,504 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,505 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:50:39,508 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:50:39,509 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-22 14:50:39,509 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190709(String), 0(Integer), 5(Integer), 0(Integer), 25(Integer), 0(Integer), {"总交易单数":5,"总交易额":0.00,"总退款金额":0.25,"手续费总金额":0.00000}(String), null
2019-07-22 14:50:39,518 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-22 14:50:39,519 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,520 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:50:39,525 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:50:39,526 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:50:39,527 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190709(String), null, null
2019-07-22 14:50:39,535 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:50:39,583  INFO 1361 --- [nio-9999-exec-6] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:50:39,584 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:50:39,585 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), wx(String)
2019-07-22 14:50:39,589 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:50:39,590 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,590 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 101(String)
2019-07-22 14:50:39,599 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 7
2019-07-22 14:50:39,599 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:39,599 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561291536365966(String), wx(String)
2019-07-22 14:50:39,604 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-07-22 14:50:39,604  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@c93c0d30, appId=101, payType=wx, orderNo=10110011561291536365966, refundNo=refund10110011561291536365966)
2019-07-22 14:50:39,604  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011561291536365966,payType=wx,appId=101
2019-07-22 14:50:39,604  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011561291536365966
2019-07-22 14:50:39,604 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:50:39,605 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561291536365966(String), wx(String)
2019-07-22 14:50:39,607 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:50:39,610 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:50:39,611 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561291536365966(String), wx(String)
2019-07-22 14:50:39,615 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:50:39,616  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011561291536365966
2019-07-22 14:50:39,616 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,617 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561291536365966(String), wx(String), 101(String)
2019-07-22 14:50:39,622 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-22 14:50:39,623 ERROR 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.BaseBillService   : refundQuery [refund10110011561291536365966] exception: not find PayRequestLog record by [orderNo:10110011561291536365966,payType:wx] 
2019-07-22 14:50:39,623 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:39,623 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011558860422365280(String), wx(String)
2019-07-22 14:50:39,631 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-07-22 14:50:39,631  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@5755a13c, appId=101, payType=wx, orderNo=10110011558860422365280, refundNo=refund10110011558860422365280)
2019-07-22 14:50:39,632  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011558860422365280,payType=wx,appId=101
2019-07-22 14:50:39,632  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011558860422365280
2019-07-22 14:50:39,632 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:50:39,632 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011558860422365280(String), wx(String)
2019-07-22 14:50:39,637 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:50:39,638 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:50:39,638 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011558860422365280(String), wx(String)
2019-07-22 14:50:39,642 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:50:39,642  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011558860422365280
2019-07-22 14:50:39,643 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,643 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011558860422365280(String), wx(String), 101(String)
2019-07-22 14:50:39,646 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-22 14:50:39,647 ERROR 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.BaseBillService   : refundQuery [refund10110011558860422365280] exception: not find PayRequestLog record by [orderNo:10110011558860422365280,payType:wx] 
2019-07-22 14:50:39,648 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:39,650 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String)
2019-07-22 14:50:39,655 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,656 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:39,656 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String)
2019-07-22 14:50:39,662 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,663 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:39,663 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String)
2019-07-22 14:50:39,668 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,669 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:39,669 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String)
2019-07-22 14:50:39,674 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,675 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:39,675 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String)
2019-07-22 14:50:39,680 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,684 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:50:39,685 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), wx20190709(String)
2019-07-22 14:50:39,708 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:50:39,709 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,709 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:50:39,714 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:50:39,714 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:50:39,715 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), wx20190709(String), wx(String), 20190709(String), 2019-07-22 14:50:39.714(Timestamp)
2019-07-22 14:50:39,724 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:50:39,725 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,726 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:50:39,730 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-22 14:50:39,731 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:50:39,731 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), wx(String)
2019-07-22 14:50:39,735 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:50:39,735 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-22 14:50:39,736 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 101(String)
2019-07-22 14:50:39,743 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:50:39,744 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,744 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 101(String)
2019-07-22 14:50:39,755 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 7
2019-07-22 14:50:39,757 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-22 14:50:39,757 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 101(String)
2019-07-22 14:50:39,761 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:50:39,761  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.BaseBillService   : compareRefundList-billRefundLogCachService.saveBatch:  appId=101; payType=wx; valueList=[BillRefundLog(id=309, appId=101, payType=wx, billDate=20190709, orderNo=10110011560398938363931, refundNo=refund10110011560398938363931, tradeNo=4200000303201906137721154482, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=MWEB, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011560398938363931, 微信订单号=4200000303201906137721154482, 商户退款单号=refund10110011560398938363931, 微信退款单号=50000200882019070910306564674, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=310, appId=101, payType=wx, billDate=20190709, orderNo=10110011561951929364204, refundNo=refund10110011561951929364204, tradeNo=4200000294201907012576189376, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011561951929364204, 微信订单号=4200000294201907012576189376, 商户退款单号=refund10110011561951929364204, 微信退款单号=50000000892019070910499055214, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=286, appId=101, payType=wx, billDate=20190709, orderNo=10110011558860422365280, refundNo=refund10110011558860422365280, tradeNo=4200000299201905263010571491, refundAmount=5, serviceCharge=0, tradeTime=Thu Jul 11 03:35:39 CST 2019, details={费率=0.60%, 商户号=1367026602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=MWEB, 付款银行=CFT, 商品名称=chenjhtest, 子商户号=0, 用户标识=oF9zhvuwwXGs0OPoPdSuknufzzuc, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxf712db1e1042a294, 商户订单号=10110011558860422365280, 微信订单号=4200000299201905263010571491, 商户退款单号=refund10110011558860422365280, 微信退款单号=50000300612019070910499890270, merchant_income_charge=0}, createTime=Wed Jul 10 14:36:38 CST 2019), BillRefundLog(id=285, appId=101, payType=wx, billDate=20190709, orderNo=10110011561291536365966, refundNo=refund10110011561291536365966, tradeNo=4200000297201906233184249390, refundAmount=40500, serviceCharge=-243, tradeTime=Thu Jul 11 03:35:39 CST 2019, details={费率=0.60%, 商户号=1367026602, 总金额=0, 手续费=-2.43, 交易状态=REFUND, 交易类型=MWEB, 付款银行=LQT, 商品名称=LONGCHAMP 珑骧 女士织物单肩包中号长柄 2605, 子商户号=0, 用户标识=oF9zhvgYZ-Fy68cIOpnbNUOIhJ34, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=405, 公众账号ID=wxf712db1e1042a294, 商户订单号=10110011561291536365966, 微信订单号=4200000297201906233184249390, 商户退款单号=refund10110011561291536365966, 微信退款单号=50000600752019070910412896587, merchant_income_charge=0}, createTime=Wed Jul 10 14:36:38 CST 2019), BillRefundLog(id=312, appId=101, payType=wx, billDate=20190709, orderNo=10110011560327103363921, refundNo=refund10110011560327103363921, tradeNo=4200000295201906127291057886, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560327103363921, 微信订单号=4200000295201906127291057886, 商户退款单号=refund10110011560327103363921, 微信退款单号=50000600922019070910376228007, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=308, appId=101, payType=wx, billDate=20190709, orderNo=10110011561694500364202, refundNo=refund10110011561694500364202, tradeNo=4200000300201906281787713838, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011561694500364202, 微信订单号=4200000300201906281787713838, 商户退款单号=refund10110011561694500364202, 微信退款单号=50000600872019070910515745012, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=311, appId=101, payType=wx, billDate=20190709, orderNo=10110011560334037363923, refundNo=refund10110011560334037363923, tradeNo=4200000302201906127476731585, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560334037363923, 微信订单号=4200000302201906127476731585, 商户退款单号=refund10110011560334037363923, 微信退款单号=50000100702019070910536509454, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019)]
2019-07-22 14:50:39,764 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.saveBatch                  : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log_cach (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2019-07-22 14:50:39,771 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.saveBatch                  : ==> Parameters: 309(Integer), 101(String), wx(String), 20190709(String), 10110011560398938363931(String), refund10110011560398938363931(String), 4200000303201906137721154482(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011560398938363931","微信订单号":"4200000303201906137721154482","商户退款单号":"refund10110011560398938363931","微信退款单号":"50000200882019070910306564674","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 310(Integer), 101(String), wx(String), 20190709(String), 10110011561951929364204(String), refund10110011561951929364204(String), 4200000294201907012576189376(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011561951929364204","微信订单号":"4200000294201907012576189376","商户退款单号":"refund10110011561951929364204","微信退款单号":"50000000892019070910499055214","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 286(Integer), 101(String), wx(String), 20190709(String), 10110011558860422365280(String), refund10110011558860422365280(String), 4200000299201905263010571491(String), 5(Integer), 0(Integer), 2019-07-11 03:35:39.0(Timestamp), {"费率":"0.60%","商户号":"1367026602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"CFT","商品名称":"chenjhtest","子商户号":"0","用户标识":"oF9zhvuwwXGs0OPoPdSuknufzzuc","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxf712db1e1042a294","商户订单号":"10110011558860422365280","微信订单号":"4200000299201905263010571491","商户退款单号":"refund10110011558860422365280","微信退款单号":"50000300612019070910499890270","merchant_income_charge":0}(String), 2019-07-10 14:36:38.0(Timestamp), 285(Integer), 101(String), wx(String), 20190709(String), 10110011561291536365966(String), refund10110011561291536365966(String), 4200000297201906233184249390(String), 40500(Integer), -243(Integer), 2019-07-11 03:35:39.0(Timestamp), {"费率":"0.60%","商户号":"1367026602","总金额":0,"手续费":-2.43,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"LQT","商品名称":"LONGCHAMP 珑骧 女士织物单肩包中号长柄 2605","子商户号":"0","用户标识":"oF9zhvgYZ-Fy68cIOpnbNUOIhJ34","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":405,"公众账号ID":"wxf712db1e1042a294","商户订单号":"10110011561291536365966","微信订单号":"4200000297201906233184249390","商户退款单号":"refund10110011561291536365966","微信退款单号":"50000600752019070910412896587","merchant_income_charge":0}(String), 2019-07-10 14:36:38.0(Timestamp), 312(Integer), 101(String), wx(String), 20190709(String), 10110011560327103363921(String), refund10110011560327103363921(String), 4200000295201906127291057886(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560327103363921","微信订单号":"4200000295201906127291057886","商户退款单号":"refund10110011560327103363921","微信退款单号":"50000600922019070910376228007","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 308(Integer), 101(String), wx(String), 20190709(String), 10110011561694500364202(String), refund10110011561694500364202(String), 4200000300201906281787713838(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011561694500364202","微信订单号":"4200000300201906281787713838","商户退款单号":"refund10110011561694500364202","微信退款单号":"50000600872019070910515745012","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 311(Integer), 101(String), wx(String), 20190709(String), 10110011560334037363923(String), refund10110011560334037363923(String), 4200000302201906127476731585(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560334037363923","微信订单号":"4200000302201906127476731585","商户退款单号":"refund10110011560334037363923","微信退款单号":"50000100702019070910536509454","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp)
2019-07-22 14:50:39,824  WARN 1361 --- [nio-9999-exec-6] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-09T00:00:00.000] compare exception: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '309' for key 'PRIMARY'
### The error may involve com.intbee.payment.modules.trade.dao.BillRefundLogCachMapper.saveBatch-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO pay_center3_bill_refund_log_cach (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`)   VALUES                  (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )      ,         (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )      ,         (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )      ,         (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )      ,         (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )      ,         (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )      ,         (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '309' for key 'PRIMARY'
; Duplicate entry '309' for key 'PRIMARY'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '309' for key 'PRIMARY'
2019-07-22 14:50:39,829 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,830 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:50:39,834 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:50:39,834  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=501, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:50:39,834  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=501, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:50:39,835  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.WxServiceImpl     : file [/Users/zhenling/Nesting/zc-service-pay/./bill/wx_501_20190709.csv] already exists, return local file
2019-07-22 14:50:39,847 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,848 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String), 501(String)
2019-07-22 14:50:39,852 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,855 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,856 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String), 501(String)
2019-07-22 14:50:39,861 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,861 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,862 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String), 501(String)
2019-07-22 14:50:39,865 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,865 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,866 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String), 501(String)
2019-07-22 14:50:39,870 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,871 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,871 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String), 501(String)
2019-07-22 14:50:39,876 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:39,877 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,877 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:50:39,880 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:50:39,881 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-22 14:50:39,882 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190709(String), 0(Integer), 5(Integer), 0(Integer), 25(Integer), 0(Integer), {"总交易单数":5,"总交易额":0.00,"总退款金额":0.25,"手续费总金额":0.00000}(String), null
2019-07-22 14:50:39,886 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-22 14:50:39,887 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:39,887 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:50:39,891 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:50:39,892 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:50:39,892 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190709(String), null, null
2019-07-22 14:50:39,896 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:50:39,981  INFO 1361 --- [nio-9999-exec-6] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:50:39,982 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:50:39,982 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 501(String), 20190709(String), wx(String)
2019-07-22 14:50:39,987 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:50:39,987 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:39,987 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 501(String)
2019-07-22 14:50:39,994 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 5
2019-07-22 14:50:39,994 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:39,995 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String)
2019-07-22 14:50:40,005 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:40,005 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:40,006 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String)
2019-07-22 14:50:40,010 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:40,010 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:40,011 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String)
2019-07-22 14:50:40,015 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:40,016 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:40,016 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String)
2019-07-22 14:50:40,022 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:40,023 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:50:40,024 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String)
2019-07-22 14:50:40,027 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:50:40,029 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:50:40,030 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 501(String), wx20190709(String)
2019-07-22 14:50:40,033 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:50:40,033 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:40,033 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:50:40,036 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:50:40,036 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:50:40,037 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 501(String), wx20190709(String), wx(String), 20190709(String), 2019-07-22 14:50:40.036(Timestamp)
2019-07-22 14:50:40,041 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:50:40,042 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:50:40,042 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:50:40,045 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-22 14:50:40,046 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:50:40,046 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 501(String), 20190709(String), wx(String)
2019-07-22 14:50:40,050 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:50:40,051 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-22 14:50:40,053 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 501(String)
2019-07-22 14:50:40,055 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:50:40,056 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:50:40,056 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 501(String)
2019-07-22 14:50:40,061 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 5
2019-07-22 14:50:40,062 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-22 14:50:40,063 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 501(String)
2019-07-22 14:50:40,065 DEBUG 1361 --- [nio-9999-exec-6] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:50:40,066  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.t.service.impl.BaseBillService   : compareRefundList-billRefundLogCachService.saveBatch:  appId=501; payType=wx; valueList=[BillRefundLog(id=281, appId=501, payType=wx, billDate=20190709, orderNo=10110011560398938363931, refundNo=refund10110011560398938363931, tradeNo=4200000303201906137721154482, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=MWEB, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011560398938363931, 微信订单号=4200000303201906137721154482, 商户退款单号=refund10110011560398938363931, 微信退款单号=50000200882019070910306564674, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=282, appId=501, payType=wx, billDate=20190709, orderNo=10110011561951929364204, refundNo=refund10110011561951929364204, tradeNo=4200000294201907012576189376, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011561951929364204, 微信订单号=4200000294201907012576189376, 商户退款单号=refund10110011561951929364204, 微信退款单号=50000000892019070910499055214, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=284, appId=501, payType=wx, billDate=20190709, orderNo=10110011560327103363921, refundNo=refund10110011560327103363921, tradeNo=4200000295201906127291057886, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560327103363921, 微信订单号=4200000295201906127291057886, 商户退款单号=refund10110011560327103363921, 微信退款单号=50000600922019070910376228007, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=280, appId=501, payType=wx, billDate=20190709, orderNo=10110011561694500364202, refundNo=refund10110011561694500364202, tradeNo=4200000300201906281787713838, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011561694500364202, 微信订单号=4200000300201906281787713838, 商户退款单号=refund10110011561694500364202, 微信退款单号=50000600872019070910515745012, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=283, appId=501, payType=wx, billDate=20190709, orderNo=10110011560334037363923, refundNo=refund10110011560334037363923, tradeNo=4200000302201906127476731585, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560334037363923, 微信订单号=4200000302201906127476731585, 商户退款单号=refund10110011560334037363923, 微信退款单号=50000100702019070910536509454, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019)]
2019-07-22 14:50:40,072 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.saveBatch                  : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log_cach (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2019-07-22 14:50:40,077 DEBUG 1361 --- [nio-9999-exec-6] c.i.p.m.t.d.B.saveBatch                  : ==> Parameters: 281(Integer), 501(String), wx(String), 20190709(String), 10110011560398938363931(String), refund10110011560398938363931(String), 4200000303201906137721154482(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011560398938363931","微信订单号":"4200000303201906137721154482","商户退款单号":"refund10110011560398938363931","微信退款单号":"50000200882019070910306564674","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 282(Integer), 501(String), wx(String), 20190709(String), 10110011561951929364204(String), refund10110011561951929364204(String), 4200000294201907012576189376(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011561951929364204","微信订单号":"4200000294201907012576189376","商户退款单号":"refund10110011561951929364204","微信退款单号":"50000000892019070910499055214","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 284(Integer), 501(String), wx(String), 20190709(String), 10110011560327103363921(String), refund10110011560327103363921(String), 4200000295201906127291057886(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560327103363921","微信订单号":"4200000295201906127291057886","商户退款单号":"refund10110011560327103363921","微信退款单号":"50000600922019070910376228007","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 280(Integer), 501(String), wx(String), 20190709(String), 10110011561694500364202(String), refund10110011561694500364202(String), 4200000300201906281787713838(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011561694500364202","微信订单号":"4200000300201906281787713838","商户退款单号":"refund10110011561694500364202","微信退款单号":"50000600872019070910515745012","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 283(Integer), 501(String), wx(String), 20190709(String), 10110011560334037363923(String), refund10110011560334037363923(String), 4200000302201906127476731585(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560334037363923","微信订单号":"4200000302201906127476731585","商户退款单号":"refund10110011560334037363923","微信退款单号":"50000100702019070910536509454","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp)
2019-07-22 14:50:40,111  WARN 1361 --- [nio-9999-exec-6] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-09T00:00:00.000] compare exception: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '281' for key 'PRIMARY'
### The error may involve com.intbee.payment.modules.trade.dao.BillRefundLogCachMapper.saveBatch-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO pay_center3_bill_refund_log_cach (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`)   VALUES                  (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )      ,         (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )      ,         (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )      ,         (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )      ,         (        ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?,         ?                )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '281' for key 'PRIMARY'
; Duplicate entry '281' for key 'PRIMARY'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '281' for key 'PRIMARY'
2019-07-22 14:50:40,112  INFO 1361 --- [nio-9999-exec-6] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: end 对账触发接口
2019-07-22 14:54:12,716  INFO 1361 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery start...
2019-07-22 14:54:12,721 DEBUG 1361 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==>  Preparing: select pr.id, pr.app_id, pr.pay_type, pr.channel, pr.order_no, pr.amount, pr.subject, pr.sign_type, pr.client_ip, pr.extra, pr.create_time from pay_center3_pay_request pr left join pay_center3_pay_query_result pqr on pr.pay_type = pqr.pay_type and pr.order_no = pqr.order_no where pqr.app_id is null and pr.create_time between ? and ? 
2019-07-22 14:54:12,721 DEBUG 1361 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==> Parameters: 2019-07-20 14:54:12.716(Timestamp), 2019-07-22 14:54:12.716(Timestamp)
2019-07-22 14:54:12,724 DEBUG 1361 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : <==      Total: 0
2019-07-22 14:54:38,447  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: start 对账触发接口  appId=2019-07-09,payType={},billDate={}
2019-07-22 14:54:38,453 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:38,454 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190709(String)
2019-07-22 14:54:38,459 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:54:38,460  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:54:38,460  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=503, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:54:38,460  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=503,appId=alipay,config=AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 14:54:38,460  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190709 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-09","bill_type":"trade"},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse","text_params":{},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query"}
2019-07-22 14:54:38,721 ERROR 1361 --- [nio-9999-exec-8] sdk.biz.err                              : ErrorScene^_^40004^_^isp.bill_not_exist^_^null^_^Mac OS X^_^2019-07-22 14:54:38^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=eGtaY4utV3oL7wPtaHVPdywSwzpIWc/ANfuoGyU7sICvmLq8L68C93Fsi4bsFR0JQmBjL/Csep9e+KMo9QQw2gHibXpo+nIENwdK8yEYVicv9/OZZnK5Gfxzn9fuu3uO5GhFGKzMTBKTZxH/PYiNtxoUSUWJ1PCbMdk9hvmMv09Y8crWyMi35m2TcT7ORer+E61rRZuke4jMUF3pGu6pWyaR96bqciZYMZwseklVnDczDYXTo8EQJS9zB/N7uLjbwQs4k2YHVVqNlAMMlV/jl1P+jE8DgRA4i1+IVvY3QwQoH5L0zIQpxehZViIjg2UpO++HHsa3qsJXtOdKMdla5Q==&version=1.0&app_id=2018042660058300&sign_type=RSA2&timestamp=2019-07-22 14:54:38^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-09","bill_type":"trade"}^_^Body:{"alipay_data_dataservice_bill_downloadurl_query_response":{"code":"40004","msg":"Business Failed","sub_code":"isp.bill_not_exist","sub_msg":"账单不存在"},"sign":"Gq+kjxgtcIxPkqPaWE44LRxNLhZgQQ9URlgEk4FhMivzPrH/I8kvXpJddhQqUof66/u6AJGeyIUxWlhjJH6JGubeRpTPS+vGcSd7qndlX47YKvxe4PIrRpxiM95dPkXrtdDVkGW4y6vDOj8Wg3Ullh/Q2PVXmNa9XxJ8ka5iuUtNA+Y1/t/QvlUcf7QI35IqkQLHZrht30LNsDh20++fT65gb8FV4nVdbvvkiX0yiAiZVAW90o/EWSdYktEIMGfH5wYBqLhQRMATtZeQ49Ya3lj3Ja+fnCNh92WNciuFoZm9Uk4wCnyJ5k4SO06FlOqwpX0s0X7ePyw+IKhDEciSOw=="}^_^10ms,249ms,1ms
2019-07-22 14:54:38,722  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190709 response: {"code":"40004","msg":"Business Failed","sub_code":"isp.bill_not_exist","sub_msg":"账单不存在","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"isp.bill_not_exist\",\"sub_msg\":\"账单不存在\"},\"sign\":\"Gq+kjxgtcIxPkqPaWE44LRxNLhZgQQ9URlgEk4FhMivzPrH/I8kvXpJddhQqUof66/u6AJGeyIUxWlhjJH6JGubeRpTPS+vGcSd7qndlX47YKvxe4PIrRpxiM95dPkXrtdDVkGW4y6vDOj8Wg3Ullh/Q2PVXmNa9XxJ8ka5iuUtNA+Y1/t/QvlUcf7QI35IqkQLHZrht30LNsDh20++fT65gb8FV4nVdbvvkiX0yiAiZVAW90o/EWSdYktEIMGfH5wYBqLhQRMATtZeQ49Ya3lj3Ja+fnCNh92WNciuFoZm9Uk4wCnyJ5k4SO06FlOqwpX0s0X7ePyw+IKhDEciSOw==\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-09\",\"bill_type\":\"trade\"}"},"success":false,"error_code":"40004"}
2019-07-22 14:54:38,722  WARN 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: Business Failed # isp.bill_not_exist # 账单不存在
2019-07-22 14:54:38,723 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:54:38,723 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), alipay(String), 20190709(String), null, Business Failed # isp.bill_not_exist # 账单不存在(String)
2019-07-22 14:54:38,727 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:54:38,754  INFO 1361 --- [nio-9999-exec-8] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:54:38,755 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:54:38,755 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 503(String), 20190709(String), alipay(String)
2019-07-22 14:54:38,757 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:54:38,758 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:38,759 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), alipay(String), 503(String)
2019-07-22 14:54:38,762 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:54:38,764 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:54:38,765 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), alipay20190709(String)
2019-07-22 14:54:38,768 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:54:38,769 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:38,769 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190709(String)
2019-07-22 14:54:38,772 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:54:38,773 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:54:38,774 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), alipay20190709(String), alipay(String), 20190709(String), 2019-07-22 14:54:38.773(Timestamp)
2019-07-22 14:54:38,778 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:54:38,779 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:38,780 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), alipay(String), 20190709(String)
2019-07-22 14:54:38,784 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:54:38,784  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: alipay, date: 2019-07-09T00:00:00.000 - result is Null
2019-07-22 14:54:38,813  INFO 1361 --- [nio-9999-exec-8] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 503, date:2019-07-09T00:00:00.000] createCompareBatch successful
2019-07-22 14:54:38,818 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:38,819 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190709(String)
2019-07-22 14:54:38,821 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:54:38,822  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=503, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:54:38,822  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=503, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:54:38,822  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 request: {nonce_str=zac4LxYN8POOFtBIsBiFx7rYxWI7KewH, bill_date=20190709, appid=wxd86049a121654669, sign=D30A18A288119349FAAB43CB82525ECBDE398E673641FB0F58440E4FC5FF38DD, bill_type=ALL, mch_id=1505417821, sign_type=HMAC-SHA256}
2019-07-22 14:54:39,099  INFO 1361 --- [nio-9999-exec-8] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,zac4LxYN8POOFtBIsBiFx7rYxWI7KewH,1563778479,262,api.mch.weixin.qq.com,true,6000,8000,0,0,0,E867BBB17F92683AFFDB8BE715AF460D323B6B353CDBFA554EC95DFBAB60972F
2019-07-22 14:54:39,099  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.WxServiceImpl     : <xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[No Bill Exist]]></return_msg>
<error_code><![CDATA[20002]]></error_code>
</xml>
2019-07-22 14:54:39,099  INFO 1361 --- [pool-6-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,zac4LxYN8POOFtBIsBiFx7rYxWI7KewH,1563778479,262,api.mch.weixin.qq.com,true,6000,8000,0,0,0,E867BBB17F92683AFFDB8BE715AF460D323B6B353CDBFA554EC95DFBAB60972F
2019-07-22 14:54:39,099  INFO 1361 --- [pool-6-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-22 14:54:39,099  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 response content size: 149
2019-07-22 14:54:39,099  INFO 1361 --- [nio-9999-exec-8] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[No Bill Exist]]></return_msg>
<error_code><![CDATA[20002]]></error_code>
</xml>
2019-07-22 14:54:39,100  INFO 1361 --- [nio-9999-exec-8] com.github.wxpay.sdk.WXPay               : processResponseXml: return={return_msg=No Bill Exist, error_code=20002, return_code=FAIL}
2019-07-22 14:54:39,101  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.WxServiceImpl     : log-id downloadBill-20190709 response: {return_msg=No Bill Exist, error_code=20002, return_code=FAIL}
2019-07-22 14:54:39,101  WARN 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: No Bill Exist
2019-07-22 14:54:39,101 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:54:39,101 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 503(String), wx(String), 20190709(String), null, No Bill Exist(String)
2019-07-22 14:54:39,105 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:54:39,129  INFO 1361 --- [nio-9999-exec-8] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:54:39,131 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:54:39,131 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 503(String), 20190709(String), wx(String)
2019-07-22 14:54:39,134 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:54:39,134 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,135 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 503(String)
2019-07-22 14:54:39,137 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:54:39,139 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:54:39,140 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 503(String), wx20190709(String)
2019-07-22 14:54:39,142 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:54:39,143 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,143 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190709(String)
2019-07-22 14:54:39,145 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:54:39,146 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:54:39,146 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 503(String), wx20190709(String), wx(String), 20190709(String), 2019-07-22 14:54:39.146(Timestamp)
2019-07-22 14:54:39,151 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:54:39,152 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,152 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 503(String), wx(String), 20190709(String)
2019-07-22 14:54:39,155 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:54:39,156  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 503, payType: wx, date: 2019-07-09T00:00:00.000 - result is Null
2019-07-22 14:54:39,187  INFO 1361 --- [nio-9999-exec-8] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 503, date:2019-07-09T00:00:00.000] createCompareBatch successful
2019-07-22 14:54:39,190 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,190 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:54:39,199 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:54:39,200  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:54:39,200  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:54:39,217 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,217 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562641960364267(String), alipay(String), 101(String)
2019-07-22 14:54:39,221 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-22 14:54:39,221 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 14:54:39,223 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), alipay(String), 20190709(String), 10110011562641960364267(String), 2019070922001486611048342510(String), 5(Integer), 0(Integer), 2019-07-09 19:15:44.0(Timestamp), {"refund_amount":0.05,"支付宝交易号":"2019070922001486611048342510","商户订单号":"10110011562641960364267","业务类型":"交易","商品名称":"商品名称974","创建时间":"2019-07-09 11:15:43","完成时间":"2019-07-09 11:15:44","门店编号":"dev","对方账户":"*佳鸿(641***@qq.com)","订单金额（元）":0.05,"商家实收（元）":0.05,"退款批次号/请求号":"","服务费（元）":0.00,"备注":""}(String), 2019-07-22 14:54:39.216(Timestamp)
2019-07-22 14:54:39,227 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-22 14:54:39,228 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,229 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:54:39,231 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:54:39,234 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-22 14:54:39,234 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190709(String), 1(Integer), 0(Integer), 5(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":58,"退款订单总笔数":24,"订单金额（元）":5107.15,"商家实收（元）":5107.15,"服务费（元）":-62.99,"实收净额（元）":5044.16}(String), null
2019-07-22 14:54:39,238 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-22 14:54:39,238 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,239 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:54:39,241 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:54:39,241 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:54:39,242 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190709(String), null, null
2019-07-22 14:54:39,245 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:54:39,271  INFO 1361 --- [nio-9999-exec-8] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:54:39,272 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:54:39,272 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), alipay(String)
2019-07-22 14:54:39,276 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 1
2019-07-22 14:54:39,278 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-22 14:54:39,280 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562641960364267(String), alipay(String)
2019-07-22 14:54:39,285 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-22 14:54:39,286 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,287 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), alipay(String), 101(String)
2019-07-22 14:54:39,290 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:54:39,292 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:54:39,294 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190709(String)
2019-07-22 14:54:39,297 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:54:39,298 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,298 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:54:39,302 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:54:39,302 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:54:39,303 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190709(String), alipay(String), 20190709(String), 2019-07-22 14:54:39.302(Timestamp)
2019-07-22 14:54:39,306 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:54:39,307 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,307 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-22 14:54:39,310 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-22 14:54:39,310 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:54:39,310 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), alipay(String)
2019-07-22 14:54:39,314 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 1
2019-07-22 14:54:39,315 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-22 14:54:39,315 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-22 14:54:39,322 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:54:39,323 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.saveBatch                  : ==>  Preparing: insert into pay_center3_bill_pay_log_cach (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2019-07-22 14:54:39,324 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.saveBatch                  : ==> Parameters: 2118(Integer), 101(String), alipay(String), 20190709(String), 10110011562641960364267(String), 2019070922001486611048342510(String), 5(Integer), 0(Integer), 2019-07-09 19:15:44.0(Timestamp), {"备注":"","业务类型":"交易","创建时间":"2019-07-09 11:15:43","商品名称":"商品名称974","完成时间":"2019-07-09 11:15:44","对方账户":"*佳鸿(641***@qq.com)","门店编号":"dev","refund_amount":0.05,"商户订单号":"10110011562641960364267","支付宝交易号":"2019070922001486611048342510","服务费（元）":0,"商家实收（元）":0.05,"订单金额（元）":0.05,"退款批次号/请求号":""}(String), 2019-07-22 14:54:39.0(Timestamp)
2019-07-22 14:54:39,327 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.saveBatch                  : <==    Updates: 1
2019-07-22 14:54:39,327  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : comparePayList-billPayLogCachService.saveBatch:  appId=101; payType=alipay;leftBillPayLogs=[BillPayLog(id=2118, appId=101, payType=alipay, billDate=20190709, orderNo=10110011562641960364267, tradeNo=2019070922001486611048342510, payAmount=5, serviceCharge=0, tradeTime=Tue Jul 09 19:15:44 CST 2019, details={备注=, 业务类型=交易, 创建时间=2019-07-09 11:15:43, 商品名称=商品名称974, 完成时间=2019-07-09 11:15:44, 对方账户=*佳鸿(641***@qq.com), 门店编号=dev, refund_amount=0.05, 商户订单号=10110011562641960364267, 支付宝交易号=2019070922001486611048342510, 服务费（元）=0, 商家实收（元）=0.05, 订单金额（元）=0.05, 退款批次号/请求号=}, createTime=Mon Jul 22 14:54:39 CST 2019)]
2019-07-22 14:54:39,328 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findListMoreThanThreeDay   : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log_cach where pay_type = ? and app_id = ? and DATE_ADD(create_time,INTERVAL 4 DAY) < NOW() ORDER BY create_time DESC 
2019-07-22 14:54:39,329 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findListMoreThanThreeDay   : ==> Parameters: alipay(String), 101(String)
2019-07-22 14:54:39,331 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findListMoreThanThreeDay   : <==      Total: 0
2019-07-22 14:54:39,332 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,332 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), alipay(String), 101(String)
2019-07-22 14:54:39,335 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:54:39,335 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-22 14:54:39,336 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-22 14:54:39,338 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:54:39,338  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: alipay, date: 2019-07-09T00:00:00.000 - result paysCount: 0, refundsCount: 0
2019-07-22 14:54:39,371  INFO 1361 --- [nio-9999-exec-8] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-09T00:00:00.000] createCompareBatch successful
2019-07-22 14:54:39,374 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,374 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:54:39,376 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:54:39,377  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:54:39,377  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=101, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:54:39,378  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.WxServiceImpl     : file [/Users/zhenling/Nesting/zc-service-pay/./bill/wx_101_20190709.csv] already exists, return local file
2019-07-22 14:54:39,384 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,384 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String), 101(String)
2019-07-22 14:54:39,387 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,388 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,388 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String), 101(String)
2019-07-22 14:54:39,391 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,392 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,393 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String), 101(String)
2019-07-22 14:54:39,399 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,401 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,402 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String), 101(String)
2019-07-22 14:54:39,404 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,405 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,405 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String), 101(String)
2019-07-22 14:54:39,408 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,409 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,409 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:54:39,412 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:54:39,412 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-22 14:54:39,413 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190709(String), 0(Integer), 5(Integer), 0(Integer), 25(Integer), 0(Integer), {"总交易单数":5,"总交易额":0.00,"总退款金额":0.25,"手续费总金额":0.00000}(String), null
2019-07-22 14:54:39,434 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-22 14:54:39,435 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,435 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:54:39,437 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:54:39,438 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:54:39,438 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), wx(String), 20190709(String), null, null
2019-07-22 14:54:39,442 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:54:39,472  INFO 1361 --- [nio-9999-exec-8] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:54:39,473 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:54:39,474 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), wx(String)
2019-07-22 14:54:39,477 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:54:39,479 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,481 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 101(String)
2019-07-22 14:54:39,489 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 7
2019-07-22 14:54:39,490 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,490 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561291536365966(String), wx(String)
2019-07-22 14:54:39,494 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-07-22 14:54:39,494  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@c93c0d30, appId=101, payType=wx, orderNo=10110011561291536365966, refundNo=refund10110011561291536365966)
2019-07-22 14:54:39,494  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011561291536365966,payType=wx,appId=101
2019-07-22 14:54:39,494  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011561291536365966
2019-07-22 14:54:39,495 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:54:39,495 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561291536365966(String), wx(String)
2019-07-22 14:54:39,499 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:54:39,500 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:54:39,501 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011561291536365966(String), wx(String)
2019-07-22 14:54:39,505 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:54:39,506  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011561291536365966
2019-07-22 14:54:39,506 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,506 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011561291536365966(String), wx(String), 101(String)
2019-07-22 14:54:39,509 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-22 14:54:39,510 ERROR 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : refundQuery [refund10110011561291536365966] exception: not find PayRequestLog record by [orderNo:10110011561291536365966,payType:wx] 
2019-07-22 14:54:39,510 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,510 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011558860422365280(String), wx(String)
2019-07-22 14:54:39,515 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 0
2019-07-22 14:54:39,515  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.PaymentServiceProxy     : request refundQuery: RefundQueryRequestVO(super=com.intbee.payment.modules.trade.vo.RefundQueryRequestVO@5755a13c, appId=101, payType=wx, orderNo=10110011558860422365280, refundNo=refund10110011558860422365280)
2019-07-22 14:54:39,515  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011558860422365280,payType=wx,appId=101
2019-07-22 14:54:39,515  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011558860422365280
2019-07-22 14:54:39,516 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:54:39,516 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011558860422365280(String), wx(String)
2019-07-22 14:54:39,519 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:54:39,519 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-22 14:54:39,520 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011558860422365280(String), wx(String)
2019-07-22 14:54:39,525 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-22 14:54:39,526  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011558860422365280
2019-07-22 14:54:39,526 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,527 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011558860422365280(String), wx(String), 101(String)
2019-07-22 14:54:39,529 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-22 14:54:39,529 ERROR 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : refundQuery [refund10110011558860422365280] exception: not find PayRequestLog record by [orderNo:10110011558860422365280,payType:wx] 
2019-07-22 14:54:39,530 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,531 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String)
2019-07-22 14:54:39,535 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,535 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,536 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String)
2019-07-22 14:54:39,540 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,544 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,544 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String)
2019-07-22 14:54:39,552 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,553 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,554 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String)
2019-07-22 14:54:39,559 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,560 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,562 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String)
2019-07-22 14:54:39,570 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,576 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:54:39,577 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), wx20190709(String)
2019-07-22 14:54:39,582 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:54:39,583 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,583 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:54:39,585 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:54:39,586 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:54:39,587 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), wx20190709(String), wx(String), 20190709(String), 2019-07-22 14:54:39.586(Timestamp)
2019-07-22 14:54:39,593 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:54:39,595 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,596 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), wx(String), 20190709(String)
2019-07-22 14:54:39,602 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-22 14:54:39,604 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:54:39,605 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), wx(String)
2019-07-22 14:54:39,613 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:54:39,614 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-22 14:54:39,614 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 101(String)
2019-07-22 14:54:39,617 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:54:39,618 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,618 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 101(String)
2019-07-22 14:54:39,627 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 7
2019-07-22 14:54:39,627 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-22 14:54:39,628 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 101(String)
2019-07-22 14:54:39,631 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:54:39,632  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : compareRefundList-billRefundLogCachService.saveBatch:  appId=101; payType=wx; valueList=[BillRefundLog(id=309, appId=101, payType=wx, billDate=20190709, orderNo=10110011560398938363931, refundNo=refund10110011560398938363931, tradeNo=4200000303201906137721154482, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=MWEB, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011560398938363931, 微信订单号=4200000303201906137721154482, 商户退款单号=refund10110011560398938363931, 微信退款单号=50000200882019070910306564674, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=310, appId=101, payType=wx, billDate=20190709, orderNo=10110011561951929364204, refundNo=refund10110011561951929364204, tradeNo=4200000294201907012576189376, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011561951929364204, 微信订单号=4200000294201907012576189376, 商户退款单号=refund10110011561951929364204, 微信退款单号=50000000892019070910499055214, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=286, appId=101, payType=wx, billDate=20190709, orderNo=10110011558860422365280, refundNo=refund10110011558860422365280, tradeNo=4200000299201905263010571491, refundAmount=5, serviceCharge=0, tradeTime=Thu Jul 11 03:35:39 CST 2019, details={费率=0.60%, 商户号=1367026602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=MWEB, 付款银行=CFT, 商品名称=chenjhtest, 子商户号=0, 用户标识=oF9zhvuwwXGs0OPoPdSuknufzzuc, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxf712db1e1042a294, 商户订单号=10110011558860422365280, 微信订单号=4200000299201905263010571491, 商户退款单号=refund10110011558860422365280, 微信退款单号=50000300612019070910499890270, merchant_income_charge=0}, createTime=Wed Jul 10 14:36:38 CST 2019), BillRefundLog(id=285, appId=101, payType=wx, billDate=20190709, orderNo=10110011561291536365966, refundNo=refund10110011561291536365966, tradeNo=4200000297201906233184249390, refundAmount=40500, serviceCharge=-243, tradeTime=Thu Jul 11 03:35:39 CST 2019, details={费率=0.60%, 商户号=1367026602, 总金额=0, 手续费=-2.43, 交易状态=REFUND, 交易类型=MWEB, 付款银行=LQT, 商品名称=LONGCHAMP 珑骧 女士织物单肩包中号长柄 2605, 子商户号=0, 用户标识=oF9zhvgYZ-Fy68cIOpnbNUOIhJ34, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=405, 公众账号ID=wxf712db1e1042a294, 商户订单号=10110011561291536365966, 微信订单号=4200000297201906233184249390, 商户退款单号=refund10110011561291536365966, 微信退款单号=50000600752019070910412896587, merchant_income_charge=0}, createTime=Wed Jul 10 14:36:38 CST 2019), BillRefundLog(id=312, appId=101, payType=wx, billDate=20190709, orderNo=10110011560327103363921, refundNo=refund10110011560327103363921, tradeNo=4200000295201906127291057886, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560327103363921, 微信订单号=4200000295201906127291057886, 商户退款单号=refund10110011560327103363921, 微信退款单号=50000600922019070910376228007, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=308, appId=101, payType=wx, billDate=20190709, orderNo=10110011561694500364202, refundNo=refund10110011561694500364202, tradeNo=4200000300201906281787713838, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011561694500364202, 微信订单号=4200000300201906281787713838, 商户退款单号=refund10110011561694500364202, 微信退款单号=50000600872019070910515745012, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019), BillRefundLog(id=311, appId=101, payType=wx, billDate=20190709, orderNo=10110011560334037363923, refundNo=refund10110011560334037363923, tradeNo=4200000302201906127476731585, refundAmount=5, serviceCharge=0, tradeTime=Tue Jul 23 03:48:43 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560334037363923, 微信订单号=4200000302201906127476731585, 商户退款单号=refund10110011560334037363923, 微信退款单号=50000100702019070910536509454, merchant_income_charge=0}, createTime=Mon Jul 22 14:49:26 CST 2019)]
2019-07-22 14:54:39,635 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.saveBatch                  : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log_cach (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2019-07-22 14:54:39,639 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.saveBatch                  : ==> Parameters: 309(Integer), 101(String), wx(String), 20190709(String), 10110011560398938363931(String), refund10110011560398938363931(String), 4200000303201906137721154482(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011560398938363931","微信订单号":"4200000303201906137721154482","商户退款单号":"refund10110011560398938363931","微信退款单号":"50000200882019070910306564674","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 310(Integer), 101(String), wx(String), 20190709(String), 10110011561951929364204(String), refund10110011561951929364204(String), 4200000294201907012576189376(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011561951929364204","微信订单号":"4200000294201907012576189376","商户退款单号":"refund10110011561951929364204","微信退款单号":"50000000892019070910499055214","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 286(Integer), 101(String), wx(String), 20190709(String), 10110011558860422365280(String), refund10110011558860422365280(String), 4200000299201905263010571491(String), 5(Integer), 0(Integer), 2019-07-11 03:35:39.0(Timestamp), {"费率":"0.60%","商户号":"1367026602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"CFT","商品名称":"chenjhtest","子商户号":"0","用户标识":"oF9zhvuwwXGs0OPoPdSuknufzzuc","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxf712db1e1042a294","商户订单号":"10110011558860422365280","微信订单号":"4200000299201905263010571491","商户退款单号":"refund10110011558860422365280","微信退款单号":"50000300612019070910499890270","merchant_income_charge":0}(String), 2019-07-10 14:36:38.0(Timestamp), 285(Integer), 101(String), wx(String), 20190709(String), 10110011561291536365966(String), refund10110011561291536365966(String), 4200000297201906233184249390(String), 40500(Integer), -243(Integer), 2019-07-11 03:35:39.0(Timestamp), {"费率":"0.60%","商户号":"1367026602","总金额":0,"手续费":-2.43,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"LQT","商品名称":"LONGCHAMP 珑骧 女士织物单肩包中号长柄 2605","子商户号":"0","用户标识":"oF9zhvgYZ-Fy68cIOpnbNUOIhJ34","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":405,"公众账号ID":"wxf712db1e1042a294","商户订单号":"10110011561291536365966","微信订单号":"4200000297201906233184249390","商户退款单号":"refund10110011561291536365966","微信退款单号":"50000600752019070910412896587","merchant_income_charge":0}(String), 2019-07-10 14:36:38.0(Timestamp), 312(Integer), 101(String), wx(String), 20190709(String), 10110011560327103363921(String), refund10110011560327103363921(String), 4200000295201906127291057886(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560327103363921","微信订单号":"4200000295201906127291057886","商户退款单号":"refund10110011560327103363921","微信退款单号":"50000600922019070910376228007","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 308(Integer), 101(String), wx(String), 20190709(String), 10110011561694500364202(String), refund10110011561694500364202(String), 4200000300201906281787713838(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011561694500364202","微信订单号":"4200000300201906281787713838","商户退款单号":"refund10110011561694500364202","微信退款单号":"50000600872019070910515745012","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp), 311(Integer), 101(String), wx(String), 20190709(String), 10110011560334037363923(String), refund10110011560334037363923(String), 4200000302201906127476731585(String), 5(Integer), 0(Integer), 2019-07-23 03:48:43.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560334037363923","微信订单号":"4200000302201906127476731585","商户退款单号":"refund10110011560334037363923","微信退款单号":"50000100702019070910536509454","merchant_income_charge":0}(String), 2019-07-22 14:49:26.0(Timestamp)
2019-07-22 14:54:39,645 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.saveBatch                  : <==    Updates: 7
2019-07-22 14:54:39,645 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findListMoreThanThreeDay   : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log_cach where pay_type = ? and app_id = ? and DATE_ADD(create_time,INTERVAL 4 DAY) < NOW() ORDER BY create_time DESC 
2019-07-22 14:54:39,646 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findListMoreThanThreeDay   : ==> Parameters: wx(String), 101(String)
2019-07-22 14:54:39,650 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findListMoreThanThreeDay   : <==      Total: 2
2019-07-22 14:54:39,651  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : compareRefundList-7.处理缓存表数据超过三天的记录，生成异常比对明细数据:  appId=101; payType=wx
2019-07-22 14:54:39,651  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: wx, date: 2019-07-09T00:00:00.000 - result paysCount: 0, refundsCount: 2
2019-07-22 14:54:39,652 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.batchSave                  : ==>  Preparing: INSERT INTO pay_center3_bill_compare_detail (`batch_id`, `pay_type`, `operate_type`, `order_no`, `refund_no`, `bill_amount`, `request_amount`, `trade_time`, `compare_status`, `compare_desc`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 14:54:39,654 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.batchSave                  : ==> Parameters: 376(Integer), wx(String), 退款(String), 10110011561291536365966(String), refund10110011561291536365966(String), 40500(Integer), 0(Integer), 2019-07-11 03:35:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 376(Integer), wx(String), 退款(String), 10110011558860422365280(String), refund10110011558860422365280(String), 5(Integer), 0(Integer), 2019-07-11 03:35:39.0(Timestamp), 1(Integer), 支付中心查无此单(String), null
2019-07-22 14:54:39,657 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.batchSave                  : <==    Updates: 2
2019-07-22 14:54:39,658 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.update                     : ==>  Preparing: update pay_center3_bill_compare_batch set `mistake_count` = ?, `unhandle_mistake_count` = ?, `bill_pay_count` = ?, `request_pay_count` = ?, `bill_refund_count` = ?, `request_refund_count` = ?, `bill_pay_amount` = ?, `request_pay_amount` = ?, `bill_refund_amount` = ?, `request_refund_amount` = ?, `pay_service_charge` = ?, `refund_service_charge` = ? where id = ? 
2019-07-22 14:54:39,659 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.update                     : ==> Parameters: 2(Integer), 2(Integer), 0(Integer), 0(Integer), 5(Integer), 0(Integer), 0(Integer), 0(Integer), 25(Integer), 0(Integer), 0(Integer), -486(Integer), 376(Integer)
2019-07-22 14:54:39,668 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.update                     : <==    Updates: 1
2019-07-22 14:54:39,697  INFO 1361 --- [nio-9999-exec-8] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 101, date:2019-07-09T00:00:00.000] createCompareBatch successful
2019-07-22 14:54:39,699 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,700 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:54:39,705 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:54:39,706  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=501, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:54:39,706  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.WxServiceImpl     : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=501, payType=wx, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-22 14:54:39,707  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.WxServiceImpl     : file [/Users/zhenling/Nesting/zc-service-pay/./bill/wx_501_20190709.csv] already exists, return local file
2019-07-22 14:54:39,708 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,708 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String), 501(String)
2019-07-22 14:54:39,712 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,713 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,714 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String), 501(String)
2019-07-22 14:54:39,720 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,720 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,720 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String), 501(String)
2019-07-22 14:54:39,724 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,725 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,725 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String), 501(String)
2019-07-22 14:54:39,731 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,731 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where refund_no = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,731 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String), 501(String)
2019-07-22 14:54:39,738 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,739 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,740 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:54:39,742 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-22 14:54:39,743 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-22 14:54:39,744 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190709(String), 0(Integer), 5(Integer), 0(Integer), 25(Integer), 0(Integer), {"总交易单数":5,"总交易额":0.00,"总退款金额":0.25,"手续费总金额":0.00000}(String), null
2019-07-22 14:54:39,747 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-22 14:54:39,747 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,748 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:54:39,750 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-22 14:54:39,750 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-22 14:54:39,751 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 501(String), wx(String), 20190709(String), null, null
2019-07-22 14:54:39,754 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-22 14:54:39,779  INFO 1361 --- [nio-9999-exec-8] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-09T00:00:00.000] parse successful
2019-07-22 14:54:39,780 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:54:39,780 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 501(String), 20190709(String), wx(String)
2019-07-22 14:54:39,782 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:54:39,783 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,784 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 501(String)
2019-07-22 14:54:39,788 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 5
2019-07-22 14:54:39,789 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,789 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561694500364202(String), wx(String)
2019-07-22 14:54:39,792 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,792 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,792 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560398938363931(String), wx(String)
2019-07-22 14:54:39,795 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,796 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,796 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011561951929364204(String), wx(String)
2019-07-22 14:54:39,799 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,799 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,800 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560334037363923(String), wx(String)
2019-07-22 14:54:39,802 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,803 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==>  Preparing: select id, app_id, pay_type, refund_no, order_no, trade_no, refund_amount, total_amount, extra, create_time, details from pay_center3_refund_query_result where refund_no=? and pay_type=? 
2019-07-22 14:54:39,803 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : ==> Parameters: refund10110011560327103363921(String), wx(String)
2019-07-22 14:54:39,806 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.R.findByRefundNo             : <==      Total: 1
2019-07-22 14:54:39,808 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-22 14:54:39,809 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 501(String), wx20190709(String)
2019-07-22 14:54:39,811 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-22 14:54:39,811 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,812 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:54:39,814 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-22 14:54:39,814 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-22 14:54:39,815 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 501(String), wx20190709(String), wx(String), 20190709(String), 2019-07-22 14:54:39.814(Timestamp)
2019-07-22 14:54:39,818 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-22 14:54:39,819 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-22 14:54:39,819 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 501(String), wx(String), 20190709(String)
2019-07-22 14:54:39,822 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-22 14:54:39,822 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-22 14:54:39,822 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 501(String), 20190709(String), wx(String)
2019-07-22 14:54:39,825 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-22 14:54:39,825 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-22 14:54:39,826 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 501(String)
2019-07-22 14:54:39,828 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:54:39,828 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-22 14:54:39,829 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), wx(String), 501(String)
2019-07-22 14:54:39,833 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 5
2019-07-22 14:54:39,834 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-22 14:54:39,834 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), wx(String), 501(String)
2019-07-22 14:54:39,837 DEBUG 1361 --- [nio-9999-exec-8] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 14:54:39,837  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : compareRefundList-billRefundLogCachService.saveBatch:  appId=501; payType=wx; valueList=[BillRefundLog(id=281, appId=501, payType=wx, billDate=20190709, orderNo=10110011560398938363931, refundNo=refund10110011560398938363931, tradeNo=4200000303201906137721154482, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=MWEB, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011560398938363931, 微信订单号=4200000303201906137721154482, 商户退款单号=refund10110011560398938363931, 微信退款单号=50000200882019070910306564674, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=282, appId=501, payType=wx, billDate=20190709, orderNo=10110011561951929364204, refundNo=refund10110011561951929364204, tradeNo=4200000294201907012576189376, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011561951929364204, 微信订单号=4200000294201907012576189376, 商户退款单号=refund10110011561951929364204, 微信退款单号=50000000892019070910499055214, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=284, appId=501, payType=wx, billDate=20190709, orderNo=10110011560327103363921, refundNo=refund10110011560327103363921, tradeNo=4200000295201906127291057886, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560327103363921, 微信订单号=4200000295201906127291057886, 商户退款单号=refund10110011560327103363921, 微信退款单号=50000600922019070910376228007, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=280, appId=501, payType=wx, billDate=20190709, orderNo=10110011561694500364202, refundNo=refund10110011561694500364202, tradeNo=4200000300201906281787713838, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=定向专用, 子商户号=0, 用户标识=ok1_lw3e743joDk95Hb9U153nwk8, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wx9b5cb757426e00d9, 商户订单号=10110011561694500364202, 微信订单号=4200000300201906281787713838, 商户退款单号=refund10110011561694500364202, 微信退款单号=50000600872019070910515745012, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019), BillRefundLog(id=283, appId=501, payType=wx, billDate=20190709, orderNo=10110011560334037363923, refundNo=refund10110011560334037363923, tradeNo=4200000302201906127476731585, refundAmount=5, serviceCharge=0, tradeTime=Wed Jul 10 23:42:08 CST 2019, details={费率=0.60%, 商户号=1429146602, 总金额=0, 手续费=0, 交易状态=REFUND, 交易类型=JSAPI, 付款银行=CFT, 商品名称=发给34524香港总部, 子商户号=0, 用户标识=oSyi-4jrMh4wtNEJDSMk-h-wxcUM, 货币种类=CNY, 退款状态=SUCCESS, 退款类型=ORIGINAL, 退款金额=0.05, 公众账号ID=wxc9d0a70977ecf5fe, 商户订单号=10110011560334037363923, 微信订单号=4200000302201906127476731585, 商户退款单号=refund10110011560334037363923, 微信退款单号=50000100702019070910536509454, merchant_income_charge=0}, createTime=Wed Jul 10 10:40:09 CST 2019)]
2019-07-22 14:54:39,838 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.saveBatch                  : ==>  Preparing: INSERT INTO pay_center3_bill_refund_log_cach (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) , ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2019-07-22 14:54:39,841 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.saveBatch                  : ==> Parameters: 281(Integer), 501(String), wx(String), 20190709(String), 10110011560398938363931(String), refund10110011560398938363931(String), 4200000303201906137721154482(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"MWEB","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011560398938363931","微信订单号":"4200000303201906137721154482","商户退款单号":"refund10110011560398938363931","微信退款单号":"50000200882019070910306564674","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 282(Integer), 501(String), wx(String), 20190709(String), 10110011561951929364204(String), refund10110011561951929364204(String), 4200000294201907012576189376(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011561951929364204","微信订单号":"4200000294201907012576189376","商户退款单号":"refund10110011561951929364204","微信退款单号":"50000000892019070910499055214","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 284(Integer), 501(String), wx(String), 20190709(String), 10110011560327103363921(String), refund10110011560327103363921(String), 4200000295201906127291057886(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560327103363921","微信订单号":"4200000295201906127291057886","商户退款单号":"refund10110011560327103363921","微信退款单号":"50000600922019070910376228007","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 280(Integer), 501(String), wx(String), 20190709(String), 10110011561694500364202(String), refund10110011561694500364202(String), 4200000300201906281787713838(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"定向专用","子商户号":"0","用户标识":"ok1_lw3e743joDk95Hb9U153nwk8","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wx9b5cb757426e00d9","商户订单号":"10110011561694500364202","微信订单号":"4200000300201906281787713838","商户退款单号":"refund10110011561694500364202","微信退款单号":"50000600872019070910515745012","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp), 283(Integer), 501(String), wx(String), 20190709(String), 10110011560334037363923(String), refund10110011560334037363923(String), 4200000302201906127476731585(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), {"费率":"0.60%","商户号":"1429146602","总金额":0,"手续费":0,"交易状态":"REFUND","交易类型":"JSAPI","付款银行":"CFT","商品名称":"发给34524香港总部","子商户号":"0","用户标识":"oSyi-4jrMh4wtNEJDSMk-h-wxcUM","货币种类":"CNY","退款状态":"SUCCESS","退款类型":"ORIGINAL","退款金额":0.05,"公众账号ID":"wxc9d0a70977ecf5fe","商户订单号":"10110011560334037363923","微信订单号":"4200000302201906127476731585","商户退款单号":"refund10110011560334037363923","微信退款单号":"50000100702019070910536509454","merchant_income_charge":0}(String), 2019-07-10 10:40:09.0(Timestamp)
2019-07-22 14:54:39,846 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.saveBatch                  : <==    Updates: 5
2019-07-22 14:54:39,847 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findListMoreThanThreeDay   : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log_cach where pay_type = ? and app_id = ? and DATE_ADD(create_time,INTERVAL 4 DAY) < NOW() ORDER BY create_time DESC 
2019-07-22 14:54:39,847 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findListMoreThanThreeDay   : ==> Parameters: wx(String), 501(String)
2019-07-22 14:54:39,866 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.findListMoreThanThreeDay   : <==      Total: 8
2019-07-22 14:54:39,866  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : compareRefundList-7.处理缓存表数据超过三天的记录，生成异常比对明细数据:  appId=501; payType=wx
2019-07-22 14:54:39,866  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 501, payType: wx, date: 2019-07-09T00:00:00.000 - result paysCount: 0, refundsCount: 8
2019-07-22 14:54:39,867 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.batchSave                  : ==>  Preparing: INSERT INTO pay_center3_bill_compare_detail (`batch_id`, `pay_type`, `operate_type`, `order_no`, `refund_no`, `bill_amount`, `request_amount`, `trade_time`, `compare_status`, `compare_desc`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 14:54:39,871 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.batchSave                  : ==> Parameters: 377(Integer), wx(String), 退款(String), 10110031563244439364361(String), refund10110031563244439364361(String), 14200(Integer), 0(Integer), 2019-07-17 23:42:26.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 377(Integer), wx(String), 退款(String), 10110031563245163364362(String), refund10110031563245163364362(String), 14200(Integer), 0(Integer), 2019-07-17 23:42:26.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 377(Integer), wx(String), 退款(String), 10110031563268210364365(String), refund10110031563268210364365(String), 2950(Integer), 0(Integer), 2019-07-17 23:42:26.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 377(Integer), wx(String), 退款(String), 10110011561694500364202(String), refund10110011561694500364202(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 377(Integer), wx(String), 退款(String), 10110011560398938363931(String), refund10110011560398938363931(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 377(Integer), wx(String), 退款(String), 10110011561951929364204(String), refund10110011561951929364204(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 377(Integer), wx(String), 退款(String), 10110011560334037363923(String), refund10110011560334037363923(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), 1(Integer), 支付中心查无此单(String), null, 377(Integer), wx(String), 退款(String), 10110011560327103363921(String), refund10110011560327103363921(String), 5(Integer), 0(Integer), 2019-07-10 23:42:08.0(Timestamp), 1(Integer), 支付中心查无此单(String), null
2019-07-22 14:54:39,875 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.batchSave                  : <==    Updates: 8
2019-07-22 14:54:39,876 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.update                     : ==>  Preparing: update pay_center3_bill_compare_batch set `mistake_count` = ?, `unhandle_mistake_count` = ?, `bill_pay_count` = ?, `request_pay_count` = ?, `bill_refund_count` = ?, `request_refund_count` = ?, `bill_pay_amount` = ?, `request_pay_amount` = ?, `bill_refund_amount` = ?, `request_refund_amount` = ?, `pay_service_charge` = ?, `refund_service_charge` = ? where id = ? 
2019-07-22 14:54:39,877 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.update                     : ==> Parameters: 8(Integer), 8(Integer), 0(Integer), 0(Integer), 5(Integer), 0(Integer), 0(Integer), 0(Integer), 25(Integer), 0(Integer), 0(Integer), -188(Integer), 377(Integer)
2019-07-22 14:54:39,881 DEBUG 1361 --- [nio-9999-exec-8] c.i.p.m.t.d.B.update                     : <==    Updates: 1
2019-07-22 14:54:39,905  INFO 1361 --- [nio-9999-exec-8] c.i.payment.timer.BillDownloadTimer      : wx-bill [appId: 501, date:2019-07-09T00:00:00.000] createCompareBatch successful
2019-07-22 14:54:39,905  INFO 1361 --- [nio-9999-exec-8] c.i.p.m.trade.controller.BillController  : ---billDownloadTask: end 对账触发接口
2019-07-22 14:56:55,667  INFO 1361 --- [      Thread-43] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 14:56:55,670  INFO 1361 --- [      Thread-43] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 14:56:55,676  INFO 1361 --- [      Thread-43] com.alibaba.druid.pool.DruidDataSource   : {dataSource-6} closed
2019-07-22 14:56:56,926  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 1361 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 14:56:56,927  INFO 1361 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 14:56:58,169  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$b5edc02c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:56:58,235  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$d7ff46ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:56:58,301  INFO 1361 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e23baea9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 14:56:58,343  INFO 1361 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 14:56:58,519  INFO 1361 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 14:56:58,544  INFO 1361 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1614 ms
2019-07-22 14:56:58,777  INFO 1361 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 15:22:17,264  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 2559 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 15:22:17,272  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 15:22:17,429  INFO 2559 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-07-22 15:22:17,430  INFO 2559 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-07-22 15:22:20,436  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$69cacd48] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:22:20,628  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$8bdc53ea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:22:20,713  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9618bbc5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:22:20,787  INFO 2559 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 15:22:21,470  INFO 2559 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 15:22:21,702  INFO 2559 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4272 ms
2019-07-22 15:22:22,138  INFO 2559 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 15:22:23,596  INFO 2559 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-22 15:22:24,182  INFO 2559 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 15:22:24,205  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 15:22:24,216  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 15:22:24,220  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:22:24,220  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:22:24,221  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 15:22:24,222  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 15:22:24,223  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 15:22:24,224  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:22:24,224  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:22:24,225  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 15:22:24,226  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:22:24,226  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:22:24,226  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 15:22:24,227  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:22:24,227  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:22:24,228  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-22 15:22:24,228  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:22:24,229  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:22:25,102  INFO 2559 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$8a3014df
2019-07-22 15:22:25,117  INFO 2559 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$a595e29a
2019-07-22 15:22:25,276  INFO 2559 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 15:22:25,277  INFO 2559 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 15:22:25,976  INFO 2559 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 15:22:26,378  INFO 2559 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 15:22:26,416  INFO 2559 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 15:22:26,834  INFO 2559 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 15:22:28,081  INFO 2559 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 15:22:28,088  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 12.114 seconds (JVM running for 12.714)
2019-07-22 15:27:28,043  INFO 2559 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery start...
2019-07-22 15:27:28,207 DEBUG 2559 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==>  Preparing: select pr.id, pr.app_id, pr.pay_type, pr.channel, pr.order_no, pr.amount, pr.subject, pr.sign_type, pr.client_ip, pr.extra, pr.create_time from pay_center3_pay_request pr left join pay_center3_pay_query_result pqr on pr.pay_type = pqr.pay_type and pr.order_no = pqr.order_no where pqr.app_id is null and pr.create_time between ? and ? 
2019-07-22 15:27:28,268 DEBUG 2559 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==> Parameters: 2019-07-20 15:27:28.045(Timestamp), 2019-07-22 15:27:28.045(Timestamp)
2019-07-22 15:27:28,318 DEBUG 2559 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : <==      Total: 0
2019-07-22 15:31:55,306  INFO 2559 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-07-22 15:31:55,338  INFO 2559 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 30 ms
2019-07-22 15:32:30,512  WARN 2559 --- [nio-9999-exec-3] c.i.payment.common.WebExceptionHandler   : HttpMessageConversionException:JSON parse error: Unexpected character ('=' (code 61)): was expecting a colon to separate field name and value; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('=' (code 61)): was expecting a colon to separate field name and value
 at [Source: (PushbackInputStream); line: 2, column: 10]
2019-07-22 15:32:30,535  WARN 2559 --- [nio-9999-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('=' (code 61)): was expecting a colon to separate field name and value; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('=' (code 61)): was expecting a colon to separate field name and value
 at [Source: (PushbackInputStream); line: 2, column: 10]]
2019-07-22 15:33:04,176  WARN 2559 --- [nio-9999-exec-4] c.i.payment.common.WebExceptionHandler   : HttpMessageConversionException:JSON parse error: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{}'); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{}')
 at [Source: (PushbackInputStream); line: 10, column: 10] (through reference chain: com.intbee.payment.modules.trade.vo.TransferRequestVO["extra"])
2019-07-22 15:33:04,183  WARN 2559 --- [nio-9999-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{}'); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{}')
 at [Source: (PushbackInputStream); line: 10, column: 10] (through reference chain: com.intbee.payment.modules.trade.vo.TransferRequestVO["extra"])]
2019-07-22 15:33:28,287  WARN 2559 --- [nio-9999-exec-5] c.i.payment.common.WebExceptionHandler   : HttpMessageConversionException:JSON parse error: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (''); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('')
 at [Source: (PushbackInputStream); line: 10, column: 10] (through reference chain: com.intbee.payment.modules.trade.vo.TransferRequestVO["extra"])
2019-07-22 15:33:28,290  WARN 2559 --- [nio-9999-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (''); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('')
 at [Source: (PushbackInputStream); line: 10, column: 10] (through reference chain: com.intbee.payment.modules.trade.vo.TransferRequestVO["extra"])]
2019-07-22 15:34:35,953  WARN 2559 --- [nio-9999-exec-8] c.i.payment.common.WebExceptionHandler   : MethodArgumentNotValidException: transferRequestVO 转账编号不能为空
2019-07-22 15:34:35,956  WARN 2559 --- [nio-9999-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.intbee.payment.common.ZcResult<com.intbee.payment.modules.trade.vo.TransferResponseVO> com.intbee.payment.modules.trade.controller.PaymentController.transfer(com.intbee.payment.modules.trade.vo.TransferRequestVO) throws java.lang.Exception with 3 errors: [Field error in object 'transferRequestVO' on field 'transferNo': rejected value [null]; codes [NotBlank.transferRequestVO.transferNo,NotBlank.transferNo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transferRequestVO.transferNo,transferNo]; arguments []; default message [transferNo]]; default message [转账编号不能为空]] [Field error in object 'transferRequestVO' on field 'appId': rejected value [null]; codes [NotBlank.transferRequestVO.appId,NotBlank.appId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transferRequestVO.appId,appId]; arguments []; default message [appId]]; default message [APPID不能为空]] [Field error in object 'transferRequestVO' on field 'payType': rejected value [null]; codes [NotBlank.transferRequestVO.payType,NotBlank.payType,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transferRequestVO.payType,payType]; arguments []; default message [payType]]; default message [支付类型不能为空]] ]
2019-07-22 15:35:03,045  INFO 2559 --- [nio-9999-exec-9] c.i.p.m.t.s.impl.PaymentServiceProxy     : request transfer: TransferRequestVO(appId=501, payType=wx, transferNo=312156335286381342, account=o-pbl5Z-Rv1JeXf7U05OebXgslaw, amount=100, realName=null, remark=null, clientIp=120.76.198.235, extra={})
2019-07-22 15:35:03,059 DEBUG 2559 --- [nio-9999-exec-9] c.i.p.m.t.d.T.findByTransferNo           : ==>  Preparing: select id, app_id, pay_type, transfer_no, account, amount, real_name, client_ip, extra, create_time from pay_center3_transfer_request where transfer_no = ? 
2019-07-22 15:35:03,065 DEBUG 2559 --- [nio-9999-exec-9] c.i.p.m.t.d.T.findByTransferNo           : ==> Parameters: 312156335286381342(String)
2019-07-22 15:35:03,086 DEBUG 2559 --- [nio-9999-exec-9] c.i.p.m.t.d.T.findByTransferNo           : <==      Total: 0
2019-07-22 15:35:03,099  INFO 2559 --- [nio-9999-exec-9] c.i.p.m.t.service.impl.WxServiceImpl     : execute transfer transfer-312156335286381342: TransferRequestVO(appId=501, payType=wx, transferNo=312156335286381342, account=o-pbl5Z-Rv1JeXf7U05OebXgslaw, amount=100, realName=null, remark=null, clientIp=120.76.198.235, extra={})
2019-07-22 15:35:03,120 DEBUG 2559 --- [nio-9999-exec-9] c.i.p.m.t.d.T.save                       : ==>  Preparing: INSERT INTO pay_center3_transfer_request (id, app_id, pay_type, transfer_no, account, amount, real_name, client_ip, extra, create_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 15:35:03,126 DEBUG 2559 --- [nio-9999-exec-9] c.i.p.m.t.d.T.save                       : ==> Parameters: null, 501(String), wx(String), 312156335286381342(String), o-pbl5Z-Rv1JeXf7U05OebXgslaw(String), 100(Integer), null, 120.76.198.235(String), {}(String), null
2019-07-22 15:35:03,286 ERROR 2559 --- [nio-9999-exec-9] c.i.p.m.t.service.impl.WxServiceImpl     : log-id transfer-312156335286381342 exception
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'real_name' cannot be null
### The error may involve com.intbee.payment.modules.trade.dao.TransferRequestLogMapper.save-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO pay_center3_transfer_request (id, app_id, pay_type, transfer_no, account, amount, real_name, client_ip, extra, create_time)   VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'real_name' cannot be null
; Column 'real_name' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'real_name' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:446)
	at com.sun.proxy.$Proxy113.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:278)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy119.save(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy120.save(Unknown Source)
	at com.intbee.payment.modules.trade.service.impl.TransferRequestLogServiceImpl.save(TransferRequestLogServiceImpl.java:39)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl.transfer(WxServiceImpl.java:585)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$FastClassBySpringCGLIB$$f02ead66.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$a595e29a.transfer(<generated>)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy.transfer(PaymentServiceProxy.java:136)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy$$FastClassBySpringCGLIB$$75cbb4f1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy$$EnhancerBySpringCGLIB$$6bc881b.transfer(<generated>)
	at com.intbee.payment.modules.trade.controller.PaymentController.transfer(PaymentController.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'real_name' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:391)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3051)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3049)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:167)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:498)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy172.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	... 99 common frames omitted
2019-07-22 15:35:03,311 ERROR 2559 --- [nio-9999-exec-9] c.i.payment.common.WebExceptionHandler   : unkonw exception: 
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'real_name' cannot be null
### The error may involve com.intbee.payment.modules.trade.dao.TransferRequestLogMapper.save-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO pay_center3_transfer_request (id, app_id, pay_type, transfer_no, account, amount, real_name, client_ip, extra, create_time)   VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'real_name' cannot be null
; Column 'real_name' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'real_name' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:446)
	at com.sun.proxy.$Proxy113.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:278)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy119.save(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy120.save(Unknown Source)
	at com.intbee.payment.modules.trade.service.impl.TransferRequestLogServiceImpl.save(TransferRequestLogServiceImpl.java:39)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl.transfer(WxServiceImpl.java:585)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$FastClassBySpringCGLIB$$f02ead66.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$a595e29a.transfer(<generated>)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy.transfer(PaymentServiceProxy.java:136)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy$$FastClassBySpringCGLIB$$75cbb4f1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy$$EnhancerBySpringCGLIB$$6bc881b.transfer(<generated>)
	at com.intbee.payment.modules.trade.controller.PaymentController.transfer(PaymentController.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'real_name' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:391)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3051)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3049)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:167)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:498)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy172.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	... 99 common frames omitted
2019-07-22 15:35:03,316  WARN 2559 --- [nio-9999-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'real_name' cannot be null
### The error may involve com.intbee.payment.modules.trade.dao.TransferRequestLogMapper.save-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO pay_center3_transfer_request (id, app_id, pay_type, transfer_no, account, amount, real_name, client_ip, extra, create_time)   VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'real_name' cannot be null
; Column 'real_name' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'real_name' cannot be null]
2019-07-22 15:36:50,125  INFO 2559 --- [nio-9999-exec-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request transfer: TransferRequestVO(appId=501, payType=wx, transferNo=312156335286381342, account=o-pbl5Z-Rv1JeXf7U05OebXgslaw, amount=100, realName=hahh, remark=null, clientIp=120.76.198.235, extra={})
2019-07-22 15:36:50,140 DEBUG 2559 --- [nio-9999-exec-1] c.i.p.m.t.d.T.findByTransferNo           : ==>  Preparing: select id, app_id, pay_type, transfer_no, account, amount, real_name, client_ip, extra, create_time from pay_center3_transfer_request where transfer_no = ? 
2019-07-22 15:36:50,143 DEBUG 2559 --- [nio-9999-exec-1] c.i.p.m.t.d.T.findByTransferNo           : ==> Parameters: 312156335286381342(String)
2019-07-22 15:36:50,212 DEBUG 2559 --- [nio-9999-exec-1] c.i.p.m.t.d.T.findByTransferNo           : <==      Total: 0
2019-07-22 15:36:50,217  INFO 2559 --- [nio-9999-exec-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute transfer transfer-312156335286381342: TransferRequestVO(appId=501, payType=wx, transferNo=312156335286381342, account=o-pbl5Z-Rv1JeXf7U05OebXgslaw, amount=100, realName=hahh, remark=null, clientIp=120.76.198.235, extra={})
2019-07-22 15:36:50,219 DEBUG 2559 --- [nio-9999-exec-1] c.i.p.m.t.d.T.save                       : ==>  Preparing: INSERT INTO pay_center3_transfer_request (id, app_id, pay_type, transfer_no, account, amount, real_name, client_ip, extra, create_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 15:36:50,222 DEBUG 2559 --- [nio-9999-exec-1] c.i.p.m.t.d.T.save                       : ==> Parameters: null, 501(String), wx(String), 312156335286381342(String), o-pbl5Z-Rv1JeXf7U05OebXgslaw(String), 100(Integer), hahh(String), 120.76.198.235(String), {}(String), null
2019-07-22 15:36:50,249 DEBUG 2559 --- [nio-9999-exec-1] c.i.p.m.t.d.T.save                       : <==    Updates: 1
2019-07-22 15:36:50,252  INFO 2559 --- [nio-9999-exec-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id transfer-312156335286381342 request: {nonce_str=uUNXm09LdSMGFXrPDFJIDlN52nwdnSf1, amount=100, re_user_name=hahh, mchid=1429146602, partner_trade_no=312156335286381342, openid=o-pbl5Z-Rv1JeXf7U05OebXgslaw, mch_appid=wx1e86ddc5b2485ab2, sign=13C4335D5C436E846BAE676FB1448D47, check_name=FORCE_CHECK, spbill_create_ip=120.76.198.235, desc=null}
2019-07-22 15:36:50,782  INFO 2559 --- [nio-9999-exec-1] wxpay java sdk                           : report worker num: 6
2019-07-22 15:36:50,785  INFO 2559 --- [nio-9999-exec-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,uUNXm09LdSMGFXrPDFJIDlN52nwdnSf1,1563781010,498,api.mch.weixin.qq.com,true,6000,8000,0,0,0,388209EB7C059289571C0327FDAF8E1902ABCAABD55FE7FF42EB14BB414DB0DC
2019-07-22 15:36:50,785  INFO 2559 --- [pool-2-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,uUNXm09LdSMGFXrPDFJIDlN52nwdnSf1,1563781010,498,api.mch.weixin.qq.com,true,6000,8000,0,0,0,388209EB7C059289571C0327FDAF8E1902ABCAABD55FE7FF42EB14BB414DB0DC
2019-07-22 15:36:50,785  INFO 2559 --- [pool-2-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-22 15:36:50,788 ERROR 2559 --- [nio-9999-exec-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id transfer-312156335286381342 exception
com.intbee.payment.common.exception.RemoteFailException: 参数错误:描述信息没有填写. # PARAM_ERROR # 参数错误:描述信息没有填写.
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl.assertSuccessful(WxServiceImpl.java:909)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl.transfer(WxServiceImpl.java:590)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$FastClassBySpringCGLIB$$f02ead66.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$a595e29a.transfer(<generated>)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy.transfer(PaymentServiceProxy.java:136)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy$$FastClassBySpringCGLIB$$75cbb4f1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy$$EnhancerBySpringCGLIB$$6bc881b.transfer(<generated>)
	at com.intbee.payment.modules.trade.controller.PaymentController.transfer(PaymentController.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-22 15:36:50,834  WARN 2559 --- [nio-9999-exec-1] c.i.payment.common.WebExceptionHandler   : RemoteFailException: 参数错误:描述信息没有填写. # PARAM_ERROR # 参数错误:描述信息没有填写.
2019-07-22 15:36:50,836  WARN 2559 --- [nio-9999-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.intbee.payment.common.exception.RemoteFailException: 参数错误:描述信息没有填写. # PARAM_ERROR # 参数错误:描述信息没有填写.]
2019-07-22 15:37:09,196  INFO 2559 --- [nio-9999-exec-3] c.i.p.m.t.s.impl.PaymentServiceProxy     : request transfer: TransferRequestVO(appId=501, payType=wx, transferNo=312156335286381342, account=o-pbl5Z-Rv1JeXf7U05OebXgslaw, amount=100, realName=hahh, remark=beizhu, clientIp=120.76.198.235, extra={})
2019-07-22 15:37:09,197 DEBUG 2559 --- [nio-9999-exec-3] c.i.p.m.t.d.T.findByTransferNo           : ==>  Preparing: select id, app_id, pay_type, transfer_no, account, amount, real_name, client_ip, extra, create_time from pay_center3_transfer_request where transfer_no = ? 
2019-07-22 15:37:09,198 DEBUG 2559 --- [nio-9999-exec-3] c.i.p.m.t.d.T.findByTransferNo           : ==> Parameters: 312156335286381342(String)
2019-07-22 15:37:09,204 DEBUG 2559 --- [nio-9999-exec-3] c.i.p.m.t.d.T.findByTransferNo           : <==      Total: 0
2019-07-22 15:37:09,207  INFO 2559 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : execute transfer transfer-312156335286381342: TransferRequestVO(appId=501, payType=wx, transferNo=312156335286381342, account=o-pbl5Z-Rv1JeXf7U05OebXgslaw, amount=100, realName=hahh, remark=beizhu, clientIp=120.76.198.235, extra={})
2019-07-22 15:37:09,208 DEBUG 2559 --- [nio-9999-exec-3] c.i.p.m.t.d.T.save                       : ==>  Preparing: INSERT INTO pay_center3_transfer_request (id, app_id, pay_type, transfer_no, account, amount, real_name, client_ip, extra, create_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 15:37:09,209 DEBUG 2559 --- [nio-9999-exec-3] c.i.p.m.t.d.T.save                       : ==> Parameters: null, 501(String), wx(String), 312156335286381342(String), o-pbl5Z-Rv1JeXf7U05OebXgslaw(String), 100(Integer), hahh(String), 120.76.198.235(String), {}(String), null
2019-07-22 15:37:09,223 DEBUG 2559 --- [nio-9999-exec-3] c.i.p.m.t.d.T.save                       : <==    Updates: 1
2019-07-22 15:37:09,224  INFO 2559 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : log-id transfer-312156335286381342 request: {nonce_str=z7mQUk63NXpgstSEs0JvITXIur6CC8jc, amount=100, re_user_name=hahh, mchid=1429146602, partner_trade_no=312156335286381342, openid=o-pbl5Z-Rv1JeXf7U05OebXgslaw, mch_appid=wx1e86ddc5b2485ab2, sign=5FE1D1B8A24F105ADB25F9C70C2F57D4, check_name=FORCE_CHECK, spbill_create_ip=120.76.198.235, desc=beizhu}
2019-07-22 15:37:09,544  INFO 2559 --- [nio-9999-exec-3] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,z7mQUk63NXpgstSEs0JvITXIur6CC8jc,1563781029,314,api.mch.weixin.qq.com,true,6000,8000,0,0,0,FE049D2B60AD70F28565DB6EAF3B121DA3A56BE4FD29D2B6C0A0E1734E43AC92
2019-07-22 15:37:09,545  INFO 2559 --- [pool-3-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,z7mQUk63NXpgstSEs0JvITXIur6CC8jc,1563781029,314,api.mch.weixin.qq.com,true,6000,8000,0,0,0,FE049D2B60AD70F28565DB6EAF3B121DA3A56BE4FD29D2B6C0A0E1734E43AC92
2019-07-22 15:37:09,545  INFO 2559 --- [pool-3-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-22 15:37:09,547 ERROR 2559 --- [nio-9999-exec-3] c.i.p.m.t.service.impl.WxServiceImpl     : log-id transfer-312156335286381342 exception
com.intbee.payment.common.exception.RemoteFailException: openid与商户appid不匹配 # OPENID_ERROR # openid与商户appid不匹配
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl.assertSuccessful(WxServiceImpl.java:909)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl.transfer(WxServiceImpl.java:590)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$FastClassBySpringCGLIB$$f02ead66.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$a595e29a.transfer(<generated>)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy.transfer(PaymentServiceProxy.java:136)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy$$FastClassBySpringCGLIB$$75cbb4f1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy$$EnhancerBySpringCGLIB$$6bc881b.transfer(<generated>)
	at com.intbee.payment.modules.trade.controller.PaymentController.transfer(PaymentController.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-22 15:37:09,576  WARN 2559 --- [nio-9999-exec-3] c.i.payment.common.WebExceptionHandler   : RemoteFailException: openid与商户appid不匹配 # OPENID_ERROR # openid与商户appid不匹配
2019-07-22 15:37:09,577  WARN 2559 --- [nio-9999-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.intbee.payment.common.exception.RemoteFailException: openid与商户appid不匹配 # OPENID_ERROR # openid与商户appid不匹配]
2019-07-22 15:42:28,071  INFO 2559 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task refundQuery start...
2019-07-22 15:42:28,086 DEBUG 2559 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : ==>  Preparing: select rr.id, rr.app_id, rr.pay_type, rr.order_no, rr.refund_no, rr.total_amount, rr.refund_amount, rr.client_ip, rr.extra, rr.create_time from pay_center3_refund_request rr left join pay_center3_refund_query_result rqr on rr.pay_type = rqr.pay_type and rr.refund_no = rqr.refund_no where rqr.app_id is null and rr.create_time between ? and ? 
2019-07-22 15:42:28,087 DEBUG 2559 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : ==> Parameters: 2019-07-20 15:42:28.072(Timestamp), 2019-07-22 15:42:28.072(Timestamp)
2019-07-22 15:42:28,090 DEBUG 2559 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : <==      Total: 0
2019-07-22 15:46:24,898  INFO 2559 --- [       Thread-7] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 15:46:24,901  INFO 2559 --- [       Thread-7] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 15:46:24,912  INFO 2559 --- [       Thread-7] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-22 15:46:25,633  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 2559 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 15:46:25,634  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 15:46:26,535  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$69cacd48] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:46:26,568  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$8bdc53ea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:46:26,581  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9618bbc5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:46:26,604  INFO 2559 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 15:46:26,749  INFO 2559 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 15:46:26,762  INFO 2559 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1125 ms
2019-07-22 15:46:26,920  INFO 2559 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 15:46:27,161  INFO 2559 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} inited
2019-07-22 15:46:27,422  INFO 2559 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 15:46:27,427  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 15:46:27,428  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 15:46:27,429  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:46:27,429  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:46:27,430  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 15:46:27,430  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 15:46:27,430  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 15:46:27,431  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:46:27,431  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:46:27,431  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 15:46:27,431  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:46:27,431  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:46:27,432  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 15:46:27,432  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:46:27,433  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:46:27,433  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 15:46:27,433  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:46:27,434  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:46:27,793  INFO 2559 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$8a3014df
2019-07-22 15:46:27,807  INFO 2559 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$a595e29a
2019-07-22 15:46:27,904  INFO 2559 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 15:46:27,905  INFO 2559 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 15:46:28,250  INFO 2559 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 15:46:28,417  INFO 2559 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 15:46:28,429  INFO 2559 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 15:46:28,583  INFO 2559 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 15:46:28,993  INFO 2559 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 15:46:28,995  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 3.701 seconds (JVM running for 1453.546)
2019-07-22 15:46:29,001  INFO 2559 --- [  async-event-1] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-22 15:46:33,201  INFO 2559 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-07-22 15:46:33,210  INFO 2559 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2019-07-22 15:46:33,259  INFO 2559 --- [nio-9999-exec-2] c.i.p.m.t.s.impl.PaymentServiceProxy     : request transfer: TransferRequestVO(appId=501, payType=wx, transferNo=312156335286381342, account=o-pbl5Z-Rv1JeXf7U05OebXgslaw, amount=100, realName=hahh, remark=beizhu, clientIp=120.76.198.235, extra={})
2019-07-22 15:46:33,262 DEBUG 2559 --- [nio-9999-exec-2] c.i.p.m.t.d.T.findByTransferNo           : ==>  Preparing: select id, app_id, pay_type, transfer_no, account, amount, real_name, client_ip, extra, create_time from pay_center3_transfer_request where transfer_no = ? 
2019-07-22 15:46:33,264 DEBUG 2559 --- [nio-9999-exec-2] c.i.p.m.t.d.T.findByTransferNo           : ==> Parameters: 312156335286381342(String)
2019-07-22 15:46:33,269 DEBUG 2559 --- [nio-9999-exec-2] c.i.p.m.t.d.T.findByTransferNo           : <==      Total: 0
2019-07-22 15:46:33,273  INFO 2559 --- [nio-9999-exec-2] c.i.p.m.t.service.impl.WxServiceImpl     : execute transfer transfer-312156335286381342: TransferRequestVO(appId=501, payType=wx, transferNo=312156335286381342, account=o-pbl5Z-Rv1JeXf7U05OebXgslaw, amount=100, realName=hahh, remark=beizhu, clientIp=120.76.198.235, extra={})
2019-07-22 15:46:33,281 DEBUG 2559 --- [nio-9999-exec-2] c.i.p.m.t.d.T.save                       : ==>  Preparing: INSERT INTO pay_center3_transfer_request (id, app_id, pay_type, transfer_no, account, amount, real_name, client_ip, extra, create_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-22 15:46:33,289 DEBUG 2559 --- [nio-9999-exec-2] c.i.p.m.t.d.T.save                       : ==> Parameters: null, 501(String), wx(String), 312156335286381342(String), o-pbl5Z-Rv1JeXf7U05OebXgslaw(String), 100(Integer), hahh(String), 120.76.198.235(String), {}(String), null
2019-07-22 15:46:33,302 DEBUG 2559 --- [nio-9999-exec-2] c.i.p.m.t.d.T.save                       : <==    Updates: 1
2019-07-22 15:46:33,302  INFO 2559 --- [nio-9999-exec-2] c.i.p.m.t.service.impl.WxServiceImpl     : log-id transfer-312156335286381342 request: {nonce_str=LnNxVGd9GJvfqJIhB2XJ97tgWOIOabhf, amount=100, re_user_name=hahh, mchid=1508829551, partner_trade_no=312156335286381342, openid=o-pbl5Z-Rv1JeXf7U05OebXgslaw, mch_appid=wx5a8cc9a1a4a6c90b, sign=1466927AE11849C46CC2BD77BA2F5529, check_name=FORCE_CHECK, spbill_create_ip=120.76.198.235, desc=beizhu}
2019-07-22 15:46:33,857  INFO 2559 --- [nio-9999-exec-2] wxpay java sdk                           : report worker num: 6
2019-07-22 15:46:33,860  INFO 2559 --- [nio-9999-exec-2] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,LnNxVGd9GJvfqJIhB2XJ97tgWOIOabhf,1563781593,545,api.mch.weixin.qq.com,true,6000,8000,0,0,0,F8FDBF54CD528102677EC81D5BCEAB23D86ACBE296D2891B2C44DCC47E8972DF
2019-07-22 15:46:33,860  INFO 2559 --- [pool-8-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,LnNxVGd9GJvfqJIhB2XJ97tgWOIOabhf,1563781593,545,api.mch.weixin.qq.com,true,6000,8000,0,0,0,F8FDBF54CD528102677EC81D5BCEAB23D86ACBE296D2891B2C44DCC47E8972DF
2019-07-22 15:46:33,860  INFO 2559 --- [pool-8-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-22 15:46:33,862 ERROR 2559 --- [nio-9999-exec-2] c.i.p.m.t.service.impl.WxServiceImpl     : log-id transfer-312156335286381342 exception
com.intbee.payment.common.exception.RemoteFailException: 支付失败 # NAME_MISMATCH # 真实姓名不一致.
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl.assertSuccessful(WxServiceImpl.java:909)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl.transfer(WxServiceImpl.java:590)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$FastClassBySpringCGLIB$$f02ead66.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$a595e29a.transfer(<generated>)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy.transfer(PaymentServiceProxy.java:136)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy$$FastClassBySpringCGLIB$$75cbb4f1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684)
	at com.intbee.payment.modules.trade.service.impl.PaymentServiceProxy$$EnhancerBySpringCGLIB$$6bc881b.transfer(<generated>)
	at com.intbee.payment.modules.trade.controller.PaymentController.transfer(PaymentController.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-22 15:46:33,884  WARN 2559 --- [nio-9999-exec-2] c.i.payment.common.WebExceptionHandler   : RemoteFailException: 支付失败 # NAME_MISMATCH # 真实姓名不一致.
2019-07-22 15:46:33,889  WARN 2559 --- [nio-9999-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.intbee.payment.common.exception.RemoteFailException: 支付失败 # NAME_MISMATCH # 真实姓名不一致.]
2019-07-22 15:50:26,023  INFO 2559 --- [      Thread-13] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 15:50:26,026  INFO 2559 --- [      Thread-13] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 15:50:26,037  INFO 2559 --- [      Thread-13] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} closed
2019-07-22 15:50:26,769  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 2559 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 15:50:26,770  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 15:50:27,650  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$69cacd48] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:50:27,673  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$8bdc53ea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:50:27,684  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9618bbc5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:50:27,708  INFO 2559 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 15:50:27,851  INFO 2559 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 15:50:27,866  INFO 2559 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1092 ms
2019-07-22 15:50:28,017  INFO 2559 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 15:50:28,266  INFO 2559 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-3} inited
2019-07-22 15:50:28,489  INFO 2559 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 15:50:28,491  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 15:50:28,491  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 15:50:28,492  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:50:28,492  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:50:28,492  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 15:50:28,493  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 15:50:28,493  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 15:50:28,493  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:50:28,493  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:50:28,493  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 15:50:28,494  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:50:28,494  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:50:28,494  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 15:50:28,494  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:50:28,494  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:50:28,495  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 15:50:28,495  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:50:28,495  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:50:28,869  INFO 2559 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$8a3014df
2019-07-22 15:50:28,882  INFO 2559 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$a595e29a
2019-07-22 15:50:28,989  INFO 2559 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 15:50:28,990  INFO 2559 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 15:50:29,276  INFO 2559 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 15:50:29,428  INFO 2559 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 15:50:29,436  INFO 2559 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 15:50:29,563  INFO 2559 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 15:50:29,939  INFO 2559 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 15:50:29,940  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 3.452 seconds (JVM running for 1694.484)
2019-07-22 15:50:29,948  INFO 2559 --- [  async-event-5] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-22 15:55:29,944  INFO 2559 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery start...
2019-07-22 15:55:29,952 DEBUG 2559 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==>  Preparing: select pr.id, pr.app_id, pr.pay_type, pr.channel, pr.order_no, pr.amount, pr.subject, pr.sign_type, pr.client_ip, pr.extra, pr.create_time from pay_center3_pay_request pr left join pay_center3_pay_query_result pqr on pr.pay_type = pqr.pay_type and pr.order_no = pqr.order_no where pqr.app_id is null and pr.create_time between ? and ? 
2019-07-22 15:55:29,953 DEBUG 2559 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==> Parameters: 2019-07-20 15:55:29.945(Timestamp), 2019-07-22 15:55:29.945(Timestamp)
2019-07-22 15:55:29,958 DEBUG 2559 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : <==      Total: 0
2019-07-22 15:57:18,767  INFO 2559 --- [      Thread-22] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 15:57:18,768  INFO 2559 --- [      Thread-22] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 15:57:18,776  INFO 2559 --- [      Thread-22] com.alibaba.druid.pool.DruidDataSource   : {dataSource-3} closed
2019-07-22 15:57:19,609  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 2559 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 15:57:19,610  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 15:57:21,005  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$69cacd48] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:57:21,054  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$8bdc53ea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:57:21,084  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9618bbc5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 15:57:21,128  INFO 2559 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 15:57:21,307  INFO 2559 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 15:57:21,339  INFO 2559 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1725 ms
2019-07-22 15:57:21,562  INFO 2559 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 15:57:21,923  INFO 2559 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-4} inited
2019-07-22 15:57:22,180  INFO 2559 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 15:57:22,183  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 15:57:22,184  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 15:57:22,185  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:57:22,185  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:57:22,186  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 15:57:22,186  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 15:57:22,186  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 15:57:22,186  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:57:22,186  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:57:22,186  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 15:57:22,187  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:57:22,187  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:57:22,187  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 15:57:22,187  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:57:22,187  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:57:22,188  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 15:57:22,188  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 15:57:22,188  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 15:57:22,634  INFO 2559 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$8a3014df
2019-07-22 15:57:22,654  INFO 2559 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$a595e29a
2019-07-22 15:57:22,800  INFO 2559 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 15:57:22,802  INFO 2559 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 15:57:23,220  INFO 2559 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 15:57:23,442  INFO 2559 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 15:57:23,467  INFO 2559 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 15:57:23,646  INFO 2559 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 15:57:24,320  INFO 2559 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 15:57:24,322  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 4.967 seconds (JVM running for 2108.852)
2019-07-22 15:57:24,341  INFO 2559 --- [  async-event-2] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-22 16:01:17,063  INFO 2559 --- [      Thread-31] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 16:01:17,067  INFO 2559 --- [      Thread-31] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 16:01:17,075  INFO 2559 --- [      Thread-31] com.alibaba.druid.pool.DruidDataSource   : {dataSource-4} closed
2019-07-22 16:01:18,003  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 2559 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 16:01:18,003  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 16:01:18,832  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$69cacd48] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 16:01:18,856  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$8bdc53ea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 16:01:18,867  INFO 2559 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9618bbc5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 16:01:18,881  INFO 2559 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 16:01:18,995  INFO 2559 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 16:01:19,006  INFO 2559 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 998 ms
2019-07-22 16:01:19,126  INFO 2559 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 16:01:19,345  INFO 2559 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-5} inited
2019-07-22 16:01:19,536  INFO 2559 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 16:01:19,537  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 16:01:19,538  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 16:01:19,538  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 16:01:19,538  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 16:01:19,538  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 16:01:19,539  INFO 2559 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 16:01:19,539  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 16:01:19,539  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 16:01:19,539  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 16:01:19,539  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 16:01:19,540  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 16:01:19,540  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 16:01:19,540  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 16:01:19,540  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 16:01:19,540  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 16:01:19,541  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 16:01:19,541  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 16:01:19,541  INFO 2559 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 16:01:19,802  INFO 2559 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$8a3014df
2019-07-22 16:01:19,814  INFO 2559 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$a595e29a
2019-07-22 16:01:19,904  INFO 2559 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 16:01:19,904  INFO 2559 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 16:01:20,162  INFO 2559 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 16:01:20,331  INFO 2559 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 16:01:20,342  INFO 2559 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 16:01:20,480  INFO 2559 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 16:01:20,831  INFO 2559 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 16:01:20,832  INFO 2559 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 3.125 seconds (JVM running for 2345.356)
2019-07-22 16:01:20,842  INFO 2559 --- [  async-event-5] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-22 16:01:21,183  INFO 2559 --- [      Thread-44] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 16:01:21,185  INFO 2559 --- [      Thread-44] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 16:01:21,192  INFO 2559 --- [      Thread-44] com.alibaba.druid.pool.DruidDataSource   : {dataSource-5} closed
2019-07-22 16:38:32,321  INFO 3610 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 3610 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 16:38:32,330  INFO 3610 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-22 16:38:32,534  INFO 3610 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-07-22 16:38:32,535  INFO 3610 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-07-22 16:38:35,412  INFO 3610 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$5063364f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 16:38:35,608  INFO 3610 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$7274bcf1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 16:38:35,699  INFO 3610 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7cb124cc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 16:38:35,787  INFO 3610 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 16:38:36,485  INFO 3610 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-22 16:38:36,694  INFO 3610 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4158 ms
2019-07-22 16:38:37,086  INFO 3610 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 16:38:38,214  INFO 3610 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-22 16:38:38,776  INFO 3610 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 16:38:38,801  INFO 3610 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 16:38:38,811  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 16:38:38,815  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 16:38:38,816  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 16:38:38,816  INFO 3610 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 16:38:38,817  INFO 3610 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 16:38:38,818  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 16:38:38,819  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 16:38:38,820  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 16:38:38,820  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 16:38:38,821  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 16:38:38,821  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 16:38:38,822  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 16:38:38,822  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 16:38:38,822  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 16:38:38,823  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 16:38:38,824  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 16:38:38,824  INFO 3610 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 16:38:39,652  INFO 3610 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$bf068b16
2019-07-22 16:38:39,666  INFO 3610 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$da6c58d1
2019-07-22 16:38:39,829  INFO 3610 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 16:38:39,830  INFO 3610 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 16:38:40,454  INFO 3610 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 16:38:40,910  INFO 3610 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 16:38:40,954  INFO 3610 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-22 16:38:41,397  INFO 3610 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 16:38:42,719  INFO 3610 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-22 16:38:42,727  INFO 3610 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 11.499 seconds (JVM running for 12.079)
2019-07-22 16:39:17,327  INFO 3610 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-07-22 16:39:17,368  INFO 3610 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 40 ms
2019-07-22 16:39:17,544 DEBUG 3610 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByBatchId              : ==>  Preparing: select `id`, `batch_id`, `pay_type`, `operate_type`, `order_no`, `refund_no`, `bill_amount`, `request_amount`, `trade_time`, `compare_status`, `compare_desc`, `create_time` from pay_center3_bill_compare_detail where batch_id = ? order by trade_time asc 
2019-07-22 16:39:17,603 DEBUG 3610 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByBatchId              : ==> Parameters: 376(Integer)
2019-07-22 16:39:17,668 DEBUG 3610 --- [nio-9999-exec-2] c.i.p.m.t.d.B.findByBatchId              : <==      Total: 2
2019-07-22 16:39:38,333  INFO 3610 --- [      Thread-11] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 16:39:38,337  INFO 3610 --- [      Thread-11] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 16:39:38,366  INFO 3610 --- [      Thread-11] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-22 17:12:12,774  INFO 4907 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Starting BillPayLogCachTest on lishihaideMac-mini.local with PID 4907 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 17:12:12,776  INFO 4907 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : The following profiles are active: szdev
2019-07-22 17:12:15,741  INFO 4907 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$34c081b3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:12:16,080  INFO 4907 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$56d20855] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:12:16,121  INFO 4907 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$610e7030] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:12:16,233  INFO 4907 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 17:12:16,526  INFO 4907 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 17:12:16,556  INFO 4907 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 17:12:16,582  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 17:12:16,590  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:12:16,591  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:12:16,596  INFO 4907 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 17:12:16,596  INFO 4907 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 17:12:16,598  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 17:12:16,600  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:12:16,601  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:12:16,604  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 17:12:16,604  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:12:16,605  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:12:16,612  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 17:12:16,613  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:12:16,615  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:12:16,615  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 17:12:16,616  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:12:16,616  INFO 4907 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:12:16,890  INFO 4907 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 17:12:18,165  INFO 4907 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-22 17:12:18,936  INFO 4907 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$11f5afb
2019-07-22 17:12:18,957  INFO 4907 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$1c8528b6
2019-07-22 17:12:19,161  INFO 4907 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 17:12:19,162  INFO 4907 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 17:12:21,046  INFO 4907 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 17:12:22,131  INFO 4907 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 17:12:23,103  INFO 4907 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 17:12:24,065  INFO 4907 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Started BillPayLogCachTest in 12.332 seconds (JVM running for 13.826)
2019-07-22 17:12:24,863  INFO 4907 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 17:12:24,866  INFO 4907 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 17:12:24,894  INFO 4907 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-22 17:14:00,109  INFO 4909 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Starting BillPayLogCachTest on lishihaideMac-mini.local with PID 4909 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 17:14:00,114  INFO 4909 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : The following profiles are active: szdev
2019-07-22 17:14:03,040  INFO 4909 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$dfe0c6e3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:14:03,415  INFO 4909 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$1f24d85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:14:03,455  INFO 4909 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c2eb560] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:14:03,574  INFO 4909 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 17:14:03,846  INFO 4909 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 17:14:03,869  INFO 4909 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 17:14:03,888  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 17:14:03,892  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:14:03,893  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:14:03,894  INFO 4909 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 17:14:03,895  INFO 4909 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 17:14:03,895  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 17:14:03,896  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:14:03,896  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:14:03,897  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 17:14:03,898  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:14:03,899  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:14:03,900  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 17:14:03,902  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:14:03,902  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:14:03,903  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 17:14:03,903  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:14:03,904  INFO 4909 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:14:04,230  INFO 4909 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 17:14:05,431  INFO 4909 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-22 17:14:06,208  INFO 4909 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$c9bf78d4
2019-07-22 17:14:06,225  INFO 4909 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$e525468f
2019-07-22 17:14:06,406  INFO 4909 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 17:14:06,407  INFO 4909 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 17:14:08,132  INFO 4909 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 17:14:09,251  INFO 4909 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 17:14:10,007  INFO 4909 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 17:14:10,983  INFO 4909 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Started BillPayLogCachTest in 11.77 seconds (JVM running for 13.456)
2019-07-22 17:14:11,751 DEBUG 4909 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-22 17:14:11,822 DEBUG 4909 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-22 00:00:00.0(Timestamp), 2019-07-22 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-22 17:14:11,873 DEBUG 4909 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 17:14:12,004  INFO 4909 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 17:14:12,006  INFO 4909 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 17:14:12,024  INFO 4909 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-22 17:52:46,627  INFO 4944 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Starting BillPayLogCachTest on lishihaideMac-mini.local with PID 4944 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 17:52:46,629  INFO 4944 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : The following profiles are active: szdev
2019-07-22 17:52:49,272  INFO 4944 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$bd4e4edd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:52:49,616  INFO 4944 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$df5fd57f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:52:49,662  INFO 4944 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e99c3d5a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:52:49,781  INFO 4944 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 17:52:50,049  INFO 4944 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 17:52:50,074  INFO 4944 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 17:52:50,094  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 17:52:50,097  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:52:50,098  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:52:50,099  INFO 4944 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 17:52:50,100  INFO 4944 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 17:52:50,101  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 17:52:50,102  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:52:50,102  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:52:50,103  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 17:52:50,103  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:52:50,104  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:52:50,104  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 17:52:50,105  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:52:50,105  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:52:50,105  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 17:52:50,106  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:52:50,106  INFO 4944 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:52:50,359  INFO 4944 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 17:52:51,642  INFO 4944 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-22 17:52:52,370  INFO 4944 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$5c78e477
2019-07-22 17:52:52,383  INFO 4944 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$77deb232
2019-07-22 17:52:52,564  INFO 4944 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 17:52:52,564  INFO 4944 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 17:52:54,257  INFO 4944 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 17:52:55,375  INFO 4944 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 17:52:56,146  INFO 4944 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 17:52:57,171  INFO 4944 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Started BillPayLogCachTest in 11.631 seconds (JVM running for 13.156)
2019-07-22 17:52:57,748  INFO 4944 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 17:52:57,751  INFO 4944 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 17:52:57,774  INFO 4944 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-22 17:58:20,178  INFO 4951 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Starting BillPayLogCachTest on lishihaideMac-mini.local with PID 4951 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 17:58:20,181  INFO 4951 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : The following profiles are active: szdev
2019-07-22 17:58:23,791  INFO 4951 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$1eecbac5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:58:24,029  INFO 4951 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$40fe4167] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:58:24,072  INFO 4951 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4b3aa942] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:58:24,201  INFO 4951 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 17:58:24,516  INFO 4951 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 17:58:24,545  INFO 4951 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 17:58:24,571  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 17:58:24,576  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:58:24,576  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:58:24,578  INFO 4951 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 17:58:24,579  INFO 4951 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 17:58:24,581  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 17:58:24,582  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:58:24,582  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:58:24,583  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 17:58:24,584  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:58:24,587  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:58:24,591  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 17:58:24,591  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:58:24,593  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:58:24,598  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 17:58:24,599  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:58:24,600  INFO 4951 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:58:24,988  INFO 4951 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 17:58:26,530  INFO 4951 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-22 17:58:27,492  INFO 4951 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$d708423b
2019-07-22 17:58:27,517  INFO 4951 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$f26e0ff6
2019-07-22 17:58:27,741  INFO 4951 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 17:58:27,742  INFO 4951 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 17:58:30,102  INFO 4951 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 17:58:31,533  INFO 4951 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 17:58:32,539  INFO 4951 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 17:58:33,825  INFO 4951 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Started BillPayLogCachTest in 14.71 seconds (JVM running for 16.195)
2019-07-22 17:58:34,572  INFO 4951 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 17:58:34,574  INFO 4951 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 17:58:34,594  INFO 4951 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-22 17:59:55,814  INFO 4958 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Starting BillPayLogCachTest on lishihaideMac-mini.local with PID 4958 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 17:59:55,816  INFO 4958 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : The following profiles are active: szdev
2019-07-22 17:59:58,741  INFO 4958 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$6e91e151] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:59:58,990  INFO 4958 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$90a367f3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:59:59,037  INFO 4958 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9adfcfce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 17:59:59,162  INFO 4958 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 17:59:59,479  INFO 4958 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 17:59:59,501  INFO 4958 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 17:59:59,523  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 17:59:59,527  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:59:59,528  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:59:59,529  INFO 4958 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 17:59:59,530  INFO 4958 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 17:59:59,531  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 17:59:59,532  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:59:59,537  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:59:59,540  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 17:59:59,542  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:59:59,542  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:59:59,543  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 17:59:59,544  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:59:59,544  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:59:59,545  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 17:59:59,554  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 17:59:59,555  INFO 4958 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 17:59:59,836  INFO 4958 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 18:00:01,005  INFO 4958 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-22 18:00:01,828  INFO 4958 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$1e9855f9
2019-07-22 18:00:01,845  INFO 4958 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$39fe23b4
2019-07-22 18:00:02,059  INFO 4958 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 18:00:02,060  INFO 4958 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 18:00:03,917  INFO 4958 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 18:00:05,054  INFO 4958 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 18:00:05,934  INFO 4958 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 18:00:06,934  INFO 4958 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Started BillPayLogCachTest in 12.242 seconds (JVM running for 13.671)
2019-07-22 18:00:07,712 DEBUG 4958 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-22 18:00:07,768 DEBUG 4958 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-08 00:00:00.0(Timestamp), 2019-07-08 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-22 18:00:07,824 DEBUG 4958 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-22 18:00:07,934  INFO 4958 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 18:00:07,938  INFO 4958 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 18:00:07,955  INFO 4958 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-22 18:03:54,266  INFO 4962 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Starting BillPayLogCachTest on lishihaideMac-mini.local with PID 4962 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 18:03:54,268  INFO 4962 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : The following profiles are active: szdev
2019-07-22 18:03:56,989  INFO 4962 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$dfe0c6e3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 18:03:57,371  INFO 4962 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$1f24d85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 18:03:57,417  INFO 4962 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c2eb560] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 18:03:57,532  INFO 4962 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 18:03:57,800  INFO 4962 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 18:03:57,821  INFO 4962 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 18:03:57,841  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 18:03:57,843  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 18:03:57,844  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 18:03:57,845  INFO 4962 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 18:03:57,845  INFO 4962 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 18:03:57,846  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 18:03:57,847  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 18:03:57,847  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 18:03:57,848  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 18:03:57,849  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 18:03:57,849  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 18:03:57,850  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 18:03:57,851  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 18:03:57,851  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 18:03:57,851  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 18:03:57,852  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 18:03:57,852  INFO 4962 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 18:03:58,118  INFO 4962 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 18:03:59,233  INFO 4962 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-22 18:04:00,022  INFO 4962 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$c9bf78d4
2019-07-22 18:04:00,041  INFO 4962 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$e525468f
2019-07-22 18:04:00,245  INFO 4962 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 18:04:00,246  INFO 4962 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 18:04:02,175  INFO 4962 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 18:04:03,253  INFO 4962 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 18:04:04,139  INFO 4962 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 18:04:05,107  INFO 4962 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Started BillPayLogCachTest in 11.979 seconds (JVM running for 13.371)
2019-07-22 18:04:05,819 DEBUG 4962 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where create_time between ? and ? and pay_type=? and app_id=? 
2019-07-22 18:04:05,891 DEBUG 4962 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==> Parameters: 2019-07-08 00:00:00.0(Timestamp), 2019-07-08 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-22 18:04:05,942 DEBUG 4962 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : <==      Total: 0
2019-07-22 18:04:06,065  INFO 4962 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 18:04:06,068  INFO 4962 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 18:04:06,088  INFO 4962 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-22 18:16:29,302  INFO 4974 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Starting BillPayLogCachTest on lishihaideMac-mini.local with PID 4974 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-22 18:16:29,304  INFO 4974 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : The following profiles are active: szdev
2019-07-22 18:16:32,184  INFO 4974 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$69422872] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 18:16:32,439  INFO 4974 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$8b53af14] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 18:16:32,481  INFO 4974 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$959016ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-22 18:16:32,594  INFO 4974 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-22 18:16:32,881  INFO 4974 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-22 18:16:32,904  INFO 4974 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-22 18:16:32,924  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-22 18:16:32,928  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 18:16:32,928  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 18:16:32,929  INFO 4974 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 18:16:32,929  INFO 4974 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-22 18:16:32,930  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 18:16:32,930  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 18:16:32,931  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 18:16:32,932  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-22 18:16:32,933  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 18:16:32,933  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 18:16:32,934  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 18:16:32,934  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 18:16:32,935  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 18:16:32,935  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1508829551.p12]
2019-07-22 18:16:32,936  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-22 18:16:32,936  INFO 4974 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通-微信小程序, key=c67eb05c5344ef007e8ffe1283d08b3c, appid=wx5a8cc9a1a4a6c90b, mchid=1508829551, certPath=classpath:cert/wx/apiclient_cert-1508829551.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-22 18:16:33,237  INFO 4974 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-22 18:16:34,554  INFO 4974 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-22 18:16:35,275  INFO 4974 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$3bfa648e
2019-07-22 18:16:35,292  INFO 4974 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$57603249
2019-07-22 18:16:35,466  INFO 4974 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-22 18:16:35,467  INFO 4974 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-22 18:16:37,198  INFO 4974 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-22 18:16:38,442  INFO 4974 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-22 18:16:39,229  INFO 4974 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-22 18:16:40,197  INFO 4974 --- [           main] c.i.p.m.t.service.BillPayLogCachTest     : Started BillPayLogCachTest in 11.865 seconds (JVM running for 13.398)
2019-07-22 18:16:40,890 DEBUG 4974 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where create_time between ? and ? and pay_type=? and app_id=? 
2019-07-22 18:16:40,953 DEBUG 4974 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : ==> Parameters: 2019-07-08 00:00:00.0(Timestamp), 2019-07-08 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-22 18:16:41,002 DEBUG 4974 --- [           main] c.i.p.m.t.d.P.findBetweenDate            : <==      Total: 0
2019-07-22 18:16:41,111  INFO 4974 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-22 18:16:41,113  INFO 4974 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-22 18:16:41,131  INFO 4974 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
