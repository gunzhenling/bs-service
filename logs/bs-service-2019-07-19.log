2019-07-19 11:44:49,318  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Starting BillDownloadTimerTest on lishihaideMac-mini.local with PID 903 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-19 11:44:49,321  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : The following profiles are active: szdev
2019-07-19 11:44:52,726  INFO 903 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$914928eb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 11:44:53,090  INFO 903 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$b35aaf8d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 11:44:53,136  INFO 903 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bd971768] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 11:44:53,264  INFO 903 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-19 11:44:53,532  INFO 903 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-19 11:44:53,554  INFO 903 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-19 11:44:53,575  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-19 11:44:53,580  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 11:44:53,581  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 11:44:53,582  INFO 903 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 11:44:53,582  INFO 903 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 11:44:53,583  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 11:44:53,584  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 11:44:53,584  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 11:44:53,585  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 11:44:53,586  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 11:44:53,587  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 11:44:53,588  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 11:44:53,589  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 11:44:53,590  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 11:44:53,590  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 11:44:53,591  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 11:44:53,591  INFO 903 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 11:44:53,913  INFO 903 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-19 11:44:55,289  INFO 903 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-19 11:44:56,077  INFO 903 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$92143331
2019-07-19 11:44:56,094  INFO 903 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$ad7a00ec
2019-07-19 11:44:56,272  INFO 903 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-19 11:44:56,273  INFO 903 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-19 11:44:58,047  INFO 903 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-19 11:44:59,148  INFO 903 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-19 11:44:59,866  INFO 903 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-19 11:45:00,917  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Started BillDownloadTimerTest in 13.302 seconds (JVM running for 15.71)
2019-07-19 11:45:01,839 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:01,883 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190715(String)
2019-07-19 11:45:01,936 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 11:45:01,947  INFO 903 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Mon Jul 15 00:00:00 CST 2019)
2019-07-19 11:45:01,948  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190715: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Mon Jul 15 00:00:00 CST 2019)
2019-07-19 11:45:01,949  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=101,appId=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 11:45:02,028  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190715 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-15","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-07-19 11:45:02,376  INFO 903 --- [           main] sdk.biz.err                              : Summary^_^10000^_^null^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=YUCLc4wmtY0kZOLUA4v5stiA7olw2nItZ+OlW9h0m/+ipVGuoJBIBRwtQVJrFg2NPp6nsx0vqDBKh9S3zJTh+EbvznnImFwrEF4TqUDgJB2rR21824D2H54gM3VOE1CsVgE7SM+kTIS+qZPPUc0q2d+PFfCfFwrjKKVRjrom/rY=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 11:45:02^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-15","bill_type":"trade"}^_^36ms,292ms,18ms
2019-07-19 11:45:02,379  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190715 response: {"code":"10000","msg":"Success","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"10000\",\"msg\":\"Success\",\"bill_download_url\":\"http:\\/\\/dwbillcenter.alipay.com\\/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190715&downloadFileName=20882218614866000156_20190715.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190715.csv.zip&timestamp=1563507902&token=0881c73b48bc2937c5704cb25102678c\"},\"sign\":\"BMWsslTReeL0uU5jnniuD/rKmuY/qgTPdVC7+bQr/EIjdrwlKq/ELSZytXGgjzSDHFxLYz+/oG9OeMZnutnx+lcHuLbNxFXhPrCAOp8AQnlqBb/ENY+PGl7nxk5tmOgkdxYCsttP1E4qEzM3oDUjrDLaa03gDokSI3UE7riFVIo=\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-15\",\"bill_type\":\"trade\"}"},"bill_download_url":"http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190715&downloadFileName=20882218614866000156_20190715.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190715.csv.zip&timestamp=1563507902&token=0881c73b48bc2937c5704cb25102678c","success":true,"error_code":"10000"}
2019-07-19 11:45:02,380  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : alipay 101-Mon Jul 15 00:00:00 CST 2019 download-url: http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190715&downloadFileName=20882218614866000156_20190715.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190715.csv.zip&timestamp=1563507902&token=0881c73b48bc2937c5704cb25102678c
2019-07-19 11:45:02,819  WARN 903 --- [           main] o.a.h.c.protocol.ResponseProcessCookies  : Cookie rejected [zone="GZ00C", version:1, domain:.${session_domain}, path:/, expiry:null] Domain attribute ".${session_domain}" violates RFC 2109: domain must contain an embedded dot
2019-07-19 11:45:02,821  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file write to [alipay_101_2019-07-15.zip]
2019-07-19 11:45:02,826  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file [alipay_101_2019-07-15.zip] write success
2019-07-19 11:45:02,932 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:02,934 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190715(String)
2019-07-19 11:45:02,941 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-19 11:45:02,945 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-19 11:45:02,963 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190715(String), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":13,"退款订单总笔数":1,"订单金额（元）":4799.00,"商家实收（元）":4799.00,"服务费（元）":-31.00,"实收净额（元）":4768.00}(String), null
2019-07-19 11:45:02,969 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-19 11:45:02,976 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:02,977 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190715(String)
2019-07-19 11:45:02,980 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 11:45:02,981 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-19 11:45:02,984 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190715(String), null, null
2019-07-19 11:45:02,989 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-19 11:45:03,013  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-15T00:00:00.000] parse successful
2019-07-19 11:45:03,017 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 11:45:03,019 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190715(String), alipay(String)
2019-07-19 11:45:03,023 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:03,026 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 11:45:03,027 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190715(String), alipay(String), 101(String)
2019-07-19 11:45:03,032 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:03,037 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-19 11:45:03,038 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190715(String)
2019-07-19 11:45:03,044 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-19 11:45:03,046 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:03,048 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190715(String)
2019-07-19 11:45:03,058 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-19 11:45:03,060 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-19 11:45:03,064 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190715(String), alipay(String), 20190715(String), 2019-07-19 11:45:03.059(Timestamp)
2019-07-19 11:45:03,069 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-19 11:45:03,072 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:03,073 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190715(String)
2019-07-19 11:45:03,108 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-19 11:45:03,112 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 11:45:03,113 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190715(String), alipay(String)
2019-07-19 11:45:03,116 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:03,182 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-19 11:45:03,190 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-15 00:00:00.0(Timestamp), 2019-07-15 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 11:45:03,194 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 11:45:03,197 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 11:45:03,199 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190715(String), alipay(String), 101(String)
2019-07-19 11:45:03,203 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:03,205 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-19 11:45:03,207 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-15 00:00:00.0(Timestamp), 2019-07-15 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 11:45:03,211 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 11:45:03,212  INFO 903 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: alipay, date: 2019-07-15T00:00:00.000 - result paysCount: 0, refundsCount: 0
2019-07-19 11:45:03,245  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-15T00:00:00.000] createCompareBatch successful
2019-07-19 11:45:03,249 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:03,252 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190716(String)
2019-07-19 11:45:03,258 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 11:45:03,259  INFO 903 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Tue Jul 16 00:00:00 CST 2019)
2019-07-19 11:45:03,260  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190716: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Tue Jul 16 00:00:00 CST 2019)
2019-07-19 11:45:03,260  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=101,appId=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 11:45:03,261  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190716 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-16","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-07-19 11:45:03,375  INFO 903 --- [           main] sdk.biz.err                              : Summary^_^10000^_^null^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=WXLCtB47//Ke5OEV2NXJvvS8pV0O2KndMtwLK+GvtdUlowWUnCW3CQvX86zxwAIaNhLyBAJBI5UfhAkn28wIWTjj9FsF4Yy/W00feZ88miYfkDNwDEEYVZYgfpyefb6EL3G0NgQFUtDwER+LQShYhlmnQ5O6pWZ6+JbbxLUazr4=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 11:45:03^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-16","bill_type":"trade"}^_^4ms,109ms,1ms
2019-07-19 11:45:03,376  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190716 response: {"code":"10000","msg":"Success","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"10000\",\"msg\":\"Success\",\"bill_download_url\":\"http:\\/\\/dwbillcenter.alipay.com\\/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190716&downloadFileName=20882218614866000156_20190716.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190716.csv.zip&timestamp=1563507903&token=b47998eae8644e8f1ace703752b48bc0\"},\"sign\":\"VikGpfLXkEiX16EaqJXc3+16UqXvlYpOtIoxlHUbNAF6WW2ONY7WK4/kPc6Gskg6YrIo5Yg2oL+9Gw4Wg9TjE0Vp9fujDxXPaX0v9fG4TqqstgKG0XI4HKoi1+mG4xoJ/J6MoOWFjYT+ufMtINcFFfnrdufZN1VcI3jyHX4SV9M=\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-16\",\"bill_type\":\"trade\"}"},"bill_download_url":"http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190716&downloadFileName=20882218614866000156_20190716.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190716.csv.zip&timestamp=1563507903&token=b47998eae8644e8f1ace703752b48bc0","success":true,"error_code":"10000"}
2019-07-19 11:45:03,377  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : alipay 101-Tue Jul 16 00:00:00 CST 2019 download-url: http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190716&downloadFileName=20882218614866000156_20190716.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190716.csv.zip&timestamp=1563507903&token=b47998eae8644e8f1ace703752b48bc0
2019-07-19 11:45:03,563  WARN 903 --- [           main] o.a.h.c.protocol.ResponseProcessCookies  : Cookie rejected [zone="GZ00C", version:1, domain:.${session_domain}, path:/, expiry:null] Domain attribute ".${session_domain}" violates RFC 2109: domain must contain an embedded dot
2019-07-19 11:45:03,563  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file write to [alipay_101_2019-07-16.zip]
2019-07-19 11:45:03,564  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file [alipay_101_2019-07-16.zip] write success
2019-07-19 11:45:03,574 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:03,575 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190716(String)
2019-07-19 11:45:03,578 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-19 11:45:03,579 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-19 11:45:03,580 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190716(String), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":7,"退款订单总笔数":3,"订单金额（元）":578.01,"商家实收（元）":578.01,"服务费（元）":-9.32,"实收净额（元）":568.69}(String), null
2019-07-19 11:45:03,585 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-19 11:45:03,589 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:03,590 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190716(String)
2019-07-19 11:45:03,592 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 11:45:03,593 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-19 11:45:03,594 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190716(String), null, null
2019-07-19 11:45:03,597 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-19 11:45:03,628  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-16T00:00:00.000] parse successful
2019-07-19 11:45:03,629 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 11:45:03,629 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190716(String), alipay(String)
2019-07-19 11:45:03,634 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:03,637 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 11:45:03,638 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190716(String), alipay(String), 101(String)
2019-07-19 11:45:03,641 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:03,644 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-19 11:45:03,645 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190716(String)
2019-07-19 11:45:03,649 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-19 11:45:03,651 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:03,652 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190716(String)
2019-07-19 11:45:03,656 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-19 11:45:03,656 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-19 11:45:03,657 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190716(String), alipay(String), 20190716(String), 2019-07-19 11:45:03.656(Timestamp)
2019-07-19 11:45:03,662 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-19 11:45:03,663 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:03,664 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190716(String)
2019-07-19 11:45:03,671 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-19 11:45:03,676 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 11:45:03,676 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190716(String), alipay(String)
2019-07-19 11:45:03,680 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:03,681 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-19 11:45:03,683 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-16 00:00:00.0(Timestamp), 2019-07-16 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 11:45:03,687 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 11:45:03,687 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 11:45:03,687 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190716(String), alipay(String), 101(String)
2019-07-19 11:45:03,691 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:03,692 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-19 11:45:03,692 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-16 00:00:00.0(Timestamp), 2019-07-16 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 11:45:03,695 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 11:45:03,696  INFO 903 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: alipay, date: 2019-07-16T00:00:00.000 - result paysCount: 0, refundsCount: 0
2019-07-19 11:45:03,729  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-16T00:00:00.000] createCompareBatch successful
2019-07-19 11:45:03,732 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:03,732 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190717(String)
2019-07-19 11:45:03,736 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 11:45:03,736  INFO 903 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Wed Jul 17 00:00:00 CST 2019)
2019-07-19 11:45:03,737  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190717: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Wed Jul 17 00:00:00 CST 2019)
2019-07-19 11:45:03,737  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=101,appId=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 11:45:03,738  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190717 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-17","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-07-19 11:45:03,861  INFO 903 --- [           main] sdk.biz.err                              : Summary^_^10000^_^null^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=CJQm6UUm69zoBYyGIAHPwRxkZc1KmZ+7pjZrbwbMaCSkc4KwYP2GxYiEaih1ecjB1ZvR56aNMc+ZMfEvdQnEyQ4Db5t07L97HcWOmtR4MAEAlZsuPKoait1Gf9BeFbOg07ykO1PvXqBwlse0iTVx/X8eSushtNHcPK5/FRv2bJA=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 11:45:03^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-17","bill_type":"trade"}^_^5ms,117ms,1ms
2019-07-19 11:45:03,861  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190717 response: {"code":"10000","msg":"Success","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"10000\",\"msg\":\"Success\",\"bill_download_url\":\"http:\\/\\/dwbillcenter.alipay.com\\/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190717&downloadFileName=20882218614866000156_20190717.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190717.csv.zip&timestamp=1563507903&token=7c3fd8c9f22b39f25d886e1b3220e8ab\"},\"sign\":\"pl36YEk1KNyt0g7JgZEFXjPJoAguOCstrfWdg1agxW1PTkrcCvzeaFcykdea9/gWAbQMwgWpSaTPvJ/3bg7In4nfthyDhuF3G3npFib308eqWBsVC1zuGxqm4b3JeB5i7bxoPv5QPSX/WeqBfWPeWKYHsCKO9aigEAalpUMFIC4=\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-17\",\"bill_type\":\"trade\"}"},"bill_download_url":"http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190717&downloadFileName=20882218614866000156_20190717.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190717.csv.zip&timestamp=1563507903&token=7c3fd8c9f22b39f25d886e1b3220e8ab","success":true,"error_code":"10000"}
2019-07-19 11:45:03,861  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : alipay 101-Wed Jul 17 00:00:00 CST 2019 download-url: http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190717&downloadFileName=20882218614866000156_20190717.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190717.csv.zip&timestamp=1563507903&token=7c3fd8c9f22b39f25d886e1b3220e8ab
2019-07-19 11:45:04,000  WARN 903 --- [           main] o.a.h.c.protocol.ResponseProcessCookies  : Cookie rejected [zone="GZ00C", version:1, domain:.${session_domain}, path:/, expiry:null] Domain attribute ".${session_domain}" violates RFC 2109: domain must contain an embedded dot
2019-07-19 11:45:04,000  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file write to [alipay_101_2019-07-17.zip]
2019-07-19 11:45:04,001  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file [alipay_101_2019-07-17.zip] write success
2019-07-19 11:45:04,007 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,008 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190717(String)
2019-07-19 11:45:04,012 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-19 11:45:04,013 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-19 11:45:04,015 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190717(String), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":21,"退款订单总笔数":0,"订单金额（元）":4527.90,"商家实收（元）":4527.90,"服务费（元）":-27.16,"实收净额（元）":4500.74}(String), null
2019-07-19 11:45:04,019 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-19 11:45:04,020 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,021 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190717(String)
2019-07-19 11:45:04,024 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 11:45:04,025 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-19 11:45:04,026 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190717(String), null, null
2019-07-19 11:45:04,030 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-19 11:45:04,054  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-17T00:00:00.000] parse successful
2019-07-19 11:45:04,054 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 11:45:04,054 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190717(String), alipay(String)
2019-07-19 11:45:04,058 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:04,059 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 11:45:04,061 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190717(String), alipay(String), 101(String)
2019-07-19 11:45:04,064 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:04,066 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-19 11:45:04,067 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190717(String)
2019-07-19 11:45:04,070 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-19 11:45:04,070 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,070 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190717(String)
2019-07-19 11:45:04,074 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-19 11:45:04,075 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-19 11:45:04,075 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190717(String), alipay(String), 20190717(String), 2019-07-19 11:45:04.074(Timestamp)
2019-07-19 11:45:04,079 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-19 11:45:04,080 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,081 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190717(String)
2019-07-19 11:45:04,085 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-19 11:45:04,085 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 11:45:04,086 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190717(String), alipay(String)
2019-07-19 11:45:04,089 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:04,090 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-19 11:45:04,091 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-17 00:00:00.0(Timestamp), 2019-07-17 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 11:45:04,094 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 11:45:04,094 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 11:45:04,095 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190717(String), alipay(String), 101(String)
2019-07-19 11:45:04,098 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:04,098 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-19 11:45:04,099 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-17 00:00:00.0(Timestamp), 2019-07-17 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 11:45:04,102 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 11:45:04,102  INFO 903 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: alipay, date: 2019-07-17T00:00:00.000 - result paysCount: 0, refundsCount: 0
2019-07-19 11:45:04,137  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-17T00:00:00.000] createCompareBatch successful
2019-07-19 11:45:04,139 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,140 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190718(String)
2019-07-19 11:45:04,142 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 11:45:04,143  INFO 903 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Thu Jul 18 00:00:00 CST 2019)
2019-07-19 11:45:04,143  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190718: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Thu Jul 18 00:00:00 CST 2019)
2019-07-19 11:45:04,143  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=101,appId=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 11:45:04,144  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190718 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-18","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-07-19 11:45:04,260  INFO 903 --- [           main] sdk.biz.err                              : Summary^_^10000^_^null^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=bi+2X32LrCW+Max0Gcqk8SItPm/I/X5YzsPlTYAGVido/eTsd/+hf6MFAB/9t4ULCbmVvJpytC19LNW5D6CwBr1wlFvhg/BdWUXjDlE3SCUGKNy2HVhnfc1YNHTR0+zX0TnQRdOHnN79qskKM17GgW1RCvpimXtcOvcpOm2yAXg=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 11:45:04^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-18","bill_type":"trade"}^_^4ms,111ms,1ms
2019-07-19 11:45:04,261  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190718 response: {"code":"10000","msg":"Success","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"10000\",\"msg\":\"Success\",\"bill_download_url\":\"http:\\/\\/dwbillcenter.alipay.com\\/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190718&downloadFileName=20882218614866000156_20190718.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190718.csv.zip&timestamp=1563507904&token=9e285401b4d6b2583b2b07b331061d1c\"},\"sign\":\"QWS4xrtkRFLNbTzGv1BajqVubnfEdrvHDPla9ohDU/xUuY50OGJxy+NN3I5yQUp1Pbbbi2m3EEYZm45nbHD693TGEHVZ+HqwtJ/BVawpr58Jqo8IsVNegDAYfJzP67OPxv/nFaXi4vX0kn2SIm0KDRC3MpwwLk/rUM/mye/plAM=\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-18\",\"bill_type\":\"trade\"}"},"bill_download_url":"http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190718&downloadFileName=20882218614866000156_20190718.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190718.csv.zip&timestamp=1563507904&token=9e285401b4d6b2583b2b07b331061d1c","success":true,"error_code":"10000"}
2019-07-19 11:45:04,261  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : alipay 101-Thu Jul 18 00:00:00 CST 2019 download-url: http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190718&downloadFileName=20882218614866000156_20190718.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190718.csv.zip&timestamp=1563507904&token=9e285401b4d6b2583b2b07b331061d1c
2019-07-19 11:45:04,383  WARN 903 --- [           main] o.a.h.c.protocol.ResponseProcessCookies  : Cookie rejected [zone="GZ00C", version:1, domain:.${session_domain}, path:/, expiry:null] Domain attribute ".${session_domain}" violates RFC 2109: domain must contain an embedded dot
2019-07-19 11:45:04,383  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file write to [alipay_101_2019-07-18.zip]
2019-07-19 11:45:04,384  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file [alipay_101_2019-07-18.zip] write success
2019-07-19 11:45:04,387 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,388 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190718(String)
2019-07-19 11:45:04,391 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-19 11:45:04,392 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-19 11:45:04,393 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190718(String), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":4,"退款订单总笔数":3,"订单金额（元）":1734.95,"商家实收（元）":1734.95,"服务费（元）":-14.96,"实收净额（元）":1719.99}(String), null
2019-07-19 11:45:04,398 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-19 11:45:04,399 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,400 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190718(String)
2019-07-19 11:45:04,403 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 11:45:04,403 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-19 11:45:04,404 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190718(String), null, null
2019-07-19 11:45:04,408 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-19 11:45:04,437  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-18T00:00:00.000] parse successful
2019-07-19 11:45:04,438 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 11:45:04,439 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190718(String), alipay(String)
2019-07-19 11:45:04,443 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:04,444 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 11:45:04,444 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190718(String), alipay(String), 101(String)
2019-07-19 11:45:04,447 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:04,450 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-19 11:45:04,451 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190718(String)
2019-07-19 11:45:04,454 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-19 11:45:04,455 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,455 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190718(String)
2019-07-19 11:45:04,458 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-19 11:45:04,459 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-19 11:45:04,460 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190718(String), alipay(String), 20190718(String), 2019-07-19 11:45:04.458(Timestamp)
2019-07-19 11:45:04,463 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-19 11:45:04,464 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,465 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190718(String)
2019-07-19 11:45:04,468 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-19 11:45:04,469 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 11:45:04,469 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190718(String), alipay(String)
2019-07-19 11:45:04,472 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:04,473 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-19 11:45:04,473 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-18 00:00:00.0(Timestamp), 2019-07-18 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 11:45:04,476 DEBUG 903 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 11:45:04,476 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 11:45:04,476 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190718(String), alipay(String), 101(String)
2019-07-19 11:45:04,479 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:04,479 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-19 11:45:04,480 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-18 00:00:00.0(Timestamp), 2019-07-18 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 11:45:04,482 DEBUG 903 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 11:45:04,483  INFO 903 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: alipay, date: 2019-07-18T00:00:00.000 - result paysCount: 0, refundsCount: 0
2019-07-19 11:45:04,521  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-18T00:00:00.000] createCompareBatch successful
2019-07-19 11:45:04,524 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,525 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190719(String)
2019-07-19 11:45:04,527 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 11:45:04,528  INFO 903 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Fri Jul 19 00:00:00 CST 2019)
2019-07-19 11:45:04,528  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190719: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Fri Jul 19 00:00:00 CST 2019)
2019-07-19 11:45:04,528  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=101,appId=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 11:45:04,529  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190719 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-19","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-07-19 11:45:04,623 ERROR 903 --- [           main] sdk.biz.err                              : ErrorScene^_^40004^_^isv.invalid_arguments^_^null^_^Mac OS X^_^2019-07-19 11:45:04^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=FY0vj6HW9kDWEzdAKbpKC9zaLHyWSxIr60WKnnps3xM3Z/0sSOM+piHsxfLdz8AGoWz5GnvS3ji3/f2w0KB0VFEFjIn6fSCFWNDtFoj54CsgFwa6Lo9TJxMD4RWg/eTzTHQ9wR1pLkCPNWHygOLeTJSCdqcA2oWQsG4yoKXa6U8=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 11:45:04^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-19","bill_type":"trade"}^_^Body:{"alipay_data_dataservice_bill_downloadurl_query_response":{"code":"40004","msg":"Business Failed","sub_code":"isv.invalid_arguments","sub_msg":"入参不合法"},"sign":"cewSD6P+xWuoxhJsM2XTBlT/FupassFgla52NGOZU0tfoGnuerfJUHghypr0myZBHKgTgnW6oZZd0WrRNp0lSehoQ/5n1Je6tM9ECA9ckRcnZXZZ70axah0gqq+UFPg+MFAAf/9ad/0VesEQbFhwi/v8/FYagE+mI3y5ZN/hOpg="}^_^4ms,89ms,1ms
2019-07-19 11:45:04,624  INFO 903 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190719 response: {"code":"40004","msg":"Business Failed","sub_code":"isv.invalid_arguments","sub_msg":"入参不合法","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"isv.invalid_arguments\",\"sub_msg\":\"入参不合法\"},\"sign\":\"cewSD6P+xWuoxhJsM2XTBlT/FupassFgla52NGOZU0tfoGnuerfJUHghypr0myZBHKgTgnW6oZZd0WrRNp0lSehoQ/5n1Je6tM9ECA9ckRcnZXZZ70axah0gqq+UFPg+MFAAf/9ad/0VesEQbFhwi/v8/FYagE+mI3y5ZN/hOpg=\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-19\",\"bill_type\":\"trade\"}"},"success":false,"error_code":"40004"}
2019-07-19 11:45:04,624  WARN 903 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : bill-file not exists: Business Failed # isv.invalid_arguments # 入参不合法
2019-07-19 11:45:04,625 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-19 11:45:04,625 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190719(String), null, Business Failed # isv.invalid_arguments # 入参不合法(String)
2019-07-19 11:45:04,630 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-19 11:45:04,661  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-19T00:00:00.000] parse successful
2019-07-19 11:45:04,662 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 11:45:04,662 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190719(String), alipay(String)
2019-07-19 11:45:04,665 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:04,667 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 11:45:04,667 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190719(String), alipay(String), 101(String)
2019-07-19 11:45:04,670 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 11:45:04,674 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-19 11:45:04,675 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190719(String)
2019-07-19 11:45:04,678 DEBUG 903 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-19 11:45:04,679 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,680 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190719(String)
2019-07-19 11:45:04,683 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-19 11:45:04,687 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-19 11:45:04,688 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190719(String), alipay(String), 20190719(String), 2019-07-19 11:45:04.684(Timestamp)
2019-07-19 11:45:04,696 DEBUG 903 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-19 11:45:04,697 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 11:45:04,697 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190719(String)
2019-07-19 11:45:04,700 DEBUG 903 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-19 11:45:04,701  INFO 903 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: alipay, date: 2019-07-19T00:00:00.000 - result is Null
2019-07-19 11:45:04,737  INFO 903 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-19T00:00:00.000] createCompareBatch successful
2019-07-19 11:45:04,768  INFO 903 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-19 11:45:04,769  INFO 903 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-19 11:45:04,796  INFO 903 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-19 13:38:13,667  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 993 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-19 13:38:13,670  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-19 13:38:13,783  INFO 993 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-07-19 13:38:13,784  INFO 993 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-07-19 13:38:17,667  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$f059b579] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:38:17,988  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$126b3c1b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:38:18,079  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1ca7a3f6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:38:18,154  INFO 993 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-19 13:38:18,967  INFO 993 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-19 13:38:19,194  INFO 993 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 5409 ms
2019-07-19 13:38:19,578  INFO 993 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-19 13:38:20,614  INFO 993 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-19 13:38:21,126  INFO 993 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-19 13:38:21,147  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-19 13:38:21,156  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-19 13:38:21,160  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:38:21,161  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:38:21,162  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 13:38:21,162  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 13:38:21,163  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 13:38:21,164  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:38:21,164  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:38:21,165  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 13:38:21,165  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:38:21,165  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:38:21,166  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 13:38:21,166  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:38:21,166  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:38:21,168  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 13:38:21,169  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:38:21,170  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:38:22,073  INFO 993 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$a8556e64
2019-07-19 13:38:22,091  INFO 993 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$c3bb3c1f
2019-07-19 13:38:22,296  INFO 993 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-19 13:38:22,296  INFO 993 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-19 13:38:22,997  INFO 993 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-19 13:38:23,382  INFO 993 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-19 13:38:23,422  INFO 993 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-19 13:38:23,798  INFO 993 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-19 13:38:25,006  INFO 993 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-19 13:38:25,013  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 12.51 seconds (JVM running for 13.165)
2019-07-19 13:43:04,452  INFO 993 --- [       Thread-7] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-19 13:43:04,455  INFO 993 --- [       Thread-7] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-19 13:43:04,511  INFO 993 --- [       Thread-7] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-19 13:43:05,116  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 993 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-19 13:43:05,116  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-19 13:43:06,045  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$f059b579] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:43:06,071  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$126b3c1b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:43:06,084  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1ca7a3f6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:43:06,109  INFO 993 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-19 13:43:06,284  INFO 993 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-19 13:43:06,302  INFO 993 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1182 ms
2019-07-19 13:43:06,435  INFO 993 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-19 13:43:06,690  INFO 993 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} inited
2019-07-19 13:43:06,926  INFO 993 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-19 13:43:06,928  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-19 13:43:06,929  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-19 13:43:06,930  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:43:06,930  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:43:06,931  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 13:43:06,931  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 13:43:06,932  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 13:43:06,932  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:43:06,932  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:43:06,932  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 13:43:06,933  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:43:06,933  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:43:06,933  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 13:43:06,934  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:43:06,934  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:43:06,934  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 13:43:06,935  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:43:06,935  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:43:07,297  INFO 993 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$a8556e64
2019-07-19 13:43:07,308  INFO 993 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$c3bb3c1f
2019-07-19 13:43:07,417  INFO 993 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-19 13:43:07,418  INFO 993 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-19 13:43:07,719  INFO 993 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-19 13:43:07,875  INFO 993 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-19 13:43:07,889  INFO 993 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-19 13:43:08,061  INFO 993 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-19 13:43:08,513  INFO 993 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-19 13:43:08,515  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 3.634 seconds (JVM running for 296.659)
2019-07-19 13:43:08,523  INFO 993 --- [  async-event-1] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-19 13:46:03,234  INFO 993 --- [      Thread-12] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-19 13:46:03,236  INFO 993 --- [      Thread-12] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-19 13:46:03,244  INFO 993 --- [      Thread-12] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} closed
2019-07-19 13:46:03,952  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 993 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-19 13:46:03,953  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-19 13:46:04,728  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$f059b579] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:46:04,750  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$126b3c1b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:46:04,762  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1ca7a3f6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:46:04,776  INFO 993 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-19 13:46:04,891  INFO 993 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-19 13:46:04,903  INFO 993 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 947 ms
2019-07-19 13:46:05,019  INFO 993 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-19 13:46:05,252  INFO 993 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-3} inited
2019-07-19 13:46:05,438  INFO 993 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-19 13:46:05,439  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-19 13:46:05,440  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-19 13:46:05,441  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:46:05,441  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:46:05,441  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 13:46:05,442  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 13:46:05,442  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 13:46:05,442  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:46:05,442  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:46:05,442  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 13:46:05,443  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:46:05,443  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:46:05,443  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 13:46:05,444  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:46:05,444  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:46:05,444  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 13:46:05,444  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:46:05,444  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:46:05,743  INFO 993 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$a8556e64
2019-07-19 13:46:05,755  INFO 993 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$c3bb3c1f
2019-07-19 13:46:05,848  INFO 993 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-19 13:46:05,849  INFO 993 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-19 13:46:06,108  INFO 993 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-19 13:46:06,247  INFO 993 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-19 13:46:06,258  INFO 993 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-19 13:46:06,415  INFO 993 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-19 13:46:06,757  INFO 993 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-19 13:46:06,758  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 3.087 seconds (JVM running for 474.884)
2019-07-19 13:46:06,765  INFO 993 --- [  async-event-3] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-19 13:47:25,038  INFO 993 --- [      Thread-18] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-19 13:47:25,044  INFO 993 --- [      Thread-18] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-19 13:47:25,052  INFO 993 --- [      Thread-18] com.alibaba.druid.pool.DruidDataSource   : {dataSource-3} closed
2019-07-19 13:47:25,624  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 993 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-19 13:47:25,624  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-19 13:47:26,801  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$f059b579] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:47:26,825  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$126b3c1b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:47:26,838  INFO 993 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1ca7a3f6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 13:47:26,849  INFO 993 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-19 13:47:26,966  INFO 993 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-19 13:47:26,981  INFO 993 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1350 ms
2019-07-19 13:47:27,125  INFO 993 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-19 13:47:27,363  INFO 993 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-4} inited
2019-07-19 13:47:27,547  INFO 993 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-19 13:47:27,548  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-19 13:47:27,549  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-19 13:47:27,549  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:47:27,549  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:47:27,550  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 13:47:27,550  INFO 993 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 13:47:27,550  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 13:47:27,551  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:47:27,551  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:47:27,551  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 13:47:27,551  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:47:27,551  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:47:27,551  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 13:47:27,552  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:47:27,552  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:47:27,552  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 13:47:27,552  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 13:47:27,553  INFO 993 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 13:47:27,925  INFO 993 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$a8556e64
2019-07-19 13:47:27,940  INFO 993 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$c3bb3c1f
2019-07-19 13:47:28,061  INFO 993 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-19 13:47:28,061  INFO 993 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-19 13:47:28,401  INFO 993 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-19 13:47:28,561  INFO 993 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-19 13:47:28,570  INFO 993 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-19 13:47:28,716  INFO 993 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-19 13:47:29,099  INFO 993 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-19 13:47:29,100  INFO 993 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 3.572 seconds (JVM running for 557.223)
2019-07-19 13:47:29,106  INFO 993 --- [  async-event-5] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-19 13:52:29,105  INFO 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery start...
2019-07-19 13:52:29,231 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==>  Preparing: select pr.id, pr.app_id, pr.pay_type, pr.channel, pr.order_no, pr.amount, pr.subject, pr.sign_type, pr.client_ip, pr.extra, pr.create_time from pay_center3_pay_request pr left join pay_center3_pay_query_result pqr on pr.pay_type = pqr.pay_type and pr.order_no = pqr.order_no where pqr.app_id is null and pr.create_time between ? and ? 
2019-07-19 13:52:29,294 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==> Parameters: 2019-07-17 13:52:29.107(Timestamp), 2019-07-19 13:52:29.107(Timestamp)
2019-07-19 13:52:29,373 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : <==      Total: 5
2019-07-19 13:52:29,376 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 13:52:29,378 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R281(String), wx(String)
2019-07-19 13:52:29,382 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 13:52:29,383  INFO 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery
2019-07-19 13:52:29,397  INFO 993 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 13:52:29,398  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R281,payType=wx,appId=101
2019-07-19 13:52:29,398  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R281
2019-07-19 13:52:29,399 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 13:52:29,400 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 13:52:29,405 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 13:52:29,406 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 13:52:29,407 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 13:52:29,413 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 13:52:29,413  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R281
2019-07-19 13:52:29,414 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 13:52:29,417 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R281(String), wx(String), 101(String)
2019-07-19 13:52:29,422 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 13:52:29,423  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R281,tradeType=app
2019-07-19 13:52:29,441  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R281: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 13:52:29,442  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 request: {out_trade_no=10110011562749752364269R281}
2019-07-19 13:52:29,984  INFO 993 --- [   scheduling-1] wxpay java sdk                           : report worker num: 6
2019-07-19 13:52:29,986  INFO 993 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,d28qriXmKifchnPP11KQJHrK3yZiZfmt,1563515549,493,api.mch.weixin.qq.com,true,6000,8000,0,0,0,E38AC67EE603BFDF510F195E6AA64378924543309D6D7F5FEEEF5F09CED17510
2019-07-19 13:52:29,986  INFO 993 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[N2NEzZqXmGDM028b]]></nonce_str>
<sign><![CDATA[56A3441E642BEBC732B168C1C815913587C30C557D359DC7E66F010BF1EF5453]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 13:52:29,986  INFO 993 --- [pool-2-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,d28qriXmKifchnPP11KQJHrK3yZiZfmt,1563515549,493,api.mch.weixin.qq.com,true,6000,8000,0,0,0,E38AC67EE603BFDF510F195E6AA64378924543309D6D7F5FEEEF5F09CED17510
2019-07-19 13:52:29,986  INFO 993 --- [pool-2-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 13:52:29,989  INFO 993 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=N2NEzZqXmGDM028b, appid=wx9b5cb757426e00d9, sign=56A3441E642BEBC732B168C1C815913587C30C557D359DC7E66F010BF1EF5453, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 13:52:29,989  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 response: {nonce_str=N2NEzZqXmGDM028b, appid=wx9b5cb757426e00d9, sign=56A3441E642BEBC732B168C1C815913587C30C557D359DC7E66F010BF1EF5453, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 13:52:29,994  WARN 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R281 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 13:52:29,994  WARN 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 13:52:29,994 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 13:52:29,995 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R888(String), wx(String)
2019-07-19 13:52:29,999 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 13:52:29,999  INFO 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery
2019-07-19 13:52:29,999  INFO 993 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 13:52:30,000  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R888,payType=wx,appId=101
2019-07-19 13:52:30,000  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R888
2019-07-19 13:52:30,000 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 13:52:30,001 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 13:52:30,005 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 13:52:30,006 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 13:52:30,007 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 13:52:30,012 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 13:52:30,013  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R888
2019-07-19 13:52:30,014 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 13:52:30,014 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R888(String), wx(String), 101(String)
2019-07-19 13:52:30,018 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 13:52:30,019  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R888,tradeType=wap
2019-07-19 13:52:30,021  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R888: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 13:52:30,021  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 request: {out_trade_no=10110011562749752364269R888}
2019-07-19 13:52:30,248  INFO 993 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,6zFJy8ouTNZ7H1F6TvSX6JNfCbKaEp2S,1563515550,226,api.mch.weixin.qq.com,true,6000,8000,0,0,0,E2CDC51B4231AC28A0F8A02C6EFABF6D51071A9D3D1371E708CC860119B1B6B6
2019-07-19 13:52:30,248  INFO 993 --- [pool-3-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,6zFJy8ouTNZ7H1F6TvSX6JNfCbKaEp2S,1563515550,226,api.mch.weixin.qq.com,true,6000,8000,0,0,0,E2CDC51B4231AC28A0F8A02C6EFABF6D51071A9D3D1371E708CC860119B1B6B6
2019-07-19 13:52:30,248  INFO 993 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[hiZYIwQ5pnnLIupX]]></nonce_str>
<sign><![CDATA[0E8EDB154436694ABD26862FE7BA6EA17A208963CD2993F489E1227BFA0B750D]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 13:52:30,248  INFO 993 --- [pool-3-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 13:52:30,250  INFO 993 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=hiZYIwQ5pnnLIupX, appid=wx9b5cb757426e00d9, sign=0E8EDB154436694ABD26862FE7BA6EA17A208963CD2993F489E1227BFA0B750D, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 13:52:30,250  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 response: {nonce_str=hiZYIwQ5pnnLIupX, appid=wx9b5cb757426e00d9, sign=0E8EDB154436694ABD26862FE7BA6EA17A208963CD2993F489E1227BFA0B750D, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 13:52:30,254  WARN 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R888 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 13:52:30,254  WARN 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 13:52:30,255 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 13:52:30,255 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), wx(String)
2019-07-19 13:52:30,258 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 13:52:30,259  INFO 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery
2019-07-19 13:52:30,259  INFO 993 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 13:52:30,259  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=wx,appId=101
2019-07-19 13:52:30,259  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 13:52:30,260 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 13:52:30,260 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 13:52:30,264 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 13:52:30,265 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 13:52:30,265 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 13:52:30,270 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 13:52:30,271  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 13:52:30,271 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 13:52:30,272 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), wx(String), 101(String)
2019-07-19 13:52:30,276 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 13:52:30,277  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=lite
2019-07-19 13:52:30,279  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 13:52:30,279  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 request: {out_trade_no=10110011562749752364269}
2019-07-19 13:52:30,539  INFO 993 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,bhZmGAaJzgQ8Jq6DDl2v7MMGVK8TscpU,1563515550,258,api.mch.weixin.qq.com,true,6000,8000,0,0,0,1E52C8A65177BBF82177B7EB944CC15A4C052CB2F0C5C667C743FFECBCED7791
2019-07-19 13:52:30,540  INFO 993 --- [pool-4-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,bhZmGAaJzgQ8Jq6DDl2v7MMGVK8TscpU,1563515550,258,api.mch.weixin.qq.com,true,6000,8000,0,0,0,1E52C8A65177BBF82177B7EB944CC15A4C052CB2F0C5C667C743FFECBCED7791
2019-07-19 13:52:30,540  INFO 993 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxc9d0a70977ecf5fe]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[4Y6bFjVlNziChmjf]]></nonce_str>
<sign><![CDATA[359BC8BBA409A5D067189C01E67D79784112D401781DA9889DB306649A551A54]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 13:52:30,540  INFO 993 --- [pool-4-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 13:52:30,542  INFO 993 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=4Y6bFjVlNziChmjf, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=359BC8BBA409A5D067189C01E67D79784112D401781DA9889DB306649A551A54, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 13:52:30,542  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 response: {nonce_str=4Y6bFjVlNziChmjf, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=359BC8BBA409A5D067189C01E67D79784112D401781DA9889DB306649A551A54, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 13:52:30,547  INFO 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery success
2019-07-19 13:52:30,548 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 13:52:30,548 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R885(String), wx(String)
2019-07-19 13:52:30,551 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 13:52:30,552  INFO 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery
2019-07-19 13:52:30,552  INFO 993 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 13:52:30,552  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R885,payType=wx,appId=101
2019-07-19 13:52:30,552  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R885
2019-07-19 13:52:30,552 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 13:52:30,553 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 13:52:30,556 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 13:52:30,558 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 13:52:30,559 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 13:52:30,564 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 13:52:30,565  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R885
2019-07-19 13:52:30,566 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 13:52:30,566 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R885(String), wx(String), 101(String)
2019-07-19 13:52:30,570 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 13:52:30,570  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R885,tradeType=pub
2019-07-19 13:52:30,572  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R885: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 13:52:30,572  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 request: {out_trade_no=10110011562749752364269R885}
2019-07-19 13:52:30,787  INFO 993 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,tBf0cKQeYAM4npOmP8Fzu5d1xTZRAHTo,1563515550,213,api.mch.weixin.qq.com,true,6000,8000,0,0,0,C73FB60BCAAAF1F67AEC91B7B8C95EA3E1C8D3BCBEAA0BA69DD1132784B2F0F6
2019-07-19 13:52:30,787  INFO 993 --- [pool-5-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,tBf0cKQeYAM4npOmP8Fzu5d1xTZRAHTo,1563515550,213,api.mch.weixin.qq.com,true,6000,8000,0,0,0,C73FB60BCAAAF1F67AEC91B7B8C95EA3E1C8D3BCBEAA0BA69DD1132784B2F0F6
2019-07-19 13:52:30,787  INFO 993 --- [pool-5-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 13:52:30,787  INFO 993 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[9XmZXbUXQWmDYzRm]]></nonce_str>
<sign><![CDATA[AC3E6D7E2C3CDD145645ED37ED72F29BA5A6410BD5B67CF65BED7D13C2B7B658]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269R885]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 13:52:30,789  INFO 993 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=9XmZXbUXQWmDYzRm, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=AC3E6D7E2C3CDD145645ED37ED72F29BA5A6410BD5B67CF65BED7D13C2B7B658, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 13:52:30,789  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 response: {nonce_str=9XmZXbUXQWmDYzRm, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=AC3E6D7E2C3CDD145645ED37ED72F29BA5A6410BD5B67CF65BED7D13C2B7B658, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 13:52:30,794  INFO 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery success
2019-07-19 13:52:30,794 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 13:52:30,795 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), alipay(String)
2019-07-19 13:52:30,798 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 13:52:30,798  INFO 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery
2019-07-19 13:52:30,798  INFO 993 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 13:52:30,800  INFO 993 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute payQuery payQuery-alipay-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 13:52:30,801  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=alipay,appId=101
2019-07-19 13:52:30,801  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 13:52:30,803 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 13:52:30,803 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 13:52:30,807 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 13:52:30,807 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 13:52:30,808 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 13:52:30,811 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 13:52:30,812  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 13:52:30,813 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 13:52:30,813 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), alipay(String), 101(String)
2019-07-19 13:52:30,816 DEBUG 993 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 13:52:30,817  INFO 993 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=qr
2019-07-19 13:52:30,817  INFO 993 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : payQuery=: orderNo=10110011562749752364269,payType=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 13:52:30,856  INFO 993 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"out_trade_no":"10110011562749752364269"},"response_class":"com.alipay.api.response.AlipayTradeQueryResponse","text_params":{},"api_method_name":"alipay.trade.query"}
2019-07-19 13:52:31,128 ERROR 993 --- [   scheduling-1] sdk.biz.err                              : ErrorScene^_^40004^_^ACQ.TRADE_NOT_EXIST^_^null^_^Mac OS X^_^2019-07-19 13:52:31^_^ProtocalMustParams:charset=UTF-8&method=alipay.trade.query&sign=Rb82g1j8XZYzpOnWZDG5AbRgnvYpTQG7yLHHpffGrcu1olyOw/cInyLbdBOThdXlmY9gs6bfmvUEnF1Ha0hkrQ/1O68rLNRm5homZirlOwNHZ2DvSIAicCzh8hvPbMJ8TBfN1k3yj4HqOwgogEvYDlXO7nczfF0iL+YOe5BLf/w=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 13:52:30^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"out_trade_no":"10110011562749752364269"}^_^Body:{"alipay_trade_query_response":{"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00"},"sign":"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw="}^_^20ms,224ms,26ms
2019-07-19 13:52:31,137  INFO 993 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 response: {"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","body":"{\"alipay_trade_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"ACQ.TRADE_NOT_EXIST\",\"sub_msg\":\"交易不存在\",\"buyer_pay_amount\":\"0.00\",\"invoice_amount\":\"0.00\",\"out_trade_no\":\"10110011562749752364269\",\"point_amount\":\"0.00\",\"receipt_amount\":\"0.00\"},\"sign\":\"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw=\"}","params":{"biz_content":"{\"out_trade_no\":\"10110011562749752364269\"}"},"buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00","success":false,"error_code":"40004"}
2019-07-19 13:52:31,143  WARN 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery exception: Business Failed # ACQ.TRADE_NOT_EXIST # 交易不存在
2019-07-19 13:52:31,143  INFO 993 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery finished...
2019-07-19 13:55:38,971  INFO 993 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-07-19 13:55:38,987  INFO 993 --- [nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2019-07-19 13:55:39,075  WARN 993 --- [nio-9999-exec-2] c.i.payment.common.WebExceptionHandler   : MissingServletRequestParameterException: Required String parameter 'appId' is not present
2019-07-19 13:55:39,121  WARN 993 --- [nio-9999-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter 'appId' is not present]
2019-07-19 13:55:57,087 DEBUG 993 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where bill_date = ? and pay_type=? and app_id=? 
2019-07-19 13:55:57,088 DEBUG 993 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190716(String), alipay(String), 101(String)
2019-07-19 13:55:57,093 DEBUG 993 --- [nio-9999-exec-3] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 1
2019-07-19 13:56:13,170  INFO 993 --- [      Thread-29] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-19 13:56:13,177  INFO 993 --- [      Thread-29] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-19 13:56:13,183  INFO 993 --- [      Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-4} closed
2019-07-19 14:10:35,487  INFO 1041 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Starting BillDownloadTimerTest on lishihaideMac-mini.local with PID 1041 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-19 14:10:35,490  INFO 1041 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : The following profiles are active: szdev
2019-07-19 14:10:38,086  INFO 1041 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$5a864f39] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 14:10:38,453  INFO 1041 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$7c97d5db] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 14:10:38,498  INFO 1041 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$86d43db6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 14:10:38,599  INFO 1041 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-19 14:10:38,858  INFO 1041 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-19 14:10:38,881  INFO 1041 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-19 14:10:38,900  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-19 14:10:38,904  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 14:10:38,905  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 14:10:38,905  INFO 1041 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 14:10:38,906  INFO 1041 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 14:10:38,907  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 14:10:38,907  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 14:10:38,908  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 14:10:38,909  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 14:10:38,910  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 14:10:38,910  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 14:10:38,911  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 14:10:38,911  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 14:10:38,911  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 14:10:38,912  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 14:10:38,912  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 14:10:38,913  INFO 1041 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 14:10:39,175  INFO 1041 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-19 14:10:40,461  INFO 1041 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-19 14:10:41,145  INFO 1041 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$e772b595
2019-07-19 14:10:41,162  INFO 1041 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$2d88350
2019-07-19 14:10:41,334  INFO 1041 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-19 14:10:41,334  INFO 1041 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-19 14:10:43,023  INFO 1041 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-19 14:10:44,081  INFO 1041 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-19 14:10:44,777  INFO 1041 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-19 14:10:45,721  INFO 1041 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Started BillDownloadTimerTest in 11.37 seconds (JVM running for 12.798)
2019-07-19 14:10:46,479 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:10:46,526 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-19 14:10:46,573 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 14:10:46,585  INFO 1041 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-19 14:10:46,586  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190709: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Tue Jul 09 00:00:00 CST 2019)
2019-07-19 14:10:46,587  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=101,appId=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 14:10:46,706  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190709 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-09","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-07-19 14:10:47,131  INFO 1041 --- [           main] sdk.biz.err                              : Summary^_^10000^_^null^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=ap2YEek/ycfCQYDQREM7dJkYZm+eykN0dKRCXpSqhCRXs4qjHVTsc10KVXeBsVZA3fC4n8a4sVZOFT0rdBB3mGInWnHz5fn/K88Jl0/rJBZJw61xs4gfdEWaeGWRWgOob8+0rOkqY6FsQX6gI45wciJ0Pvxzf5HABhwgv0FCMOU=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 14:10:46^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-09","bill_type":"trade"}^_^84ms,316ms,16ms
2019-07-19 14:10:47,134  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190709 response: {"code":"10000","msg":"Success","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"10000\",\"msg\":\"Success\",\"bill_download_url\":\"http:\\/\\/dwbillcenter.alipay.com\\/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190709&downloadFileName=20882218614866000156_20190709.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190709.csv.zip&timestamp=1563516647&token=941f9ee5505917ea1d6527a8b9ef8b89\"},\"sign\":\"F+6B2kJp4yxrx49WTecGmyfT6hmKgUi+5HUuC3twQuRlzYutZ5hYshbPJSw/zsZH0cKcuYFZAZ4jvLqF/yrpj735wdWoHui0pXVpwh/2tdBPkXUztanBYwpb/TZsIvsaKbh3HQQF3v3MUK4q8ckt+h8cYNukXsx55ewfCXb7VYQ=\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-09\",\"bill_type\":\"trade\"}"},"bill_download_url":"http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190709&downloadFileName=20882218614866000156_20190709.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190709.csv.zip&timestamp=1563516647&token=941f9ee5505917ea1d6527a8b9ef8b89","success":true,"error_code":"10000"}
2019-07-19 14:10:47,134  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : alipay 101-Tue Jul 09 00:00:00 CST 2019 download-url: http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190709&downloadFileName=20882218614866000156_20190709.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190709.csv.zip&timestamp=1563516647&token=941f9ee5505917ea1d6527a8b9ef8b89
2019-07-19 14:10:47,605  WARN 1041 --- [           main] o.a.h.c.protocol.ResponseProcessCookies  : Cookie rejected [zone="GZ00C", version:1, domain:.${session_domain}, path:/, expiry:null] Domain attribute ".${session_domain}" violates RFC 2109: domain must contain an embedded dot
2019-07-19 14:10:47,606  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file write to [alipay_101_2019-07-09.zip]
2019-07-19 14:10:47,609  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file [alipay_101_2019-07-09.zip] write success
2019-07-19 14:10:47,709 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 14:10:47,711 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : ==> Parameters: 10110011562641960364267(String), alipay(String), 101(String)
2019-07-19 14:10:47,716 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByOrderNo              : <==      Total: 0
2019-07-19 14:10:47,718 DEBUG 1041 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==>  Preparing: INSERT INTO pay_center3_bill_pay_log (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2019-07-19 14:10:47,741 DEBUG 1041 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : ==> Parameters: null, 101(String), alipay(String), 20190709(String), 10110011562641960364267(String), 2019070922001486611048342510(String), 5(Integer), 0(Integer), 2019-07-09 19:15:44.0(Timestamp), {"refund_amount":0.05,"支付宝交易号":"2019070922001486611048342510","商户订单号":"10110011562641960364267","业务类型":"交易","商品名称":"商品名称974","创建时间":"2019-07-09 11:15:43","完成时间":"2019-07-09 11:15:44","门店编号":"dev","对方账户":"*佳鸿(641***@qq.com)","订单金额（元）":0.05,"商家实收（元）":0.05,"退款批次号/请求号":"","服务费（元）":0.00,"备注":""}(String), 2019-07-19 14:10:47.708(Timestamp)
2019-07-19 14:10:47,748 DEBUG 1041 --- [           main] c.i.p.m.trade.dao.BillPayLogMapper.save  : <==    Updates: 1
2019-07-19 14:10:47,754 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:10:47,755 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-19 14:10:47,758 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-19 14:10:47,759 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-19 14:10:47,772 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190709(String), 1(Integer), 0(Integer), 5(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":58,"退款订单总笔数":24,"订单金额（元）":5107.15,"商家实收（元）":5107.15,"服务费（元）":-62.99,"实收净额（元）":5044.16}(String), null
2019-07-19 14:10:47,777 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-19 14:10:47,777 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:10:47,781 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-19 14:10:47,784 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 14:10:47,785 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-19 14:10:47,787 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190709(String), null, null
2019-07-19 14:10:47,791 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-19 14:10:47,822  INFO 1041 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-09T00:00:00.000] parse successful
2019-07-19 14:10:47,825 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 14:10:47,826 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), alipay(String)
2019-07-19 14:10:47,860 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 1
2019-07-19 14:10:47,862 DEBUG 1041 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 14:10:47,863 DEBUG 1041 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562641960364267(String), alipay(String)
2019-07-19 14:10:47,875 DEBUG 1041 --- [           main] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 14:10:47,877 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 14:10:47,879 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190709(String), alipay(String), 101(String)
2019-07-19 14:10:47,884 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 14:10:47,889 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-19 14:10:47,890 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190709(String)
2019-07-19 14:10:47,895 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-19 14:10:47,898 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:10:47,899 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-19 14:10:47,903 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-19 14:10:47,905 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-19 14:10:47,906 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190709(String), alipay(String), 20190709(String), 2019-07-19 14:10:47.904(Timestamp)
2019-07-19 14:10:47,911 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-19 14:10:47,912 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:10:47,913 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-19 14:10:47,917 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-19 14:10:47,921 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 14:10:47,922 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190709(String), alipay(String)
2019-07-19 14:10:47,931 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 1
2019-07-19 14:10:47,994 DEBUG 1041 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-19 14:10:47,999 DEBUG 1041 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-09 00:00:00.0(Timestamp), 2019-07-09 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 14:10:48,004 DEBUG 1041 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 14:10:48,015 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.saveBatch                  : ==>  Preparing: insert into pay_center3_bill_pay_log_cach (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2019-07-19 14:10:48,021 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.saveBatch                  : ==> Parameters: 2114(Integer), 101(String), alipay(String), 20190709(String), 10110011562641960364267(String), 2019070922001486611048342510(String), 5(Integer), 0(Integer), 2019-07-09 19:15:44.0(Timestamp), {"备注":"","业务类型":"交易","创建时间":"2019-07-09 11:15:43","商品名称":"商品名称974","完成时间":"2019-07-09 11:15:44","对方账户":"*佳鸿(641***@qq.com)","门店编号":"dev","refund_amount":0.05,"商户订单号":"10110011562641960364267","支付宝交易号":"2019070922001486611048342510","服务费（元）":0,"商家实收（元）":0.05,"订单金额（元）":0.05,"退款批次号/请求号":""}(String), 2019-07-19 14:10:48.0(Timestamp)
2019-07-19 14:10:48,292  WARN 1041 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-09T00:00:00.000] compare exception: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '10110011562641960364267-101-alipay' for key 'idx_oNo_aId_pType'
### The error may involve com.intbee.payment.modules.trade.dao.BillPayLogCachMapper.saveBatch-Inline
### The error occurred while setting parameters
### SQL: insert into pay_center3_bill_pay_log_cach      (`id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time`)      values                (        ?,         ?,         ?,         ?,         ?,         ?,        ?,         ?,         ?,         ?,         ?         )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '10110011562641960364267-101-alipay' for key 'idx_oNo_aId_pType'
; Duplicate entry '10110011562641960364267-101-alipay' for key 'idx_oNo_aId_pType'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '10110011562641960364267-101-alipay' for key 'idx_oNo_aId_pType'
2019-07-19 14:10:48,295 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:10:48,296 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190710(String)
2019-07-19 14:10:48,299 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 14:10:48,300  INFO 1041 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Wed Jul 10 00:00:00 CST 2019)
2019-07-19 14:10:48,300  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190710: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Wed Jul 10 00:00:00 CST 2019)
2019-07-19 14:10:48,301  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=101,appId=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 14:10:48,301  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190710 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-10","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-07-19 14:10:48,433  INFO 1041 --- [           main] sdk.biz.err                              : Summary^_^10000^_^null^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=iD1yo+tzPXzm9fniTuI5J5Snc+h6O9uAsw7eGMFroNiZ/Cx/1jKeXYGD5QeqGnw2k+4geZXsWERx75/q3Bqk7+DLigDzEJaGFXCxMCZloc20aWU83bm/YyPp/YVibyBTxEYWOgmgB030BdGWAbHjeaOx0KdpMI70/L37c95yKZA=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 14:10:48^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-10","bill_type":"trade"}^_^7ms,123ms,1ms
2019-07-19 14:10:48,433  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190710 response: {"code":"10000","msg":"Success","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"10000\",\"msg\":\"Success\",\"bill_download_url\":\"http:\\/\\/dwbillcenter.alipay.com\\/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190710&downloadFileName=20882218614866000156_20190710.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190710.csv.zip&timestamp=1563516648&token=1542c29961e7bee5666011cce173af54\"},\"sign\":\"BthplalpFCDwiJE+HK+cXZYjoaD+NRJprENvzlhvRnWUBcJQ6Mc+j+V/vBZPfRf6srYvmcrZ5zpsXO4GuEZjEeapUWPqtiOqGwVSQl+quY/IbxJRu6j+zzrkjsu4Vu7l1ahCz8n/YqIUpU9XBBmjoPsetuzE1c024cpfzhvWnj0=\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-10\",\"bill_type\":\"trade\"}"},"bill_download_url":"http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190710&downloadFileName=20882218614866000156_20190710.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190710.csv.zip&timestamp=1563516648&token=1542c29961e7bee5666011cce173af54","success":true,"error_code":"10000"}
2019-07-19 14:10:48,433  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : alipay 101-Wed Jul 10 00:00:00 CST 2019 download-url: http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190710&downloadFileName=20882218614866000156_20190710.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190710.csv.zip&timestamp=1563516648&token=1542c29961e7bee5666011cce173af54
2019-07-19 14:10:48,579  WARN 1041 --- [           main] o.a.h.c.protocol.ResponseProcessCookies  : Cookie rejected [zone="GZ00C", version:1, domain:.${session_domain}, path:/, expiry:null] Domain attribute ".${session_domain}" violates RFC 2109: domain must contain an embedded dot
2019-07-19 14:10:48,581  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file write to [alipay_101_2019-07-10.zip]
2019-07-19 14:10:48,582  INFO 1041 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file [alipay_101_2019-07-10.zip] write success
2019-07-19 14:10:48,586 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:10:48,587 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190710(String)
2019-07-19 14:10:48,590 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-19 14:10:48,591 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-19 14:10:48,592 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190710(String), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":10,"退款订单总笔数":1,"订单金额（元）":2763.08,"商家实收（元）":2763.08,"服务费（元）":-19.00,"实收净额（元）":2744.08}(String), null
2019-07-19 14:10:48,600 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-19 14:10:48,601 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:10:48,602 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190710(String)
2019-07-19 14:10:48,609 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 14:10:48,611 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-19 14:10:48,611 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190710(String), null, null
2019-07-19 14:10:48,616 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-19 14:10:48,646  INFO 1041 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-10T00:00:00.000] parse successful
2019-07-19 14:10:48,647 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 14:10:48,647 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190710(String), alipay(String)
2019-07-19 14:10:48,651 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 14:10:48,653 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 14:10:48,653 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190710(String), alipay(String), 101(String)
2019-07-19 14:10:48,656 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 14:10:48,659 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-19 14:10:48,659 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190710(String)
2019-07-19 14:10:48,664 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-19 14:10:48,666 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:10:48,666 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190710(String)
2019-07-19 14:10:48,670 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-19 14:10:48,670 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-19 14:10:48,671 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190710(String), alipay(String), 20190710(String), 2019-07-19 14:10:48.67(Timestamp)
2019-07-19 14:10:48,674 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-19 14:10:48,676 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:10:48,676 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190710(String)
2019-07-19 14:10:48,679 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-19 14:10:48,680 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 14:10:48,681 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190710(String), alipay(String)
2019-07-19 14:10:48,684 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 14:10:48,685 DEBUG 1041 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-19 14:10:48,686 DEBUG 1041 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-10 00:00:00.0(Timestamp), 2019-07-10 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 14:10:48,690 DEBUG 1041 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 1
2019-07-19 14:10:48,690 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 14:10:48,691 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190710(String), alipay(String), 101(String)
2019-07-19 14:10:48,694 DEBUG 1041 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 14:10:48,695 DEBUG 1041 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-19 14:10:48,696 DEBUG 1041 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-10 00:00:00.0(Timestamp), 2019-07-10 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 14:10:48,698 DEBUG 1041 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 14:10:48,699  INFO 1041 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: alipay, date: 2019-07-10T00:00:00.000 - result paysCount: 0, refundsCount: 0
2019-07-19 14:10:48,729  INFO 1041 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-10T00:00:00.000] createCompareBatch successful
2019-07-19 14:10:48,731 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:10:48,732 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190712(String)
2019-07-19 14:10:48,734 DEBUG 1041 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-19 14:10:48,739  WARN 1041 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-12T00:00:00.000] parse exception: 账单[20190712]已解析
2019-07-19 14:10:48,743 ERROR 1041 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190712]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$5bb4f5c8.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimerTest.parseAndCompareAlipay(BillDownloadTimerTest.java:64)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-19 14:10:48,757  INFO 1041 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-19 14:10:48,758  INFO 1041 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-19 14:10:48,776  INFO 1041 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-19 14:11:08,392  INFO 1043 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Starting BillDownloadTimerTest on lishihaideMac-mini.local with PID 1043 (started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-19 14:11:08,400  INFO 1043 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : The following profiles are active: szdev
2019-07-19 14:11:10,959  INFO 1043 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$5fb857ac] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 14:11:11,299  INFO 1043 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$81c9de4e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 14:11:11,340  INFO 1043 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8c064629] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 14:11:11,437  INFO 1043 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-19 14:11:11,691  INFO 1043 --- [           main] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-19 14:11:11,709  INFO 1043 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-19 14:11:11,729  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-19 14:11:11,732  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 14:11:11,732  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 14:11:11,733  INFO 1043 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 14:11:11,734  INFO 1043 --- [           main] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 14:11:11,735  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 14:11:11,735  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 14:11:11,736  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 14:11:11,737  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 14:11:11,738  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 14:11:11,739  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 14:11:11,740  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 14:11:11,741  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 14:11:11,742  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 14:11:11,743  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 14:11:11,744  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 14:11:11,744  INFO 1043 --- [           main] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 14:11:12,002  INFO 1043 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-19 14:11:13,162  INFO 1043 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-19 14:11:13,826  INFO 1043 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$d2b1bbf3
2019-07-19 14:11:13,841  INFO 1043 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$ee1789ae
2019-07-19 14:11:14,013  INFO 1043 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-19 14:11:14,013  INFO 1043 --- [           main] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-19 14:11:15,569  INFO 1043 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-19 14:11:16,612  INFO 1043 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-19 14:11:17,280  INFO 1043 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-19 14:11:18,217  INFO 1043 --- [           main] c.i.payment.timer.BillDownloadTimerTest  : Started BillDownloadTimerTest in 10.687 seconds (JVM running for 12.136)
2019-07-19 14:11:18,932 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:11:18,997 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190709(String)
2019-07-19 14:11:19,055 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-19 14:11:19,067  WARN 1043 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-09T00:00:00.000] parse exception: 账单[20190709]已解析
2019-07-19 14:11:19,072 ERROR 1043 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190709]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$46f3fc26.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimerTest.parseAndCompareAlipay(BillDownloadTimerTest.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-19 14:11:19,076 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:11:19,076 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190710(String)
2019-07-19 14:11:19,082 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-19 14:11:19,093  WARN 1043 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-10T00:00:00.000] parse exception: 账单[20190710]已解析
2019-07-19 14:11:19,094 ERROR 1043 --- [           main] c.i.payment.timer.BillDownloadTimer      : parseAndCompare
java.lang.IllegalStateException: 账单[20190710]已解析
	at org.springframework.util.Assert.state(Assert.java:73)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy.parse(BillServiceProxy.java:89)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$FastClassBySpringCGLIB$$ccc7c08e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.intbee.payment.modules.trade.service.impl.BillServiceProxy$$EnhancerBySpringCGLIB$$46f3fc26.parse(<generated>)
	at com.intbee.payment.timer.BillDownloadTimer.parseAndCompare(BillDownloadTimer.java:93)
	at com.intbee.payment.timer.BillDownloadTimerTest.parseAndCompareAlipay(BillDownloadTimerTest.java:62)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
2019-07-19 14:11:19,097 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:11:19,098 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-19 14:11:19,101 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 14:11:19,115  INFO 1043 --- [           main] c.i.p.m.t.s.impl.PaymentServiceProxy     : request downloadBill: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Thu Jul 11 00:00:00 CST 2019)
2019-07-19 14:11:19,116  INFO 1043 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute downloadBill downloadBill-20190711: DownloadBillRequestVO(appId=101, payType=alipay, billDate=Thu Jul 11 00:00:00 CST 2019)
2019-07-19 14:11:19,117  INFO 1043 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : getDownloadBillUrl=: orderNo=101,appId=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 14:11:19,178  INFO 1043 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190711 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"bill_date":"2019-07-11","bill_type":"trade"},"api_method_name":"alipay.data.dataservice.bill.downloadurl.query","text_params":{},"response_class":"com.alipay.api.response.AlipayDataDataserviceBillDownloadurlQueryResponse"}
2019-07-19 14:11:19,450  INFO 1043 --- [           main] sdk.biz.err                              : Summary^_^10000^_^null^_^ProtocalMustParams:charset=UTF-8&method=alipay.data.dataservice.bill.downloadurl.query&sign=LPAiwcnEXv/mKx30nV7ubWUJ9kpVrUXOzmbyZMoNEndN+jVM1LhvEfJV4Pv+1XuNyU0VBc0QlUTr91GNdk/M9WFPAwLhzqlP7Q2CkRjxJ03zWSF9afycHarCwX2RwYXh0N/EswwQkmftcfA6vJmfGRi3kENAhGjepk/Qr1HnRnE=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 14:11:19^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"bill_date":"2019-07-11","bill_type":"trade"}^_^28ms,225ms,16ms
2019-07-19 14:11:19,453  INFO 1043 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id downloadBill-20190711 response: {"code":"10000","msg":"Success","body":"{\"alipay_data_dataservice_bill_downloadurl_query_response\":{\"code\":\"10000\",\"msg\":\"Success\",\"bill_download_url\":\"http:\\/\\/dwbillcenter.alipay.com\\/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190711&downloadFileName=20882218614866000156_20190711.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190711.csv.zip&timestamp=1563516679&token=620b54eed77299ec3a0690fe6e99f9f4\"},\"sign\":\"SEh9qSDRFM94TV8NajWvA3enP4uN9/2F0k9De/Db0rgxe2fZdYZ7Osb59K23pkTL6YYc6Dn9H+dlWSod8elwsw/u3hFlnBh9d57kD4aBwbH2lfbeDVtwcBfjttNAT4LjmJDJ3j5TrDAdeOs9q8MlK82Jqrutn5w8m6ZUZJZpM9c=\"}","params":{"biz_content":"{\"bill_date\":\"2019-07-11\",\"bill_type\":\"trade\"}"},"bill_download_url":"http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190711&downloadFileName=20882218614866000156_20190711.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190711.csv.zip&timestamp=1563516679&token=620b54eed77299ec3a0690fe6e99f9f4","success":true,"error_code":"10000"}
2019-07-19 14:11:19,453  INFO 1043 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : alipay 101-Thu Jul 11 00:00:00 CST 2019 download-url: http://dwbillcenter.alipay.com/downloadBillFile.resource?bizType=trade&userId=20882218614866000156&fileType=csv.zip&bizDates=20190711&downloadFileName=20882218614866000156_20190711.csv.zip&fileId=%2Ftrade%2F20882218614866000156%2F20190711.csv.zip&timestamp=1563516679&token=620b54eed77299ec3a0690fe6e99f9f4
2019-07-19 14:11:19,845  WARN 1043 --- [           main] o.a.h.c.protocol.ResponseProcessCookies  : Cookie rejected [zone="GZ00C", version:1, domain:.${session_domain}, path:/, expiry:null] Domain attribute ".${session_domain}" violates RFC 2109: domain must contain an embedded dot
2019-07-19 14:11:19,850  INFO 1043 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file write to [alipay_101_2019-07-11.zip]
2019-07-19 14:11:19,853  INFO 1043 --- [           main] c.i.p.m.t.s.impl.AlipayServiceImpl       : bill file [alipay_101_2019-07-11.zip] write success
2019-07-19 14:11:19,937 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:11:19,938 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-19 14:11:19,944 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 0
2019-07-19 14:11:19,946 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_count_log (`id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, `income`, ?, ?) 
2019-07-19 14:11:19,962 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190711(String), 0(Integer), 0(Integer), 0(Integer), 0(Integer), 0(Integer), {"门店编号":"合计","交易订单总笔数":7,"退款订单总笔数":3,"订单金额（元）":283.05,"商家实收（元）":283.05,"服务费（元）":-9.12,"实收净额（元）":273.93}(String), null
2019-07-19 14:11:19,970 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.save    : <==    Updates: 1
2019-07-19 14:11:19,974 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:11:19,975 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-19 14:11:19,982 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 0
2019-07-19 14:11:19,983 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==>  Preparing: INSERT INTO pay_center3_bill_parse_log (id, app_id, pay_type, bill_date, create_time, remark) VALUES (?, ?, ?, ?, ?, ?) 
2019-07-19 14:11:19,985 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : ==> Parameters: null, 101(String), alipay(String), 20190711(String), null, null
2019-07-19 14:11:19,990 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.save    : <==    Updates: 1
2019-07-19 14:11:20,025  INFO 1043 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-11T00:00:00.000] parse successful
2019-07-19 14:11:20,027 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 14:11:20,027 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190711(String), alipay(String)
2019-07-19 14:11:20,031 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 14:11:20,032 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 14:11:20,033 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190711(String), alipay(String), 101(String)
2019-07-19 14:11:20,036 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 14:11:20,039 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch where app_id=? and name = ? 
2019-07-19 14:11:20,040 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : ==> Parameters: 101(String), alipay20190711(String)
2019-07-19 14:11:20,043 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByappIdAndName         : <==      Total: 0
2019-07-19 14:11:20,044 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==>  Preparing: select id, app_id, pay_type, bill_date, create_time, remark from pay_center3_bill_parse_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:11:20,044 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-19 14:11:20,048 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillParseLogMapper.find    : <==      Total: 1
2019-07-19 14:11:20,049 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.create                     : ==>  Preparing: INSERT INTO pay_center3_bill_compare_batch (`id`, `app_id`,`name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`) VALUES (?, ?, ?, ?, ?, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ?) 
2019-07-19 14:11:20,050 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.create                     : ==> Parameters: null, 101(String), alipay20190711(String), alipay(String), 20190711(String), 2019-07-19 14:11:20.048(Timestamp)
2019-07-19 14:11:20,054 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.create                     : <==    Updates: 1
2019-07-19 14:11:20,056 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `pay_count`, `refund_count`, `pay_total_amount`, `refund_total_amount`, `service_charge`, `income`, `details`, `create_time` from pay_center3_bill_count_log where app_id = ? and pay_type = ? and bill_date = ? 
2019-07-19 14:11:20,056 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : ==> Parameters: 101(String), alipay(String), 20190711(String)
2019-07-19 14:11:20,085 DEBUG 1043 --- [           main] c.i.p.m.t.dao.BillCountLogMapper.find    : <==      Total: 1
2019-07-19 14:11:20,089 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `trade_no`, `pay_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_pay_log where app_id = ? and bill_date = ? and pay_type = ? 
2019-07-19 14:11:20,089 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 101(String), 20190711(String), alipay(String)
2019-07-19 14:11:20,093 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 14:11:20,128 DEBUG 1043 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==>  Preparing: select pay.id, pay.app_id, pay.pay_type, pay.channel, pay.order_no, pay.amount, pay.subject, pay.sign_type, pay.client_ip, pay.extra, pay.create_time from pay_center3_pay_request AS pay INNER JOIN pay_center3_pay_notify AS notify ON pay.order_no=notify.order_no AND pay.pay_type=notify.pay_type AND pay.app_id=notify.app_id where pay.create_time between ? and ? and pay.pay_type=? and pay.app_id=? 
2019-07-19 14:11:20,129 DEBUG 1043 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-11 00:00:00.0(Timestamp), 2019-07-11 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 14:11:20,133 DEBUG 1043 --- [           main] p.m.t.d.P.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 14:11:20,135 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==>  Preparing: select `id`, `app_id`, `pay_type`, `bill_date`, `order_no`, `refund_no`, `trade_no`, `refund_amount`, `service_charge`, `trade_time`, `details`, `create_time` from pay_center3_bill_refund_log where bill_date = ? and pay_type = ? and app_id = ? 
2019-07-19 14:11:20,137 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : ==> Parameters: 20190711(String), alipay(String), 101(String)
2019-07-19 14:11:20,141 DEBUG 1043 --- [           main] c.i.p.m.t.d.B.findByBillDate             : <==      Total: 0
2019-07-19 14:11:20,144 DEBUG 1043 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==>  Preparing: select refund.id, refund.app_id, refund.pay_type, refund.order_no, refund.refund_no, refund.total_amount, refund.refund_amount, refund.client_ip, refund.extra, refund.create_time from pay_center3_refund_request AS refund INNER JOIN pay_center3_refund_notify AS notify ON refund.order_no=notify.order_no AND refund.pay_type=notify.pay_type AND refund.app_id=notify.app_id where refund.create_time between ? and ? and refund.pay_type=? and refund.app_id=? 
2019-07-19 14:11:20,145 DEBUG 1043 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : ==> Parameters: 2019-07-11 00:00:00.0(Timestamp), 2019-07-11 23:59:59.999(Timestamp), alipay(String), 101(String)
2019-07-19 14:11:20,148 DEBUG 1043 --- [           main] p.m.t.d.R.findBetweenDateInnerJoinNotify : <==      Total: 0
2019-07-19 14:11:20,149  INFO 1043 --- [           main] c.i.p.m.t.service.impl.BaseBillService   : dayCompare appId: 101, payType: alipay, date: 2019-07-11T00:00:00.000 - result paysCount: 0, refundsCount: 0
2019-07-19 14:11:20,183  INFO 1043 --- [           main] c.i.payment.timer.BillDownloadTimer      : alipay-bill [appId: 101, date:2019-07-11T00:00:00.000] createCompareBatch successful
2019-07-19 14:11:20,196  INFO 1043 --- [       Thread-5] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-19 14:11:20,198  INFO 1043 --- [       Thread-5] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-19 14:11:20,214  INFO 1043 --- [       Thread-5] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-19 15:27:13,886  INFO 2069 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 2069 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-19 15:27:13,894  INFO 2069 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-19 15:27:14,091  INFO 2069 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-07-19 15:27:14,092  INFO 2069 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-07-19 15:27:16,865  INFO 2069 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$c1561af6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 15:27:17,057  INFO 2069 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$e367a198] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 15:27:17,145  INFO 2069 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$eda40973] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 15:27:17,225  INFO 2069 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-19 15:27:17,892  INFO 2069 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-19 15:27:18,285  INFO 2069 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4193 ms
2019-07-19 15:27:18,947  INFO 2069 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-19 15:27:20,024  INFO 2069 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-19 15:27:20,547  INFO 2069 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-19 15:27:20,570  INFO 2069 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-19 15:27:20,579  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-19 15:27:20,583  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 15:27:20,583  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 15:27:20,584  INFO 2069 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 15:27:20,584  INFO 2069 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 15:27:20,585  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 15:27:20,586  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 15:27:20,586  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 15:27:20,587  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 15:27:20,588  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 15:27:20,588  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 15:27:20,588  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 15:27:20,589  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 15:27:20,589  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 15:27:20,590  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 15:27:20,590  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 15:27:20,591  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 15:27:21,490  INFO 2069 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$b0ba14f2
2019-07-19 15:27:21,504  INFO 2069 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$cc1fe2ad
2019-07-19 15:27:21,637  INFO 2069 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-19 15:27:21,637  INFO 2069 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-19 15:27:22,456  INFO 2069 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-19 15:27:22,885  INFO 2069 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-19 15:27:22,919  INFO 2069 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-19 15:27:23,355  INFO 2069 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-19 15:27:24,557  INFO 2069 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-19 15:27:24,565  INFO 2069 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 11.921 seconds (JVM running for 12.475)
2019-07-19 15:28:24,035  INFO 2069 --- [nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-07-19 15:28:24,057  INFO 2069 --- [nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 22 ms
2019-07-19 15:28:24,231  INFO 2069 --- [nio-9999-exec-3] c.i.p.m.trade.controller.BillController  : compareBatchList: request={batchName=null, payType=null, offset=0, appId=501, limit=5, billStatus=null, billDate=null}
2019-07-19 15:28:24,478 DEBUG 2069 --- [nio-9999-exec-3] c.i.p.m.t.d.B.compareBatchList           : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch WHERE app_id = ? ORDER BY bill_date DESC,create_time DESC limit ?,? 
2019-07-19 15:28:24,561 DEBUG 2069 --- [nio-9999-exec-3] c.i.p.m.t.d.B.compareBatchList           : ==> Parameters: 501(String), 0(Integer), 5(Integer)
2019-07-19 15:28:24,649 DEBUG 2069 --- [nio-9999-exec-3] c.i.p.m.t.d.B.compareBatchList           : <==      Total: 5
2019-07-19 15:28:24,653 DEBUG 2069 --- [nio-9999-exec-3] c.i.p.m.t.d.B.compareBatchCount          : ==>  Preparing: select count(1) from pay_center3_bill_compare_batch WHERE app_id = ? 
2019-07-19 15:28:24,654 DEBUG 2069 --- [nio-9999-exec-3] c.i.p.m.t.d.B.compareBatchCount          : ==> Parameters: 501(String)
2019-07-19 15:28:24,657 DEBUG 2069 --- [nio-9999-exec-3] c.i.p.m.t.d.B.compareBatchCount          : <==      Total: 1
2019-07-19 15:28:43,563  INFO 2069 --- [nio-9999-exec-4] c.i.p.m.trade.controller.BillController  : compareBatchList: request={batchName=null, payType=null, offset=0, appId=101, limit=5, billStatus=null, billDate=null}
2019-07-19 15:28:43,565 DEBUG 2069 --- [nio-9999-exec-4] c.i.p.m.t.d.B.compareBatchList           : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch WHERE app_id = ? ORDER BY bill_date DESC,create_time DESC limit ?,? 
2019-07-19 15:28:43,566 DEBUG 2069 --- [nio-9999-exec-4] c.i.p.m.t.d.B.compareBatchList           : ==> Parameters: 101(String), 0(Integer), 5(Integer)
2019-07-19 15:28:43,576 DEBUG 2069 --- [nio-9999-exec-4] c.i.p.m.t.d.B.compareBatchList           : <==      Total: 5
2019-07-19 15:28:43,577 DEBUG 2069 --- [nio-9999-exec-4] c.i.p.m.t.d.B.compareBatchCount          : ==>  Preparing: select count(1) from pay_center3_bill_compare_batch WHERE app_id = ? 
2019-07-19 15:28:43,578 DEBUG 2069 --- [nio-9999-exec-4] c.i.p.m.t.d.B.compareBatchCount          : ==> Parameters: 101(String)
2019-07-19 15:28:43,582 DEBUG 2069 --- [nio-9999-exec-4] c.i.p.m.t.d.B.compareBatchCount          : <==      Total: 1
2019-07-19 15:29:31,191  INFO 2069 --- [nio-9999-exec-5] c.i.p.m.trade.controller.BillController  : compareBatchList: request={batchName=null, payType=null, offset=0, appId=101, limit=30, billStatus=null, billDate=null}
2019-07-19 15:29:31,193 DEBUG 2069 --- [nio-9999-exec-5] c.i.p.m.t.d.B.compareBatchList           : ==>  Preparing: select `id`,`app_id`, `name`, `pay_type`, `bill_date`, `mistake_count`, `unhandle_mistake_count`, `bill_pay_count`, `request_pay_count`, `bill_refund_count`, `request_refund_count`, `bill_pay_amount`, `request_pay_amount`, `bill_refund_amount`, `request_refund_amount`, `pay_service_charge`, `refund_service_charge`, `create_time`, `update_time` from pay_center3_bill_compare_batch WHERE app_id = ? ORDER BY bill_date DESC,create_time DESC limit ?,? 
2019-07-19 15:29:31,194 DEBUG 2069 --- [nio-9999-exec-5] c.i.p.m.t.d.B.compareBatchList           : ==> Parameters: 101(String), 0(Integer), 30(Integer)
2019-07-19 15:29:31,234 DEBUG 2069 --- [nio-9999-exec-5] c.i.p.m.t.d.B.compareBatchList           : <==      Total: 30
2019-07-19 15:29:31,235 DEBUG 2069 --- [nio-9999-exec-5] c.i.p.m.t.d.B.compareBatchCount          : ==>  Preparing: select count(1) from pay_center3_bill_compare_batch WHERE app_id = ? 
2019-07-19 15:29:31,236 DEBUG 2069 --- [nio-9999-exec-5] c.i.p.m.t.d.B.compareBatchCount          : ==> Parameters: 101(String)
2019-07-19 15:29:31,240 DEBUG 2069 --- [nio-9999-exec-5] c.i.p.m.t.d.B.compareBatchCount          : <==      Total: 1
2019-07-19 15:32:24,499  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery start...
2019-07-19 15:32:24,550 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==>  Preparing: select pr.id, pr.app_id, pr.pay_type, pr.channel, pr.order_no, pr.amount, pr.subject, pr.sign_type, pr.client_ip, pr.extra, pr.create_time from pay_center3_pay_request pr left join pay_center3_pay_query_result pqr on pr.pay_type = pqr.pay_type and pr.order_no = pqr.order_no where pqr.app_id is null and pr.create_time between ? and ? 
2019-07-19 15:32:24,552 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==> Parameters: 2019-07-17 15:32:24.501(Timestamp), 2019-07-19 15:32:24.501(Timestamp)
2019-07-19 15:32:24,566 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : <==      Total: 5
2019-07-19 15:32:24,571 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 15:32:24,572 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R281(String), wx(String)
2019-07-19 15:32:24,576 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 15:32:24,577  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery
2019-07-19 15:32:24,594  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 15:32:24,595  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R281,payType=wx,appId=101
2019-07-19 15:32:24,595  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R281
2019-07-19 15:32:24,596 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:32:24,597 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 15:32:24,602 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:32:24,603 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:32:24,604 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 15:32:24,610 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:32:24,611  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R281
2019-07-19 15:32:24,612 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 15:32:24,616 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R281(String), wx(String), 101(String)
2019-07-19 15:32:24,625 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 15:32:24,627  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R281,tradeType=app
2019-07-19 15:32:24,652  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R281: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 15:32:24,653  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 request: {out_trade_no=10110011562749752364269R281}
2019-07-19 15:32:25,265  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report worker num: 6
2019-07-19 15:32:25,267  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,qqTja3jCrF81Wfm5BMmxqRhvIOOgWX1r,1563521545,552,api.mch.weixin.qq.com,true,6000,8000,0,0,0,782BD4B82DF321EA16D4441B0F03270837C65ABC14CC3FC125AB7ED0E853D448
2019-07-19 15:32:25,268  INFO 2069 --- [pool-2-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,qqTja3jCrF81Wfm5BMmxqRhvIOOgWX1r,1563521545,552,api.mch.weixin.qq.com,true,6000,8000,0,0,0,782BD4B82DF321EA16D4441B0F03270837C65ABC14CC3FC125AB7ED0E853D448
2019-07-19 15:32:25,268  INFO 2069 --- [pool-2-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 15:32:25,269  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[WjUxYTgrk5JZkFQj]]></nonce_str>
<sign><![CDATA[7DE3F9AAB9B4E032964C62E239ED8794309714444FC242EB4DAE8D43649B3BCA]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 15:32:25,272  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=WjUxYTgrk5JZkFQj, appid=wx9b5cb757426e00d9, sign=7DE3F9AAB9B4E032964C62E239ED8794309714444FC242EB4DAE8D43649B3BCA, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:32:25,273  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 response: {nonce_str=WjUxYTgrk5JZkFQj, appid=wx9b5cb757426e00d9, sign=7DE3F9AAB9B4E032964C62E239ED8794309714444FC242EB4DAE8D43649B3BCA, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:32:25,279  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R281 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 15:32:25,280  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 15:32:25,281 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 15:32:25,281 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R888(String), wx(String)
2019-07-19 15:32:25,286 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 15:32:25,286  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery
2019-07-19 15:32:25,287  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 15:32:25,287  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R888,payType=wx,appId=101
2019-07-19 15:32:25,287  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R888
2019-07-19 15:32:25,287 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:32:25,288 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 15:32:25,293 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:32:25,293 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:32:25,294 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 15:32:25,299 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:32:25,300  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R888
2019-07-19 15:32:25,300 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 15:32:25,301 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R888(String), wx(String), 101(String)
2019-07-19 15:32:25,305 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 15:32:25,306  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R888,tradeType=wap
2019-07-19 15:32:25,309  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R888: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 15:32:25,309  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 request: {out_trade_no=10110011562749752364269R888}
2019-07-19 15:32:25,537  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,NxKfnh2tBRjMPpkzNSMhIuqwfWq0zFzX,1563521545,225,api.mch.weixin.qq.com,true,6000,8000,0,0,0,5CC1CC3DC130B70628A38448E34A406DAD06703171DC1594CAF27A1A336CC662
2019-07-19 15:32:25,537  INFO 2069 --- [pool-3-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,NxKfnh2tBRjMPpkzNSMhIuqwfWq0zFzX,1563521545,225,api.mch.weixin.qq.com,true,6000,8000,0,0,0,5CC1CC3DC130B70628A38448E34A406DAD06703171DC1594CAF27A1A336CC662
2019-07-19 15:32:25,537  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[FjWUAMGBRPVuEpix]]></nonce_str>
<sign><![CDATA[F6EEAFA1058A305319FE7CA347278D2F851FD3150DA289BFEAE09D27C2F951CB]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 15:32:25,537  INFO 2069 --- [pool-3-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 15:32:25,539  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=FjWUAMGBRPVuEpix, appid=wx9b5cb757426e00d9, sign=F6EEAFA1058A305319FE7CA347278D2F851FD3150DA289BFEAE09D27C2F951CB, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:32:25,540  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 response: {nonce_str=FjWUAMGBRPVuEpix, appid=wx9b5cb757426e00d9, sign=F6EEAFA1058A305319FE7CA347278D2F851FD3150DA289BFEAE09D27C2F951CB, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:32:25,544  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R888 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 15:32:25,544  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 15:32:25,545 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 15:32:25,546 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), wx(String)
2019-07-19 15:32:25,550 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 15:32:25,552  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery
2019-07-19 15:32:25,552  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 15:32:25,552  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=wx,appId=101
2019-07-19 15:32:25,552  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 15:32:25,553 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:32:25,553 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 15:32:25,557 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:32:25,557 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:32:25,558 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 15:32:25,562 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:32:25,562  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 15:32:25,563 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 15:32:25,563 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), wx(String), 101(String)
2019-07-19 15:32:25,567 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 15:32:25,568  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=lite
2019-07-19 15:32:25,570  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 15:32:25,570  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 request: {out_trade_no=10110011562749752364269}
2019-07-19 15:32:25,747  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,uenBADIsp7KGyXwSXQaExlCoTB9cMWIj,1563521545,174,api.mch.weixin.qq.com,true,6000,8000,0,0,0,93FF4DDBA28A472E1C22A194140BD0D93172A8F4BDCCE1D8F37BAAD9171037F9
2019-07-19 15:32:25,747  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxc9d0a70977ecf5fe]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[fnGAed2ZfwuLZ9Gz]]></nonce_str>
<sign><![CDATA[66F3E3E7EF2800A14923C79811E78876B7CFF367B8F8AB1B3FE2ED8A374B6BD4]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 15:32:25,747  INFO 2069 --- [pool-4-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,uenBADIsp7KGyXwSXQaExlCoTB9cMWIj,1563521545,174,api.mch.weixin.qq.com,true,6000,8000,0,0,0,93FF4DDBA28A472E1C22A194140BD0D93172A8F4BDCCE1D8F37BAAD9171037F9
2019-07-19 15:32:25,747  INFO 2069 --- [pool-4-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 15:32:25,749  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=fnGAed2ZfwuLZ9Gz, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=66F3E3E7EF2800A14923C79811E78876B7CFF367B8F8AB1B3FE2ED8A374B6BD4, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:32:25,750  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 response: {nonce_str=fnGAed2ZfwuLZ9Gz, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=66F3E3E7EF2800A14923C79811E78876B7CFF367B8F8AB1B3FE2ED8A374B6BD4, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:32:25,756  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery success
2019-07-19 15:32:25,756 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 15:32:25,756 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R885(String), wx(String)
2019-07-19 15:32:25,759 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 15:32:25,760  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery
2019-07-19 15:32:25,761  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 15:32:25,761  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R885,payType=wx,appId=101
2019-07-19 15:32:25,761  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R885
2019-07-19 15:32:25,762 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:32:25,762 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 15:32:25,768 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:32:25,769 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:32:25,769 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 15:32:25,774 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:32:25,774  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R885
2019-07-19 15:32:25,774 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 15:32:25,775 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R885(String), wx(String), 101(String)
2019-07-19 15:32:25,778 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 15:32:25,780  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R885,tradeType=pub
2019-07-19 15:32:25,783  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R885: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 15:32:25,784  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 request: {out_trade_no=10110011562749752364269R885}
2019-07-19 15:32:25,960  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,TcmG1YCfLvpJO2HTxplnX6wzQLzl1n3O,1563521545,173,api.mch.weixin.qq.com,true,6000,8000,0,0,0,7689A1FA0217B90A55C9D1F8DA49EC5FF7BA58D93D5FE9EA8AFAFFDAC3DACFA6
2019-07-19 15:32:25,960  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[oKY4UG5eTKi3tWII]]></nonce_str>
<sign><![CDATA[EE864DF12E63789C30333CDE87E8299EEBF5FFE79EB6877CF0F541CDA9FB63A0]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269R885]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 15:32:25,960  INFO 2069 --- [pool-5-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,TcmG1YCfLvpJO2HTxplnX6wzQLzl1n3O,1563521545,173,api.mch.weixin.qq.com,true,6000,8000,0,0,0,7689A1FA0217B90A55C9D1F8DA49EC5FF7BA58D93D5FE9EA8AFAFFDAC3DACFA6
2019-07-19 15:32:25,961  INFO 2069 --- [pool-5-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 15:32:25,962  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=oKY4UG5eTKi3tWII, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=EE864DF12E63789C30333CDE87E8299EEBF5FFE79EB6877CF0F541CDA9FB63A0, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:32:25,962  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 response: {nonce_str=oKY4UG5eTKi3tWII, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=EE864DF12E63789C30333CDE87E8299EEBF5FFE79EB6877CF0F541CDA9FB63A0, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:32:25,967  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery success
2019-07-19 15:32:25,968 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 15:32:25,968 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), alipay(String)
2019-07-19 15:32:25,971 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 15:32:25,971  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery
2019-07-19 15:32:25,971  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 15:32:25,975  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute payQuery payQuery-alipay-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 15:32:25,975  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=alipay,appId=101
2019-07-19 15:32:25,976  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 15:32:25,977 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:32:25,977 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 15:32:25,981 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:32:25,981 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:32:25,982 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 15:32:25,986 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:32:25,987  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 15:32:25,987 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 15:32:25,987 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), alipay(String), 101(String)
2019-07-19 15:32:25,991 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 15:32:25,991  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=qr
2019-07-19 15:32:25,991  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : payQuery=: orderNo=10110011562749752364269,payType=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 15:32:26,009  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"out_trade_no":"10110011562749752364269"},"response_class":"com.alipay.api.response.AlipayTradeQueryResponse","text_params":{},"api_method_name":"alipay.trade.query"}
2019-07-19 15:32:26,252 ERROR 2069 --- [   scheduling-1] sdk.biz.err                              : ErrorScene^_^40004^_^ACQ.TRADE_NOT_EXIST^_^null^_^Mac OS X^_^2019-07-19 15:32:26^_^ProtocalMustParams:charset=UTF-8&method=alipay.trade.query&sign=RT+sFCTSQQns7A9u8nj9xrL9I7T8yg7vXF4TecdeGR+/1tEDzlF+n0mzM6MGQvhuMsOHsy7CWsKG30Sr+7+zHMyiZGXQ6qcF5JteF9xbSqV2RxGRLqzel/2qh7W5R70rzCqHf8ZT7eyw2BC3fSMmMrjzSVUpIklL6YCPledG0jg=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 15:32:26^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"out_trade_no":"10110011562749752364269"}^_^Body:{"alipay_trade_query_response":{"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00"},"sign":"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw="}^_^30ms,195ms,18ms
2019-07-19 15:32:26,258  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 response: {"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","body":"{\"alipay_trade_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"ACQ.TRADE_NOT_EXIST\",\"sub_msg\":\"交易不存在\",\"buyer_pay_amount\":\"0.00\",\"invoice_amount\":\"0.00\",\"out_trade_no\":\"10110011562749752364269\",\"point_amount\":\"0.00\",\"receipt_amount\":\"0.00\"},\"sign\":\"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw=\"}","params":{"biz_content":"{\"out_trade_no\":\"10110011562749752364269\"}"},"buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00","success":false,"error_code":"40004"}
2019-07-19 15:32:26,265  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery exception: Business Failed # ACQ.TRADE_NOT_EXIST # 交易不存在
2019-07-19 15:32:26,265  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery finished...
2019-07-19 15:33:53,773  INFO 2069 --- [       Thread-7] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-19 15:33:53,780  INFO 2069 --- [       Thread-7] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-19 15:33:53,800  INFO 2069 --- [       Thread-7] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-19 15:33:54,402  INFO 2069 --- [  restartedMain] com.intbee.payment.Application           : Starting Application on lishihaideMac-mini.local with PID 2069 (/Users/zhenling/Nesting/zc-service-pay/target/classes started by zhenling in /Users/zhenling/Nesting/zc-service-pay)
2019-07-19 15:33:54,403  INFO 2069 --- [  restartedMain] com.intbee.payment.Application           : The following profiles are active: szdev
2019-07-19 15:33:56,314  INFO 2069 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$c1561af6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 15:33:56,377  INFO 2069 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$e367a198] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 15:33:56,410  INFO 2069 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$eda40973] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-19 15:33:56,555  INFO 2069 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService
2019-07-19 15:33:56,776  INFO 2069 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9999 (http)
2019-07-19 15:33:56,795  INFO 2069 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2387 ms
2019-07-19 15:33:57,043  INFO 2069 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2019-07-19 15:33:57,477  INFO 2069 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} inited
2019-07-19 15:33:57,761  INFO 2069 --- [  restartedMain] c.i.payment.common.config.PaymentConfig  : payment domain config: http://116.85.33.137:21999
2019-07-19 15:33:57,762  INFO 2069 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [503] alipay initialized: AlipayConfig(id=503, remark=全球带-支付宝, mchid=2088221861802194, appid=2018042660058300, signType=RSA2, environment=dev, privateKey=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC1CJrFUDa7IPp6gCK6vbAIlzMDmQc43LWRzK8wATEBE/EqzR/Di4GgNK58Ufe5jXBijvD76b62yaXE+WrFXYgG6CfOZV05DtToElm0fcFF3CYfn9K2f5ixvvu3GVmSO06iZah6HFWdGvj0w2YgTycCMREYlibLNw8zVD2kvzOwdMv/3+Nx0rO6hqntw11/zAFFzyPUZRwHWd89MD9MI1mbdW44FdKybc8Ffm51QbTAt2/uvDmk6YojZjiuptgiPdM1I1x5w58oXglFhxdoz0tvke8OMlXy7vERzbuIbOC1XX8nX7okxqIM3G+jVJ32B9qiLRfEJ+zbv418R5ehznX5AgMBAAECggEARfdyYcoTrRUc2ZWGVqgTTe6p770IFojuv8/c8W+0cdc0QTeQDDJxweo6eZ/wX01z3xOhvarkY57hq5Q+GNOCTDETmWiBtBiwXpUhCGoF9asVLOnHNXNxH1lRzb1Fagfz5z3k9HTY/eQ7zdVrNheBWw59rgPyMF4ySMNJI9Al+Q8zpBfx0WCO5HzkxquGPb8Vns/chQTq5anFjNL+7OP6MSiJ5PCFxDfhkcRHsPzDZ4/yVngmwXa1/KyBQ2KSjGU+Xilaabt6VX3H0eGoqhrFtKLOKsBTJDMZTGrOr7ZI6MMT4WE18bZ9LIvVezn7sCRZRXst1RIu2VQst8FBZiLGNQKBgQDva/XPDOovJNKVcVOwhNpPcT3iP6Lr+3Cw4xWMLsFPAT6lCqzvJdWj4+/D6htO98iDnBgdz4gpj5e65OFtEVvwGveN5HgVx+AEgwUuhCbv9zU9DJZXhv/jCeWkXUqABGej6DvSoLdpHLEYLmDh5Mpt7tKJmtnlvVFJII4GfNi0bwKBgQDBkaT9Occm6ad+gLLG5E+vm5wROv5ySCl4MAiR/DZ6vPRXiiWzV2o7/jwgu2VrvBBEYX5OaazxU2j1CBUaOG7hze/Ysw0YT3DLpgqUwT+ZqhqBswhaG2Dvc7eBUSWgOSwlCxQF410wW2JajImAO5FRjhCCIanr4BcvSTLzTK3AFwKBgHoq643QODsAHhg1cI/U6pS44uvsrtSdQ75u0VLrlKYcq3uJu/53ntD3ASRF89NSqlVFtCSZ/g++/pxWKBUAU5psGD+mAgSTLeL/fAhlVH0D9n2FS72z3CRcq3o4REiYds3zNXtfmNcg1djR6Yu6s/Ruda3TfzY0aSLYYsA6ulUvAoGAKAqt26g5F0acXGHZGaWfCk+hUDso6ZEd6vvcuf43ctplnTo5pEi/9Bsaaxb42vlzUAHu89+OY/mCK7X5T4w++7zzEZuwaMf+KFJ3u9/h/TKf+xaC8sjZG4+PdVPI+cT56cvJ35Hx9A/jX6HUy88Gt50wswqtsNqRUTnOLWA+TQ8CgYEAueLJq01HEPY2ts0Cc08VG6QAz8bKLgc2KZZMXOUuRV/SRBXtD4xiPhR4vWlrPePWwHrrwTAmBj8P7uWVL3RQmwJ06W+DCaMG/DhN6kyCuf3A1+w32AR6P6vgsTIh5LSRJUGwZsXdtMyE7MldLM3kEgO7SWM4/bVRA2vwxjvfCHM=, publicKey=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0vzt4C5hkRx2RyRpajy6vO5XoehBeljtXbRPRMYTtGl9sGZraJFF+uQMIjhI8vzEl5w+gRxTmqSeeX8vZLhhzNDb+4fZQHrIFPVEpXuekL2G3JhQwnbjTkrdE/4dRDHvoNVp0o2sSFqeHdT9JjXieGwmvUqcU0sOJ81Wa1aijmcM1gk1yHtBHIsxJqJO+XFOieKZU1gS/K4CdpdBm7i5S+ejLW708MkAR7vER1s/t+HENDMAmA6pFqaS3xiRCarE5NVw+mYyWBmx5TQB2XGCNsdKelsi9H00ve3uzFLe4uiZtmTvJNueHhKhaFn8w/L0AzVsDVZBaXqjCv63tOvspQIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/alipay/refundNotify)
2019-07-19 15:33:57,763  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-503-app.p12]
2019-07-19 15:33:57,763  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 15:33:57,764  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [503] wx initialized: WxpayConfig(id=503, payType=null, tradeType=wap, remark=全球带-微信, key=6RPA3YLKonTECiHH9uDGbYw0MdJUK5QJ, appid=wxd86049a121654669, mchid=1505417821, certPath=classpath:cert/wx/apiclient_cert-503-app.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/503/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/503/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 15:33:57,764  INFO 2069 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 15:33:57,764  INFO 2069 --- [  restartedMain] c.i.payment.common.config.AlipayConfig   : appid [101] alipay initialized: AlipayConfig(id=101, remark=抖音小程序-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 15:33:57,764  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 15:33:57,764  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 15:33:57,765  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=wap, remark=智蜂-微信公众号, key=d195f111fd3bf436951b90973f0ccac8, appid=wx9b5cb757426e00d9, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 15:33:57,765  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-1429146602.p12]
2019-07-19 15:33:57,765  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 15:33:57,765  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [101] wx initialized: WxpayConfig(id=101, payType=null, tradeType=lite, remark=小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wxc9d0a70977ecf5fe, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-1429146602.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/101/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 15:33:57,765  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 15:33:57,765  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 15:33:57,765  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=wap, remark=高校通-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/wap/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 15:33:57,766  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile from [classpath:cert/wx/apiclient_cert-501-lite.p12]
2019-07-19 15:33:57,766  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : load wx certfile successful
2019-07-19 15:33:57,766  INFO 2069 --- [  restartedMain] c.i.payment.common.config.WxpayConfig    : appid [501] wx initialized: WxpayConfig(id=501, payType=null, tradeType=lite, remark=高校通小程序-微信, key=d195f111fd3bf436951b90973f0ccac8, appid=wx1e86ddc5b2485ab2, mchid=1429146602, certPath=classpath:cert/wx/apiclient_cert-501-lite.p12, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/501/wx/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/wx/lite/501/refundNotify, reportURL=https://api.mch.weixin.qq.com/payitil/report, connectTimeout=6000, readTimeout=8000)
2019-07-19 15:33:58,118  INFO 2069 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayServiceImpl$$EnhancerBySpringCGLIB$$b0ba14f2
2019-07-19 15:33:58,130  INFO 2069 --- [  restartedMain] c.i.p.m.t.s.impl.PaymentServiceProxy     : registe PaymentService: wx -> class com.intbee.payment.modules.trade.service.impl.WxServiceImpl$$EnhancerBySpringCGLIB$$cc1fe2ad
2019-07-19 15:33:58,225  INFO 2069 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: alipay -> class com.intbee.payment.modules.trade.service.impl.AlipayBillServiceImpl
2019-07-19 15:33:58,225  INFO 2069 --- [  restartedMain] c.i.p.m.t.service.impl.BillServiceProxy  : registe BillService: wx -> class com.intbee.payment.modules.trade.service.impl.WxBillServiceImpl
2019-07-19 15:33:58,543  INFO 2069 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2019-07-19 15:33:58,730  INFO 2069 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-07-19 15:33:58,741  INFO 2069 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-07-19 15:33:58,914  INFO 2069 --- [  restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-07-19 15:33:59,348  INFO 2069 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9999 (http) with context path '/api'
2019-07-19 15:33:59,350  INFO 2069 --- [  restartedMain] com.intbee.payment.Application           : Started Application in 5.239 seconds (JVM running for 407.247)
2019-07-19 15:33:59,357  INFO 2069 --- [  async-event-3] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-07-19 15:38:59,373  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery start...
2019-07-19 15:38:59,380 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==>  Preparing: select pr.id, pr.app_id, pr.pay_type, pr.channel, pr.order_no, pr.amount, pr.subject, pr.sign_type, pr.client_ip, pr.extra, pr.create_time from pay_center3_pay_request pr left join pay_center3_pay_query_result pqr on pr.pay_type = pqr.pay_type and pr.order_no = pqr.order_no where pqr.app_id is null and pr.create_time between ? and ? 
2019-07-19 15:38:59,381 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==> Parameters: 2019-07-17 15:38:59.373(Timestamp), 2019-07-19 15:38:59.373(Timestamp)
2019-07-19 15:38:59,388 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : <==      Total: 5
2019-07-19 15:38:59,389 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 15:38:59,389 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R281(String), wx(String)
2019-07-19 15:38:59,392 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 15:38:59,392  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery
2019-07-19 15:38:59,403  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 15:38:59,404  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R281,payType=wx,appId=101
2019-07-19 15:38:59,404  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R281
2019-07-19 15:38:59,405 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:38:59,422 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 15:38:59,426 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:38:59,427 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:38:59,427 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 15:38:59,437 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:38:59,438  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R281
2019-07-19 15:38:59,439 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 15:38:59,440 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R281(String), wx(String), 101(String)
2019-07-19 15:38:59,444 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 15:38:59,444  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R281,tradeType=app
2019-07-19 15:38:59,453  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R281: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 15:38:59,453  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 request: {out_trade_no=10110011562749752364269R281}
2019-07-19 15:38:59,765  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report worker num: 6
2019-07-19 15:38:59,771  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,8EjFkkNSYeSljXPtrlnfSBWJjoGcuHUM,1563521939,285,api.mch.weixin.qq.com,true,6000,8000,0,0,0,FD9720C51B4A8DD4664238531CFFC62D8E0F9503B49477A66A3401B1813487F7
2019-07-19 15:38:59,771  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[udTfiYXA1MehF4Jh]]></nonce_str>
<sign><![CDATA[C33FD87DB49EA8CF2D8E9878EDFC6B00A31B8078109758593FF8DF925B3D9E91]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 15:38:59,771  INFO 2069 --- [pool-8-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,8EjFkkNSYeSljXPtrlnfSBWJjoGcuHUM,1563521939,285,api.mch.weixin.qq.com,true,6000,8000,0,0,0,FD9720C51B4A8DD4664238531CFFC62D8E0F9503B49477A66A3401B1813487F7
2019-07-19 15:38:59,771  INFO 2069 --- [pool-8-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 15:38:59,772  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=udTfiYXA1MehF4Jh, appid=wx9b5cb757426e00d9, sign=C33FD87DB49EA8CF2D8E9878EDFC6B00A31B8078109758593FF8DF925B3D9E91, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:38:59,773  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 response: {nonce_str=udTfiYXA1MehF4Jh, appid=wx9b5cb757426e00d9, sign=C33FD87DB49EA8CF2D8E9878EDFC6B00A31B8078109758593FF8DF925B3D9E91, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:38:59,776  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R281 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 15:38:59,776  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 15:38:59,777 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 15:38:59,777 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R888(String), wx(String)
2019-07-19 15:38:59,780 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 15:38:59,780  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery
2019-07-19 15:38:59,780  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 15:38:59,780  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R888,payType=wx,appId=101
2019-07-19 15:38:59,780  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R888
2019-07-19 15:38:59,781 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:38:59,781 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 15:38:59,784 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:38:59,784 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:38:59,785 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 15:38:59,788 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:38:59,788  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R888
2019-07-19 15:38:59,789 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 15:38:59,789 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R888(String), wx(String), 101(String)
2019-07-19 15:38:59,792 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 15:38:59,792  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R888,tradeType=wap
2019-07-19 15:38:59,794  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R888: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 15:38:59,794  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 request: {out_trade_no=10110011562749752364269R888}
2019-07-19 15:39:00,027  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,3AJJBnHiyf0xGXZnbieloRzTEodYKeug,1563521940,230,api.mch.weixin.qq.com,true,6000,8000,0,0,0,B6C805AA51069BE1BD632A355F2D9C7839B04C9D6FA253F0E924858F2978242D
2019-07-19 15:39:00,027  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[FbqUXSDrwdLGGkM7]]></nonce_str>
<sign><![CDATA[E1A24A3605AB627EFD3EE3E3B9BE32556404F1D0434A9319C5A493C50724E75A]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 15:39:00,027  INFO 2069 --- [pool-9-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,3AJJBnHiyf0xGXZnbieloRzTEodYKeug,1563521940,230,api.mch.weixin.qq.com,true,6000,8000,0,0,0,B6C805AA51069BE1BD632A355F2D9C7839B04C9D6FA253F0E924858F2978242D
2019-07-19 15:39:00,027  INFO 2069 --- [pool-9-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 15:39:00,028  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=FbqUXSDrwdLGGkM7, appid=wx9b5cb757426e00d9, sign=E1A24A3605AB627EFD3EE3E3B9BE32556404F1D0434A9319C5A493C50724E75A, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:39:00,029  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 response: {nonce_str=FbqUXSDrwdLGGkM7, appid=wx9b5cb757426e00d9, sign=E1A24A3605AB627EFD3EE3E3B9BE32556404F1D0434A9319C5A493C50724E75A, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:39:00,032  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R888 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 15:39:00,032  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 15:39:00,033 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 15:39:00,033 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), wx(String)
2019-07-19 15:39:00,036 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 15:39:00,037  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery
2019-07-19 15:39:00,037  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 15:39:00,037  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=wx,appId=101
2019-07-19 15:39:00,037  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 15:39:00,037 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:39:00,037 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 15:39:00,043 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:39:00,043 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:39:00,043 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 15:39:00,049 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:39:00,049  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 15:39:00,050 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 15:39:00,050 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), wx(String), 101(String)
2019-07-19 15:39:00,054 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 15:39:00,055  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=lite
2019-07-19 15:39:00,057  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 15:39:00,057  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 request: {out_trade_no=10110011562749752364269}
2019-07-19 15:39:00,286  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,TVEck8SJ3ApkfuJNqNbPkMVk0Uv89IQr,1563521940,228,api.mch.weixin.qq.com,true,6000,8000,0,0,0,4B32888FC54171B8CC7A83514FC328A2705068A0C49658C254611186F54E54BC
2019-07-19 15:39:00,286  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxc9d0a70977ecf5fe]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[EaXNH0TkLPdvMWTi]]></nonce_str>
<sign><![CDATA[66359FAE2F6C6455F1A56EEF8C71DCAEBB25629444A1520772B8A10E7E844781]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 15:39:00,286  INFO 2069 --- [ool-10-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,TVEck8SJ3ApkfuJNqNbPkMVk0Uv89IQr,1563521940,228,api.mch.weixin.qq.com,true,6000,8000,0,0,0,4B32888FC54171B8CC7A83514FC328A2705068A0C49658C254611186F54E54BC
2019-07-19 15:39:00,286  INFO 2069 --- [ool-10-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 15:39:00,288  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=EaXNH0TkLPdvMWTi, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=66359FAE2F6C6455F1A56EEF8C71DCAEBB25629444A1520772B8A10E7E844781, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:39:00,288  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 response: {nonce_str=EaXNH0TkLPdvMWTi, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=66359FAE2F6C6455F1A56EEF8C71DCAEBB25629444A1520772B8A10E7E844781, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:39:00,293  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery success
2019-07-19 15:39:00,293 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 15:39:00,294 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R885(String), wx(String)
2019-07-19 15:39:00,296 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 15:39:00,297  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery
2019-07-19 15:39:00,297  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 15:39:00,297  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R885,payType=wx,appId=101
2019-07-19 15:39:00,297  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R885
2019-07-19 15:39:00,297 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:39:00,298 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 15:39:00,301 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:39:00,302 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:39:00,302 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 15:39:00,306 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:39:00,306  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R885
2019-07-19 15:39:00,307 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 15:39:00,307 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R885(String), wx(String), 101(String)
2019-07-19 15:39:00,310 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 15:39:00,311  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R885,tradeType=pub
2019-07-19 15:39:00,313  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R885: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 15:39:00,313  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 request: {out_trade_no=10110011562749752364269R885}
2019-07-19 15:39:00,526  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,e06yUThkeASrz3vhdO6CHTbOYLi0eKnN,1563521940,210,api.mch.weixin.qq.com,true,6000,8000,0,0,0,2DC73FB1677ABBABF1959AC375BE14E19356E783DBE78771EFE88DBC54D949C8
2019-07-19 15:39:00,527  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[P5SOcoJZlLbN5f1U]]></nonce_str>
<sign><![CDATA[8EC26F26A40323B5A69BA75831F0B811B794A00DF4C2AF81B5CD28D561B8F236]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269R885]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 15:39:00,527  INFO 2069 --- [ool-11-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,e06yUThkeASrz3vhdO6CHTbOYLi0eKnN,1563521940,210,api.mch.weixin.qq.com,true,6000,8000,0,0,0,2DC73FB1677ABBABF1959AC375BE14E19356E783DBE78771EFE88DBC54D949C8
2019-07-19 15:39:00,527  INFO 2069 --- [ool-11-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 15:39:00,528  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=P5SOcoJZlLbN5f1U, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=8EC26F26A40323B5A69BA75831F0B811B794A00DF4C2AF81B5CD28D561B8F236, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:39:00,528  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 response: {nonce_str=P5SOcoJZlLbN5f1U, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=8EC26F26A40323B5A69BA75831F0B811B794A00DF4C2AF81B5CD28D561B8F236, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 15:39:00,533  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery success
2019-07-19 15:39:00,533 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 15:39:00,533 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), alipay(String)
2019-07-19 15:39:00,536 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 15:39:00,537  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery
2019-07-19 15:39:00,537  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 15:39:00,539  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute payQuery payQuery-alipay-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 15:39:00,539  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=alipay,appId=101
2019-07-19 15:39:00,539  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 15:39:00,540 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:39:00,541 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 15:39:00,543 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:39:00,544 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 15:39:00,544 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 15:39:00,547 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 15:39:00,548  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 15:39:00,549 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 15:39:00,549 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), alipay(String), 101(String)
2019-07-19 15:39:00,553 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 15:39:00,553  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=qr
2019-07-19 15:39:00,554  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : payQuery=: orderNo=10110011562749752364269,payType=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 15:39:00,569  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"out_trade_no":"10110011562749752364269"},"response_class":"com.alipay.api.response.AlipayTradeQueryResponse","text_params":{},"api_method_name":"alipay.trade.query"}
2019-07-19 15:39:00,715 ERROR 2069 --- [   scheduling-1] sdk.biz.err                              : ErrorScene^_^40004^_^ACQ.TRADE_NOT_EXIST^_^null^_^Mac OS X^_^2019-07-19 15:39:00^_^ProtocalMustParams:charset=UTF-8&method=alipay.trade.query&sign=AfjgZxLY26lLA2egW+gHUngLu8ODr8hBWWhhXB1efFbyDr9AenYc/tFkwIplO4TktnINd6F5BTb8oYKXBpfEGLcmAneB0HHwkXfwEoXc5gjaRiGBJ1XzLQLdhHAsowd0eOO+KSFn3+8GBrriIZ4xMzloRqJQaqk8zqtC3Afru3c=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 15:39:00^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"out_trade_no":"10110011562749752364269"}^_^Body:{"alipay_trade_query_response":{"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00"},"sign":"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw="}^_^3ms,138ms,4ms
2019-07-19 15:39:00,718  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 response: {"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","body":"{\"alipay_trade_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"ACQ.TRADE_NOT_EXIST\",\"sub_msg\":\"交易不存在\",\"buyer_pay_amount\":\"0.00\",\"invoice_amount\":\"0.00\",\"out_trade_no\":\"10110011562749752364269\",\"point_amount\":\"0.00\",\"receipt_amount\":\"0.00\"},\"sign\":\"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw=\"}","params":{"biz_content":"{\"out_trade_no\":\"10110011562749752364269\"}"},"buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00","success":false,"error_code":"40004"}
2019-07-19 15:39:00,724  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery exception: Business Failed # ACQ.TRADE_NOT_EXIST # 交易不存在
2019-07-19 15:39:00,724  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery finished...
2019-07-19 15:53:59,415  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task refundQuery start...
2019-07-19 15:54:04,437  WARN 2069 --- [   scheduling-1] com.alibaba.druid.pool.DruidDataSource   : get connection timeout retry : 1
2019-07-19 15:54:07,446 ERROR 2069 --- [   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task.
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is com.alibaba.druid.pool.GetConnectionTimeoutException: wait millis 3001, active 0, maxActive 10, creating 1
### The error may exist in file [/Users/zhenling/Nesting/zc-service-pay/target/classes/mapper/RefundRequestLogMapper.xml]
### The error may involve com.intbee.payment.modules.trade.dao.RefundRequestLogMapper.findUnqueryBetweenDate
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is com.alibaba.druid.pool.GetConnectionTimeoutException: wait millis 3001, active 0, maxActive 10, creating 1
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:77)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:446)
	at com.sun.proxy.$Proxy113.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy180.findUnqueryBetweenDate(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy181.findUnqueryBetweenDate(Unknown Source)
	at com.intbee.payment.modules.trade.service.impl.RefundRequestLogServiceImpl.findUnqueryBetweenDate(RefundRequestLogServiceImpl.java:104)
	at com.intbee.payment.timer.RequestResultQueryTimer.refundRequestQueryTask(RequestResultQueryTimer.java:88)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is com.alibaba.druid.pool.GetConnectionTimeoutException: wait millis 3001, active 0, maxActive 10, creating 1
### The error may exist in file [/Users/zhenling/Nesting/zc-service-pay/target/classes/mapper/RefundRequestLogMapper.xml]
### The error may involve com.intbee.payment.modules.trade.dao.RefundRequestLogMapper.findUnqueryBetweenDate
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is com.alibaba.druid.pool.GetConnectionTimeoutException: wait millis 3001, active 0, maxActive 10, creating 1
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:150)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.GeneratedMethodAccessor189.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	... 32 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is com.alibaba.druid.pool.GetConnectionTimeoutException: wait millis 3001, active 0, maxActive 10, creating 1
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:68)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	... 37 common frames omitted
Caused by: com.alibaba.druid.pool.GetConnectionTimeoutException: wait millis 3001, active 0, maxActive 10, creating 1
	at com.alibaba.druid.pool.DruidDataSource.getConnectionInternal(DruidDataSource.java:1510)
	at com.alibaba.druid.pool.DruidDataSource.getConnectionDirect(DruidDataSource.java:1253)
	at com.alibaba.druid.filter.FilterChainImpl.dataSource_connect(FilterChainImpl.java:4619)
	at com.alibaba.druid.filter.stat.StatFilter.dataSource_getConnection(StatFilter.java:680)
	at com.alibaba.druid.filter.FilterChainImpl.dataSource_connect(FilterChainImpl.java:4615)
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:1231)
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:1223)
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:90)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	... 47 common frames omitted
2019-07-19 16:09:00,796  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery start...
2019-07-19 16:09:00,808 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==>  Preparing: select pr.id, pr.app_id, pr.pay_type, pr.channel, pr.order_no, pr.amount, pr.subject, pr.sign_type, pr.client_ip, pr.extra, pr.create_time from pay_center3_pay_request pr left join pay_center3_pay_query_result pqr on pr.pay_type = pqr.pay_type and pr.order_no = pqr.order_no where pqr.app_id is null and pr.create_time between ? and ? 
2019-07-19 16:09:00,809 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==> Parameters: 2019-07-17 16:09:00.796(Timestamp), 2019-07-19 16:09:00.796(Timestamp)
2019-07-19 16:09:00,817 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : <==      Total: 5
2019-07-19 16:09:00,817 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 16:09:00,818 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R281(String), wx(String)
2019-07-19 16:09:00,821 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 16:09:00,822  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery
2019-07-19 16:09:00,822  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 16:09:00,822  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R281,payType=wx,appId=101
2019-07-19 16:09:00,822  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R281
2019-07-19 16:09:00,823 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:09:00,823 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 16:09:00,827 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:09:00,828 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:09:00,828 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 16:09:00,833 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:09:00,834  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R281
2019-07-19 16:09:00,834 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 16:09:00,835 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R281(String), wx(String), 101(String)
2019-07-19 16:09:00,840 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 16:09:00,841  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R281,tradeType=app
2019-07-19 16:09:00,843  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R281: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 16:09:00,844  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 request: {out_trade_no=10110011562749752364269R281}
2019-07-19 16:09:01,192  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,RqcBnemwb1luPdlgNCRtRt7ByFXjjY2C,1563523741,346,api.mch.weixin.qq.com,true,6000,8000,0,0,0,92064E881DA83B80EC0E8F4E06F1C5EF214109B9EC27D0FE8F3A51AB92D5FD97
2019-07-19 16:09:01,193  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[PztG70SRsuTIWd13]]></nonce_str>
<sign><![CDATA[1F3535128B13E3F9992E6F1011992CECB751B51B64A6931CF1C23BF6D3F9602F]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 16:09:01,193  INFO 2069 --- [ool-12-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,RqcBnemwb1luPdlgNCRtRt7ByFXjjY2C,1563523741,346,api.mch.weixin.qq.com,true,6000,8000,0,0,0,92064E881DA83B80EC0E8F4E06F1C5EF214109B9EC27D0FE8F3A51AB92D5FD97
2019-07-19 16:09:01,193  INFO 2069 --- [ool-12-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 16:09:01,195  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=PztG70SRsuTIWd13, appid=wx9b5cb757426e00d9, sign=1F3535128B13E3F9992E6F1011992CECB751B51B64A6931CF1C23BF6D3F9602F, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:09:01,195  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 response: {nonce_str=PztG70SRsuTIWd13, appid=wx9b5cb757426e00d9, sign=1F3535128B13E3F9992E6F1011992CECB751B51B64A6931CF1C23BF6D3F9602F, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:09:01,201  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R281 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 16:09:01,201  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 16:09:01,202 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 16:09:01,202 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R888(String), wx(String)
2019-07-19 16:09:01,207 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 16:09:01,208  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery
2019-07-19 16:09:01,208  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 16:09:01,208  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R888,payType=wx,appId=101
2019-07-19 16:09:01,209  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R888
2019-07-19 16:09:01,209 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:09:01,210 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 16:09:01,214 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:09:01,215 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:09:01,216 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 16:09:01,220 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:09:01,221  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R888
2019-07-19 16:09:01,221 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 16:09:01,221 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R888(String), wx(String), 101(String)
2019-07-19 16:09:01,227 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 16:09:01,228  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R888,tradeType=wap
2019-07-19 16:09:01,230  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R888: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 16:09:01,231  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 request: {out_trade_no=10110011562749752364269R888}
2019-07-19 16:09:01,497  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,6EBKmfjKtRDFaxBrzIAwOHaesklGkN6g,1563523741,262,api.mch.weixin.qq.com,true,6000,8000,0,0,0,77FEADCCC86105CC3E0B6A23DEFF71E35301442D612665A7083E558D51B783DF
2019-07-19 16:09:01,498  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[kyNPCQVKbxXyaUK6]]></nonce_str>
<sign><![CDATA[096580319D15296137D8AEBA29BD87737C8A0A97EB68C5249F73127893C96A2D]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 16:09:01,498  INFO 2069 --- [ool-13-thread-1] wxpay java sdk                           : get first report msg: v1,WXPaySDK/3.0.9,6EBKmfjKtRDFaxBrzIAwOHaesklGkN6g,1563523741,262,api.mch.weixin.qq.com,true,6000,8000,0,0,0,77FEADCCC86105CC3E0B6A23DEFF71E35301442D612665A7083E558D51B783DF
2019-07-19 16:09:01,498  INFO 2069 --- [ool-13-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 16:09:01,499  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=kyNPCQVKbxXyaUK6, appid=wx9b5cb757426e00d9, sign=096580319D15296137D8AEBA29BD87737C8A0A97EB68C5249F73127893C96A2D, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:09:01,499  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 response: {nonce_str=kyNPCQVKbxXyaUK6, appid=wx9b5cb757426e00d9, sign=096580319D15296137D8AEBA29BD87737C8A0A97EB68C5249F73127893C96A2D, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:09:01,506  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R888 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 16:09:01,506  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 16:09:01,507 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 16:09:01,507 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), wx(String)
2019-07-19 16:09:01,510 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 16:09:01,511  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery
2019-07-19 16:09:01,511  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 16:09:01,511  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=wx,appId=101
2019-07-19 16:09:01,511  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 16:09:01,511 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:09:01,511 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 16:09:01,515 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:09:01,515 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:09:01,516 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 16:09:01,519 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:09:01,520  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 16:09:01,520 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 16:09:01,521 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), wx(String), 101(String)
2019-07-19 16:09:01,525 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 16:09:01,525  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=lite
2019-07-19 16:09:01,529  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 16:09:01,529  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 request: {out_trade_no=10110011562749752364269}
2019-07-19 16:09:01,770  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,8lAohkCnzTLTgj9mewslebB8ZX11tpgL,1563523741,239,api.mch.weixin.qq.com,true,6000,8000,0,0,0,04EDFC3B9BC9001BACD47F266FA6FA785819349428AD5B384FC9347FA6550E62
2019-07-19 16:09:01,770  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxc9d0a70977ecf5fe]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[VG3aZB486onjQJuE]]></nonce_str>
<sign><![CDATA[68613E661FCEE7A06BAFB33620E649E49B316D846457E5A80BFDDBBBB94DDABE]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 16:09:01,770  INFO 2069 --- [pool-8-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,8lAohkCnzTLTgj9mewslebB8ZX11tpgL,1563523741,239,api.mch.weixin.qq.com,true,6000,8000,0,0,0,04EDFC3B9BC9001BACD47F266FA6FA785819349428AD5B384FC9347FA6550E62
2019-07-19 16:09:01,771  INFO 2069 --- [pool-8-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 16:09:01,772  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=VG3aZB486onjQJuE, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=68613E661FCEE7A06BAFB33620E649E49B316D846457E5A80BFDDBBBB94DDABE, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:09:01,772  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 response: {nonce_str=VG3aZB486onjQJuE, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=68613E661FCEE7A06BAFB33620E649E49B316D846457E5A80BFDDBBBB94DDABE, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:09:01,785  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery success
2019-07-19 16:09:01,786 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 16:09:01,786 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R885(String), wx(String)
2019-07-19 16:09:01,792 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 16:09:01,792  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery
2019-07-19 16:09:01,792  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 16:09:01,792  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R885,payType=wx,appId=101
2019-07-19 16:09:01,792  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R885
2019-07-19 16:09:01,793 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:09:01,793 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 16:09:01,796 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:09:01,797 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:09:01,797 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 16:09:01,801 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:09:01,802  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R885
2019-07-19 16:09:01,802 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 16:09:01,802 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R885(String), wx(String), 101(String)
2019-07-19 16:09:01,805 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 16:09:01,806  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R885,tradeType=pub
2019-07-19 16:09:01,808  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R885: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 16:09:01,808  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 request: {out_trade_no=10110011562749752364269R885}
2019-07-19 16:09:02,015  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,3tWxQ4TbiF15geb4RWXDiwm6vqjZPp8h,1563523742,205,api.mch.weixin.qq.com,true,6000,8000,0,0,0,F50917ED8810F1A6DB6D5C07781764C28A92C568C4180ECB8BDE3915B6994620
2019-07-19 16:09:02,016  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[US988rzYsjuh2sz8]]></nonce_str>
<sign><![CDATA[A844722A205090C853153C57507F43DB942D8FFE328C2BA6371F2529862E5466]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269R885]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 16:09:02,016  INFO 2069 --- [pool-9-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,3tWxQ4TbiF15geb4RWXDiwm6vqjZPp8h,1563523742,205,api.mch.weixin.qq.com,true,6000,8000,0,0,0,F50917ED8810F1A6DB6D5C07781764C28A92C568C4180ECB8BDE3915B6994620
2019-07-19 16:09:02,016  INFO 2069 --- [pool-9-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 16:09:02,017  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=US988rzYsjuh2sz8, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=A844722A205090C853153C57507F43DB942D8FFE328C2BA6371F2529862E5466, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:09:02,017  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 response: {nonce_str=US988rzYsjuh2sz8, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=A844722A205090C853153C57507F43DB942D8FFE328C2BA6371F2529862E5466, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:09:02,028  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery success
2019-07-19 16:09:02,029 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 16:09:02,029 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), alipay(String)
2019-07-19 16:09:02,032 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 16:09:02,033  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery
2019-07-19 16:09:02,033  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 16:09:02,036  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute payQuery payQuery-alipay-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 16:09:02,036  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=alipay,appId=101
2019-07-19 16:09:02,036  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 16:09:02,037 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:09:02,037 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 16:09:02,042 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:09:02,042 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:09:02,043 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 16:09:02,048 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:09:02,049  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 16:09:02,049 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 16:09:02,049 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), alipay(String), 101(String)
2019-07-19 16:09:02,055 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 16:09:02,056  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=qr
2019-07-19 16:09:02,056  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : payQuery=: orderNo=10110011562749752364269,payType=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 16:09:02,056  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"out_trade_no":"10110011562749752364269"},"response_class":"com.alipay.api.response.AlipayTradeQueryResponse","text_params":{},"api_method_name":"alipay.trade.query"}
2019-07-19 16:09:02,275 ERROR 2069 --- [   scheduling-1] sdk.biz.err                              : ErrorScene^_^40004^_^ACQ.TRADE_NOT_EXIST^_^null^_^Mac OS X^_^2019-07-19 16:09:02^_^ProtocalMustParams:charset=UTF-8&method=alipay.trade.query&sign=gLQYLtKQR6LGifJXj1QaFhjph2fOh6dc1SfIOVl9ixOnNpMUSBv5vnd5MCtwCdH2DtlXR7bgx+7an93WBPIsVRj2mdB1cqyu5G+k+ozMg1bdsNdXxk6obezIn97lmrptSkbtgE3xj9N9MRmUOF8N9RN9fixscZvd4pLjzCF9r00=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 16:09:02^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"out_trade_no":"10110011562749752364269"}^_^Body:{"alipay_trade_query_response":{"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00"},"sign":"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw="}^_^4ms,214ms,1ms
2019-07-19 16:09:02,276  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 response: {"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","body":"{\"alipay_trade_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"ACQ.TRADE_NOT_EXIST\",\"sub_msg\":\"交易不存在\",\"buyer_pay_amount\":\"0.00\",\"invoice_amount\":\"0.00\",\"out_trade_no\":\"10110011562749752364269\",\"point_amount\":\"0.00\",\"receipt_amount\":\"0.00\"},\"sign\":\"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw=\"}","params":{"biz_content":"{\"out_trade_no\":\"10110011562749752364269\"}"},"buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00","success":false,"error_code":"40004"}
2019-07-19 16:09:02,284  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery exception: Business Failed # ACQ.TRADE_NOT_EXIST # 交易不存在
2019-07-19 16:09:02,284  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery finished...
2019-07-19 16:24:07,507  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task refundQuery start...
2019-07-19 16:24:07,514 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : ==>  Preparing: select rr.id, rr.app_id, rr.pay_type, rr.order_no, rr.refund_no, rr.total_amount, rr.refund_amount, rr.client_ip, rr.extra, rr.create_time from pay_center3_refund_request rr left join pay_center3_refund_query_result rqr on rr.pay_type = rqr.pay_type and rr.refund_no = rqr.refund_no where rqr.app_id is null and rr.create_time between ? and ? 
2019-07-19 16:24:07,514 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : ==> Parameters: 2019-07-17 16:24:07.509(Timestamp), 2019-07-19 16:24:07.509(Timestamp)
2019-07-19 16:24:07,517 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : <==      Total: 0
2019-07-19 16:39:02,357  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery start...
2019-07-19 16:39:02,364 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==>  Preparing: select pr.id, pr.app_id, pr.pay_type, pr.channel, pr.order_no, pr.amount, pr.subject, pr.sign_type, pr.client_ip, pr.extra, pr.create_time from pay_center3_pay_request pr left join pay_center3_pay_query_result pqr on pr.pay_type = pqr.pay_type and pr.order_no = pqr.order_no where pqr.app_id is null and pr.create_time between ? and ? 
2019-07-19 16:39:02,365 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==> Parameters: 2019-07-17 16:39:02.357(Timestamp), 2019-07-19 16:39:02.357(Timestamp)
2019-07-19 16:39:02,370 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : <==      Total: 5
2019-07-19 16:39:02,371 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 16:39:02,371 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R281(String), wx(String)
2019-07-19 16:39:02,374 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 16:39:02,375  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery
2019-07-19 16:39:02,375  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 16:39:02,375  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R281,payType=wx,appId=101
2019-07-19 16:39:02,375  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R281
2019-07-19 16:39:02,375 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:39:02,376 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 16:39:02,379 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:39:02,380 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:39:02,380 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 16:39:02,384 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:39:02,384  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R281
2019-07-19 16:39:02,385 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 16:39:02,385 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R281(String), wx(String), 101(String)
2019-07-19 16:39:02,389 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 16:39:02,389  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R281,tradeType=app
2019-07-19 16:39:02,392  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R281: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 16:39:02,392  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 request: {out_trade_no=10110011562749752364269R281}
2019-07-19 16:39:02,708  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,ikrYVTlDnXCsGMC8t4HU0tTN61zx0oX7,1563525542,315,api.mch.weixin.qq.com,true,6000,8000,0,0,0,68F0CF7A2CB31FF1EBE3DAA49215C6947CF1FF694C75292464648DE702AC1814
2019-07-19 16:39:02,708  INFO 2069 --- [ool-10-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,ikrYVTlDnXCsGMC8t4HU0tTN61zx0oX7,1563525542,315,api.mch.weixin.qq.com,true,6000,8000,0,0,0,68F0CF7A2CB31FF1EBE3DAA49215C6947CF1FF694C75292464648DE702AC1814
2019-07-19 16:39:02,708  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[tpB2696y09HzCZ62]]></nonce_str>
<sign><![CDATA[EF759D63C073A2B5AB529AAE10FCCD88CC63E2D4DBFD33F33DDDD32B30E49041]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 16:39:02,708  INFO 2069 --- [ool-10-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 16:39:02,709  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=tpB2696y09HzCZ62, appid=wx9b5cb757426e00d9, sign=EF759D63C073A2B5AB529AAE10FCCD88CC63E2D4DBFD33F33DDDD32B30E49041, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:39:02,710  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 response: {nonce_str=tpB2696y09HzCZ62, appid=wx9b5cb757426e00d9, sign=EF759D63C073A2B5AB529AAE10FCCD88CC63E2D4DBFD33F33DDDD32B30E49041, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:39:02,717  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R281 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 16:39:02,718  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 16:39:02,718 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 16:39:02,718 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R888(String), wx(String)
2019-07-19 16:39:02,722 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 16:39:02,722  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery
2019-07-19 16:39:02,723  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 16:39:02,723  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R888,payType=wx,appId=101
2019-07-19 16:39:02,723  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R888
2019-07-19 16:39:02,723 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:39:02,723 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 16:39:02,727 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:39:02,727 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:39:02,727 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 16:39:02,731 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:39:02,731  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R888
2019-07-19 16:39:02,732 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 16:39:02,732 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R888(String), wx(String), 101(String)
2019-07-19 16:39:02,735 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 16:39:02,735  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R888,tradeType=wap
2019-07-19 16:39:02,738  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R888: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 16:39:02,738  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 request: {out_trade_no=10110011562749752364269R888}
2019-07-19 16:39:02,992  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,rcMFxo5RYMdG799bKBDIzyoMn8UuEtmz,1563525542,252,api.mch.weixin.qq.com,true,6000,8000,0,0,0,DC92BD5383AAC9F4255727173A7CB3107996AE106DE8BCDE0D3994FBF404F8DC
2019-07-19 16:39:02,992  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[tnpvrIPAUESf4seR]]></nonce_str>
<sign><![CDATA[A32ADC841AAF39B4A546E73C58C26DF211483CF022EE4D13763F7DBF34A982FD]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 16:39:02,992  INFO 2069 --- [ool-11-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,rcMFxo5RYMdG799bKBDIzyoMn8UuEtmz,1563525542,252,api.mch.weixin.qq.com,true,6000,8000,0,0,0,DC92BD5383AAC9F4255727173A7CB3107996AE106DE8BCDE0D3994FBF404F8DC
2019-07-19 16:39:02,992  INFO 2069 --- [ool-11-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 16:39:02,993  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=tnpvrIPAUESf4seR, appid=wx9b5cb757426e00d9, sign=A32ADC841AAF39B4A546E73C58C26DF211483CF022EE4D13763F7DBF34A982FD, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:39:02,993  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 response: {nonce_str=tnpvrIPAUESf4seR, appid=wx9b5cb757426e00d9, sign=A32ADC841AAF39B4A546E73C58C26DF211483CF022EE4D13763F7DBF34A982FD, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:39:02,997  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R888 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 16:39:02,997  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 16:39:02,997 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 16:39:02,998 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), wx(String)
2019-07-19 16:39:03,000 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 16:39:03,000  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery
2019-07-19 16:39:03,001  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 16:39:03,001  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=wx,appId=101
2019-07-19 16:39:03,001  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 16:39:03,001 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:39:03,001 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 16:39:03,004 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:39:03,005 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:39:03,005 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 16:39:03,009 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:39:03,009  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 16:39:03,009 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 16:39:03,009 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), wx(String), 101(String)
2019-07-19 16:39:03,012 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 16:39:03,013  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=lite
2019-07-19 16:39:03,015  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 16:39:03,015  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 request: {out_trade_no=10110011562749752364269}
2019-07-19 16:39:03,216  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,ARd8K1PqAlSNQWX5M2QKTbLN1RMwsD4K,1563525543,200,api.mch.weixin.qq.com,true,6000,8000,0,0,0,7FA846DE52765A7856FCE1FC2562F5F415F7276798FCBFA55DBC8B08B71BD928
2019-07-19 16:39:03,217  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxc9d0a70977ecf5fe]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[abzbZa4KPR3uAN0N]]></nonce_str>
<sign><![CDATA[0BBD53816E121BE29DAAF1F855A04B4E4DF6739B691B50A7E513D0C4B258B061]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 16:39:03,217  INFO 2069 --- [ool-12-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,ARd8K1PqAlSNQWX5M2QKTbLN1RMwsD4K,1563525543,200,api.mch.weixin.qq.com,true,6000,8000,0,0,0,7FA846DE52765A7856FCE1FC2562F5F415F7276798FCBFA55DBC8B08B71BD928
2019-07-19 16:39:03,217  INFO 2069 --- [ool-12-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 16:39:03,218  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=abzbZa4KPR3uAN0N, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=0BBD53816E121BE29DAAF1F855A04B4E4DF6739B691B50A7E513D0C4B258B061, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:39:03,218  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 response: {nonce_str=abzbZa4KPR3uAN0N, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=0BBD53816E121BE29DAAF1F855A04B4E4DF6739B691B50A7E513D0C4B258B061, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:39:03,223  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery success
2019-07-19 16:39:03,223 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 16:39:03,223 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R885(String), wx(String)
2019-07-19 16:39:03,226 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 16:39:03,226  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery
2019-07-19 16:39:03,226  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 16:39:03,226  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R885,payType=wx,appId=101
2019-07-19 16:39:03,226  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R885
2019-07-19 16:39:03,226 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:39:03,227 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 16:39:03,230 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:39:03,230 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:39:03,230 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 16:39:03,234 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:39:03,234  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R885
2019-07-19 16:39:03,234 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 16:39:03,234 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R885(String), wx(String), 101(String)
2019-07-19 16:39:03,237 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 16:39:03,237  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R885,tradeType=pub
2019-07-19 16:39:03,239  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R885: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 16:39:03,239  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 request: {out_trade_no=10110011562749752364269R885}
2019-07-19 16:39:03,439  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,TWGkpaqlsGf6chnGv6WKMpDv0p3hFgkH,1563525543,199,api.mch.weixin.qq.com,true,6000,8000,0,0,0,9310B7A5A8F2D09A5E89BDBC6671ADA856CE24CAE439F01302BE5D74E54869EA
2019-07-19 16:39:03,439  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[RCODRZHxmhkoYknE]]></nonce_str>
<sign><![CDATA[7FCD41B69A97D9AA919BDC5654C710365BC7E2ED91BA179B86FB6D0659EEE4BA]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269R885]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 16:39:03,439  INFO 2069 --- [ool-13-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,TWGkpaqlsGf6chnGv6WKMpDv0p3hFgkH,1563525543,199,api.mch.weixin.qq.com,true,6000,8000,0,0,0,9310B7A5A8F2D09A5E89BDBC6671ADA856CE24CAE439F01302BE5D74E54869EA
2019-07-19 16:39:03,439  INFO 2069 --- [ool-13-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 16:39:03,440  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=RCODRZHxmhkoYknE, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=7FCD41B69A97D9AA919BDC5654C710365BC7E2ED91BA179B86FB6D0659EEE4BA, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:39:03,440  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 response: {nonce_str=RCODRZHxmhkoYknE, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=7FCD41B69A97D9AA919BDC5654C710365BC7E2ED91BA179B86FB6D0659EEE4BA, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 16:39:03,444  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery success
2019-07-19 16:39:03,445 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 16:39:03,445 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), alipay(String)
2019-07-19 16:39:03,447 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 16:39:03,448  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery
2019-07-19 16:39:03,448  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 16:39:03,449  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute payQuery payQuery-alipay-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 16:39:03,449  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=alipay,appId=101
2019-07-19 16:39:03,450  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 16:39:03,450 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:39:03,450 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 16:39:03,452 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:39:03,453 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 16:39:03,454 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 16:39:03,456 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 16:39:03,457  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 16:39:03,457 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 16:39:03,457 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), alipay(String), 101(String)
2019-07-19 16:39:03,460 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 16:39:03,460  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=qr
2019-07-19 16:39:03,460  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : payQuery=: orderNo=10110011562749752364269,payType=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 16:39:03,460  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"out_trade_no":"10110011562749752364269"},"response_class":"com.alipay.api.response.AlipayTradeQueryResponse","text_params":{},"api_method_name":"alipay.trade.query"}
2019-07-19 16:39:03,654 ERROR 2069 --- [   scheduling-1] sdk.biz.err                              : ErrorScene^_^40004^_^ACQ.TRADE_NOT_EXIST^_^null^_^Mac OS X^_^2019-07-19 16:39:03^_^ProtocalMustParams:charset=UTF-8&method=alipay.trade.query&sign=UvPJ+GkAn3Xb+/P4+zYnM1K+h108YbDmUOahi9Y8DF3bJjKJ0Nx7jaOrlqXWRE5qWW6LxuSz+5FeP4mpUPmpMvxC8uDFLD1Xv21HWRdhW5V6KcZ3U6InflJZfIcA6FzCbHFAHC64rt+59o/eddBUrfcYIlAf5gRUBGT15xv5//c=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 16:39:03^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"out_trade_no":"10110011562749752364269"}^_^Body:{"alipay_trade_query_response":{"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00"},"sign":"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw="}^_^3ms,190ms,1ms
2019-07-19 16:39:03,654  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 response: {"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","body":"{\"alipay_trade_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"ACQ.TRADE_NOT_EXIST\",\"sub_msg\":\"交易不存在\",\"buyer_pay_amount\":\"0.00\",\"invoice_amount\":\"0.00\",\"out_trade_no\":\"10110011562749752364269\",\"point_amount\":\"0.00\",\"receipt_amount\":\"0.00\"},\"sign\":\"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw=\"}","params":{"biz_content":"{\"out_trade_no\":\"10110011562749752364269\"}"},"buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00","success":false,"error_code":"40004"}
2019-07-19 16:39:03,659  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery exception: Business Failed # ACQ.TRADE_NOT_EXIST # 交易不存在
2019-07-19 16:39:03,659  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery finished...
2019-07-19 16:54:07,601  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task refundQuery start...
2019-07-19 16:54:07,607 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : ==>  Preparing: select rr.id, rr.app_id, rr.pay_type, rr.order_no, rr.refund_no, rr.total_amount, rr.refund_amount, rr.client_ip, rr.extra, rr.create_time from pay_center3_refund_request rr left join pay_center3_refund_query_result rqr on rr.pay_type = rqr.pay_type and rr.refund_no = rqr.refund_no where rqr.app_id is null and rr.create_time between ? and ? 
2019-07-19 16:54:07,608 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : ==> Parameters: 2019-07-17 16:54:07.603(Timestamp), 2019-07-19 16:54:07.603(Timestamp)
2019-07-19 16:54:07,610 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : <==      Total: 0
2019-07-19 17:09:03,731  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery start...
2019-07-19 17:09:03,737 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==>  Preparing: select pr.id, pr.app_id, pr.pay_type, pr.channel, pr.order_no, pr.amount, pr.subject, pr.sign_type, pr.client_ip, pr.extra, pr.create_time from pay_center3_pay_request pr left join pay_center3_pay_query_result pqr on pr.pay_type = pqr.pay_type and pr.order_no = pqr.order_no where pqr.app_id is null and pr.create_time between ? and ? 
2019-07-19 17:09:03,737 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==> Parameters: 2019-07-17 17:09:03.732(Timestamp), 2019-07-19 17:09:03.732(Timestamp)
2019-07-19 17:09:03,745 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : <==      Total: 5
2019-07-19 17:09:03,745 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 17:09:03,746 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R281(String), wx(String)
2019-07-19 17:09:03,748 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 17:09:03,749  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery
2019-07-19 17:09:03,749  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 17:09:03,749  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R281,payType=wx,appId=101
2019-07-19 17:09:03,749  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R281
2019-07-19 17:09:03,750 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:09:03,750 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 17:09:03,753 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:09:03,754 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:09:03,754 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 17:09:03,758 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:09:03,758  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R281
2019-07-19 17:09:03,759 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 17:09:03,759 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R281(String), wx(String), 101(String)
2019-07-19 17:09:03,761 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 17:09:03,762  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R281,tradeType=app
2019-07-19 17:09:03,764  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R281: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 17:09:03,764  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 request: {out_trade_no=10110011562749752364269R281}
2019-07-19 17:09:04,068  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,fHmYF4D3pAWzkUMCWzRojJzWtcrdiG33,1563527344,303,api.mch.weixin.qq.com,true,6000,8000,0,0,0,6C78504776F9B9BB792510BFB409F81FCBBBE5F4206EABCD9AF6FE46A811EA68
2019-07-19 17:09:04,068  INFO 2069 --- [pool-8-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,fHmYF4D3pAWzkUMCWzRojJzWtcrdiG33,1563527344,303,api.mch.weixin.qq.com,true,6000,8000,0,0,0,6C78504776F9B9BB792510BFB409F81FCBBBE5F4206EABCD9AF6FE46A811EA68
2019-07-19 17:09:04,068  INFO 2069 --- [pool-8-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 17:09:04,068  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[EWzMiKyIOluYb5mM]]></nonce_str>
<sign><![CDATA[917D43C59A6AF719FB47259A0E814D2E9B09638F1AA1DA92B8E56F036CEE5FD7]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 17:09:04,070  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=EWzMiKyIOluYb5mM, appid=wx9b5cb757426e00d9, sign=917D43C59A6AF719FB47259A0E814D2E9B09638F1AA1DA92B8E56F036CEE5FD7, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:09:04,070  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 response: {nonce_str=EWzMiKyIOluYb5mM, appid=wx9b5cb757426e00d9, sign=917D43C59A6AF719FB47259A0E814D2E9B09638F1AA1DA92B8E56F036CEE5FD7, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:09:04,073  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R281 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 17:09:04,073  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 17:09:04,074 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 17:09:04,074 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R888(String), wx(String)
2019-07-19 17:09:04,076 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 17:09:04,076  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery
2019-07-19 17:09:04,077  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 17:09:04,077  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R888,payType=wx,appId=101
2019-07-19 17:09:04,077  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R888
2019-07-19 17:09:04,077 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:09:04,077 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 17:09:04,079 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:09:04,080 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:09:04,080 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 17:09:04,083 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:09:04,083  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R888
2019-07-19 17:09:04,083 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 17:09:04,084 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R888(String), wx(String), 101(String)
2019-07-19 17:09:04,086 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 17:09:04,086  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R888,tradeType=wap
2019-07-19 17:09:04,088  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R888: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 17:09:04,088  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 request: {out_trade_no=10110011562749752364269R888}
2019-07-19 17:09:04,318  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,ttDNwa0gy8BVtcDTazzVGur3eXgwjBuJ,1563527344,229,api.mch.weixin.qq.com,true,6000,8000,0,0,0,2527400ED3F51C040682B687EE1FA77E2D4F700AF590A4332C033E287885D71B
2019-07-19 17:09:04,319  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[q1LbojAnv7fBLEfj]]></nonce_str>
<sign><![CDATA[3C82133993BA7C69839110A88B0E8161728B3E272F4773586D1D14789488FC9D]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 17:09:04,319  INFO 2069 --- [pool-9-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,ttDNwa0gy8BVtcDTazzVGur3eXgwjBuJ,1563527344,229,api.mch.weixin.qq.com,true,6000,8000,0,0,0,2527400ED3F51C040682B687EE1FA77E2D4F700AF590A4332C033E287885D71B
2019-07-19 17:09:04,319  INFO 2069 --- [pool-9-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 17:09:04,320  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=q1LbojAnv7fBLEfj, appid=wx9b5cb757426e00d9, sign=3C82133993BA7C69839110A88B0E8161728B3E272F4773586D1D14789488FC9D, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:09:04,320  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 response: {nonce_str=q1LbojAnv7fBLEfj, appid=wx9b5cb757426e00d9, sign=3C82133993BA7C69839110A88B0E8161728B3E272F4773586D1D14789488FC9D, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:09:04,323  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R888 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 17:09:04,323  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 17:09:04,324 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 17:09:04,324 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), wx(String)
2019-07-19 17:09:04,326 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 17:09:04,327  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery
2019-07-19 17:09:04,327  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 17:09:04,327  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=wx,appId=101
2019-07-19 17:09:04,327  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 17:09:04,327 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:09:04,328 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 17:09:04,330 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:09:04,331 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:09:04,331 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 17:09:04,334 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:09:04,334  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 17:09:04,334 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 17:09:04,335 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), wx(String), 101(String)
2019-07-19 17:09:04,337 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 17:09:04,337  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=lite
2019-07-19 17:09:04,339  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 17:09:04,339  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 request: {out_trade_no=10110011562749752364269}
2019-07-19 17:09:04,562  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,Hslp8ZgIkJJFtkxHaS7HShqHMFP8MNBG,1563527344,221,api.mch.weixin.qq.com,true,6000,8000,0,0,0,CC234F981740B5090B7EDF182AB81FBACD732662FCAA8FE2B4CDD92CAF4AE68C
2019-07-19 17:09:04,563  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxc9d0a70977ecf5fe]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[npfYvJUddRtZLqmQ]]></nonce_str>
<sign><![CDATA[372EEF48D0239D34AC2A0BA68B6461F104D172679F9C0D3E46FEED8B82E0450D]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 17:09:04,563  INFO 2069 --- [ool-10-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,Hslp8ZgIkJJFtkxHaS7HShqHMFP8MNBG,1563527344,221,api.mch.weixin.qq.com,true,6000,8000,0,0,0,CC234F981740B5090B7EDF182AB81FBACD732662FCAA8FE2B4CDD92CAF4AE68C
2019-07-19 17:09:04,563  INFO 2069 --- [ool-10-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 17:09:04,564  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=npfYvJUddRtZLqmQ, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=372EEF48D0239D34AC2A0BA68B6461F104D172679F9C0D3E46FEED8B82E0450D, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:09:04,564  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 response: {nonce_str=npfYvJUddRtZLqmQ, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=372EEF48D0239D34AC2A0BA68B6461F104D172679F9C0D3E46FEED8B82E0450D, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:09:04,568  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery success
2019-07-19 17:09:04,569 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 17:09:04,569 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R885(String), wx(String)
2019-07-19 17:09:04,572 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 17:09:04,572  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery
2019-07-19 17:09:04,572  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 17:09:04,572  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R885,payType=wx,appId=101
2019-07-19 17:09:04,572  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R885
2019-07-19 17:09:04,572 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:09:04,573 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 17:09:04,575 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:09:04,576 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:09:04,576 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 17:09:04,579 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:09:04,579  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R885
2019-07-19 17:09:04,579 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 17:09:04,579 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R885(String), wx(String), 101(String)
2019-07-19 17:09:04,582 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 17:09:04,582  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R885,tradeType=pub
2019-07-19 17:09:04,584  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R885: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 17:09:04,584  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 request: {out_trade_no=10110011562749752364269R885}
2019-07-19 17:09:04,816  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,IUgVQuUJZGIUpVTf43KXikiFUil1KeM1,1563527344,230,api.mch.weixin.qq.com,true,6000,8000,0,0,0,D0CC7D3FB501C96F724EB8BC1D1DE6CCA0D771820957355CC1C3578130B07C04
2019-07-19 17:09:04,817  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[BEQ3Pndk13Nfe35N]]></nonce_str>
<sign><![CDATA[A2F913DF5DA5EEC05C32CD37BDA178F7A364AD3C29DC0479279C1E5F0B1ADEA2]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269R885]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 17:09:04,817  INFO 2069 --- [ool-11-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,IUgVQuUJZGIUpVTf43KXikiFUil1KeM1,1563527344,230,api.mch.weixin.qq.com,true,6000,8000,0,0,0,D0CC7D3FB501C96F724EB8BC1D1DE6CCA0D771820957355CC1C3578130B07C04
2019-07-19 17:09:04,817  INFO 2069 --- [ool-11-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 17:09:04,819  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=BEQ3Pndk13Nfe35N, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=A2F913DF5DA5EEC05C32CD37BDA178F7A364AD3C29DC0479279C1E5F0B1ADEA2, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:09:04,819  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 response: {nonce_str=BEQ3Pndk13Nfe35N, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=A2F913DF5DA5EEC05C32CD37BDA178F7A364AD3C29DC0479279C1E5F0B1ADEA2, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:09:04,826  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery success
2019-07-19 17:09:04,827 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 17:09:04,827 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), alipay(String)
2019-07-19 17:09:04,832 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 17:09:04,832  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery
2019-07-19 17:09:04,833  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 17:09:04,834  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute payQuery payQuery-alipay-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 17:09:04,834  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=alipay,appId=101
2019-07-19 17:09:04,834  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 17:09:04,835 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:09:04,835 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 17:09:04,837 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:09:04,838 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:09:04,838 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 17:09:04,841 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:09:04,841  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 17:09:04,842 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 17:09:04,842 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), alipay(String), 101(String)
2019-07-19 17:09:04,844 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 17:09:04,844  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=qr
2019-07-19 17:09:04,844  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : payQuery=: orderNo=10110011562749752364269,payType=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 17:09:04,844  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"out_trade_no":"10110011562749752364269"},"response_class":"com.alipay.api.response.AlipayTradeQueryResponse","text_params":{},"api_method_name":"alipay.trade.query"}
2019-07-19 17:09:05,026 ERROR 2069 --- [   scheduling-1] sdk.biz.err                              : ErrorScene^_^40004^_^ACQ.TRADE_NOT_EXIST^_^null^_^Mac OS X^_^2019-07-19 17:09:05^_^ProtocalMustParams:charset=UTF-8&method=alipay.trade.query&sign=YLLwlW5EmUOVWVthLcHIdezxUtLAiKPlmT9GWTB8gSSrah/qiFLau+Dw9UCk6rlWHBTBpPMZfSN1bmKNTjVBNGqxA3aV+73sdi+tb36uIWmOnq5jWMuCl9ysTKPpHNBxvDrUrRuHbd+sL/a1Ls8RkSab0ZrU3qcWqgZWl+X4wgY=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 17:09:04^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"out_trade_no":"10110011562749752364269"}^_^Body:{"alipay_trade_query_response":{"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00"},"sign":"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw="}^_^3ms,178ms,0ms
2019-07-19 17:09:05,026  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 response: {"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","body":"{\"alipay_trade_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"ACQ.TRADE_NOT_EXIST\",\"sub_msg\":\"交易不存在\",\"buyer_pay_amount\":\"0.00\",\"invoice_amount\":\"0.00\",\"out_trade_no\":\"10110011562749752364269\",\"point_amount\":\"0.00\",\"receipt_amount\":\"0.00\"},\"sign\":\"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw=\"}","params":{"biz_content":"{\"out_trade_no\":\"10110011562749752364269\"}"},"buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00","success":false,"error_code":"40004"}
2019-07-19 17:09:05,031  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery exception: Business Failed # ACQ.TRADE_NOT_EXIST # 交易不存在
2019-07-19 17:09:05,031  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery finished...
2019-07-19 17:24:07,685  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task refundQuery start...
2019-07-19 17:24:07,691 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : ==>  Preparing: select rr.id, rr.app_id, rr.pay_type, rr.order_no, rr.refund_no, rr.total_amount, rr.refund_amount, rr.client_ip, rr.extra, rr.create_time from pay_center3_refund_request rr left join pay_center3_refund_query_result rqr on rr.pay_type = rqr.pay_type and rr.refund_no = rqr.refund_no where rqr.app_id is null and rr.create_time between ? and ? 
2019-07-19 17:24:07,692 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : ==> Parameters: 2019-07-17 17:24:07.687(Timestamp), 2019-07-19 17:24:07.687(Timestamp)
2019-07-19 17:24:07,694 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : <==      Total: 0
2019-07-19 17:39:05,116  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery start...
2019-07-19 17:39:05,134 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==>  Preparing: select pr.id, pr.app_id, pr.pay_type, pr.channel, pr.order_no, pr.amount, pr.subject, pr.sign_type, pr.client_ip, pr.extra, pr.create_time from pay_center3_pay_request pr left join pay_center3_pay_query_result pqr on pr.pay_type = pqr.pay_type and pr.order_no = pqr.order_no where pqr.app_id is null and pr.create_time between ? and ? 
2019-07-19 17:39:05,135 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : ==> Parameters: 2019-07-17 17:39:05.116(Timestamp), 2019-07-19 17:39:05.116(Timestamp)
2019-07-19 17:39:05,142 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findUnqueryBetweenDate     : <==      Total: 5
2019-07-19 17:39:05,142 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 17:39:05,142 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R281(String), wx(String)
2019-07-19 17:39:05,145 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 17:39:05,145  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery
2019-07-19 17:39:05,145  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 17:39:05,145  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R281,payType=wx,appId=101
2019-07-19 17:39:05,145  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R281
2019-07-19 17:39:05,146 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:39:05,146 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 17:39:05,149 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:39:05,149 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:39:05,149 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R281(String), wx(String)
2019-07-19 17:39:05,153 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:39:05,154  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R281
2019-07-19 17:39:05,154 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 17:39:05,154 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R281(String), wx(String), 101(String)
2019-07-19 17:39:05,157 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 17:39:05,157  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R281,tradeType=app
2019-07-19 17:39:05,159  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R281: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R281)
2019-07-19 17:39:05,159  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 request: {out_trade_no=10110011562749752364269R281}
2019-07-19 17:39:05,430  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,fsK2EF7vfSQZljfedHRFjNYCLRROdlnB,1563529145,269,api.mch.weixin.qq.com,true,6000,8000,0,0,0,87B9BAE9C248C86FE420520792034FDA519F36507359309883BFDDA1A0D7280F
2019-07-19 17:39:05,430  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[wWM6iX8rZxCYPsWk]]></nonce_str>
<sign><![CDATA[13E3E29F07A508F6C948847DE1D7C148D0EA25A86BCC6B97A8A505F11F5091A4]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 17:39:05,430  INFO 2069 --- [ool-12-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,fsK2EF7vfSQZljfedHRFjNYCLRROdlnB,1563529145,269,api.mch.weixin.qq.com,true,6000,8000,0,0,0,87B9BAE9C248C86FE420520792034FDA519F36507359309883BFDDA1A0D7280F
2019-07-19 17:39:05,431  INFO 2069 --- [ool-12-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 17:39:05,432  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=wWM6iX8rZxCYPsWk, appid=wx9b5cb757426e00d9, sign=13E3E29F07A508F6C948847DE1D7C148D0EA25A86BCC6B97A8A505F11F5091A4, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:39:05,432  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R281 response: {nonce_str=wWM6iX8rZxCYPsWk, appid=wx9b5cb757426e00d9, sign=13E3E29F07A508F6C948847DE1D7C148D0EA25A86BCC6B97A8A505F11F5091A4, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:39:05,436  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R281 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 17:39:05,436  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R281 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 17:39:05,437 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 17:39:05,437 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R888(String), wx(String)
2019-07-19 17:39:05,439 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 17:39:05,440  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery
2019-07-19 17:39:05,440  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 17:39:05,440  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R888,payType=wx,appId=101
2019-07-19 17:39:05,440  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R888
2019-07-19 17:39:05,441 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:39:05,441 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 17:39:05,444 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:39:05,445 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:39:05,445 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R888(String), wx(String)
2019-07-19 17:39:05,449 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:39:05,450  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R888
2019-07-19 17:39:05,450 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 17:39:05,450 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R888(String), wx(String), 101(String)
2019-07-19 17:39:05,453 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 17:39:05,454  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R888,tradeType=wap
2019-07-19 17:39:05,455  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R888: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R888)
2019-07-19 17:39:05,455  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 request: {out_trade_no=10110011562749752364269R888}
2019-07-19 17:39:05,673  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,1ZiLYl7RkIp9oHCAPtorUHIJPykxAryR,1563529145,216,api.mch.weixin.qq.com,true,6000,8000,0,0,0,A1FAACA745A89222B882E3E75D4FB4F0E8488863FECE5AEBD2897A37233DBEC2
2019-07-19 17:39:05,673  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<nonce_str><![CDATA[JrYmQuM85pIYiBrT]]></nonce_str>
<sign><![CDATA[86A20500D3E8C63CB44BE02522272D631120E1DEC5A460DDEB4EA4BC2D85CFE2]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-07-19 17:39:05,673  INFO 2069 --- [ool-13-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,1ZiLYl7RkIp9oHCAPtorUHIJPykxAryR,1563529145,216,api.mch.weixin.qq.com,true,6000,8000,0,0,0,A1FAACA745A89222B882E3E75D4FB4F0E8488863FECE5AEBD2897A37233DBEC2
2019-07-19 17:39:05,673  INFO 2069 --- [ool-13-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 17:39:05,674  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=JrYmQuM85pIYiBrT, appid=wx9b5cb757426e00d9, sign=86A20500D3E8C63CB44BE02522272D631120E1DEC5A460DDEB4EA4BC2D85CFE2, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:39:05,675  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R888 response: {nonce_str=JrYmQuM85pIYiBrT, appid=wx9b5cb757426e00d9, sign=86A20500D3E8C63CB44BE02522272D631120E1DEC5A460DDEB4EA4BC2D85CFE2, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:39:05,678  WARN 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : payQuery payQuery-wx-10110011562749752364269R888 failed: OK # ORDERNOTEXIST # 订单不存在
2019-07-19 17:39:05,678  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R888 payQuery exception: {101=OK # ORDERNOTEXIST # 订单不存在}
2019-07-19 17:39:05,678 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 17:39:05,678 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), wx(String)
2019-07-19 17:39:05,681 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 17:39:05,681  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery
2019-07-19 17:39:05,681  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 17:39:05,681  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=wx,appId=101
2019-07-19 17:39:05,681  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 17:39:05,682 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:39:05,682 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 17:39:05,684 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:39:05,685 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:39:05,685 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), wx(String)
2019-07-19 17:39:05,688 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:39:05,688  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 17:39:05,689 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 17:39:05,689 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), wx(String), 101(String)
2019-07-19 17:39:05,691 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 17:39:05,692  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=lite
2019-07-19 17:39:05,693  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269)
2019-07-19 17:39:05,693  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 request: {out_trade_no=10110011562749752364269}
2019-07-19 17:39:05,888  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,P2mtPuNnuOrxCVWvcA11cT7R7x1mTufH,1563529145,193,api.mch.weixin.qq.com,true,6000,8000,0,0,0,88989617286F4D4ECF2E45F0E938642355341CF14DF398F44674056BBEC5EB2B
2019-07-19 17:39:05,888  INFO 2069 --- [pool-8-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,P2mtPuNnuOrxCVWvcA11cT7R7x1mTufH,1563529145,193,api.mch.weixin.qq.com,true,6000,8000,0,0,0,88989617286F4D4ECF2E45F0E938642355341CF14DF398F44674056BBEC5EB2B
2019-07-19 17:39:05,888  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxc9d0a70977ecf5fe]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[3cgLd8zLnRvn8EKY]]></nonce_str>
<sign><![CDATA[EA2A0FB7FC4E593E7B945B4875EBB70BDEDF6FFDA574D67F1FC6EAAE14C0C153]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 17:39:05,888  INFO 2069 --- [pool-8-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 17:39:05,889  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=3cgLd8zLnRvn8EKY, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=EA2A0FB7FC4E593E7B945B4875EBB70BDEDF6FFDA574D67F1FC6EAAE14C0C153, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:39:05,890  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269 response: {nonce_str=3cgLd8zLnRvn8EKY, device_info=, out_trade_no=10110011562749752364269, trade_state=NOTPAY, appid=wxc9d0a70977ecf5fe, total_fee=5, sign=EA2A0FB7FC4E593E7B945B4875EBB70BDEDF6FFDA574D67F1FC6EAAE14C0C153, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:39:05,894  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269 payQuery success
2019-07-19 17:39:05,894 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 17:39:05,894 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269R885(String), wx(String)
2019-07-19 17:39:05,898 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 17:39:05,898  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery
2019-07-19 17:39:05,899  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 17:39:05,899  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269R885,payType=wx,appId=101
2019-07-19 17:39:05,899  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269R885
2019-07-19 17:39:05,900 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:39:05,900 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 17:39:05,902 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:39:05,903 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:39:05,904 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269R885(String), wx(String)
2019-07-19 17:39:05,907 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:39:05,907  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269R885
2019-07-19 17:39:05,907 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 17:39:05,908 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269R885(String), wx(String), 101(String)
2019-07-19 17:39:05,910 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 17:39:05,911  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269R885,tradeType=pub
2019-07-19 17:39:05,912  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : execute payQuery payQuery-wx-10110011562749752364269R885: PayQueryRequestVO(appId=101, tradeType=null, payType=wx, orderNo=10110011562749752364269R885)
2019-07-19 17:39:05,912  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 request: {out_trade_no=10110011562749752364269R885}
2019-07-19 17:39:06,108  INFO 2069 --- [   scheduling-1] wxpay java sdk                           : report v1,WXPaySDK/3.0.9,y2Loc1cD1b0eQP1H3DJokIcEGCl13y4s,1563529146,194,api.mch.weixin.qq.com,true,6000,8000,0,0,0,1524FD9F5C6AC471B9120F6848A6A6FA1BAF3CF93BEBC9DECC92BA17221AA1F5
2019-07-19 17:39:06,108  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: requst=<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wx9b5cb757426e00d9]]></appid>
<mch_id><![CDATA[1429146602]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[Ey9TIFRSWMGDbeTv]]></nonce_str>
<sign><![CDATA[87371B6FAC1BA9C48F2EBE7E1437882555C728214916C02C1C8FD909CDB1747D]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>5</total_fee>
<out_trade_no><![CDATA[10110011562749752364269R885]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-07-19 17:39:06,108  INFO 2069 --- [pool-9-thread-1] wxpay java sdk                           : get remain report msg: v1,WXPaySDK/3.0.9,y2Loc1cD1b0eQP1H3DJokIcEGCl13y4s,1563529146,194,api.mch.weixin.qq.com,true,6000,8000,0,0,0,1524FD9F5C6AC471B9120F6848A6A6FA1BAF3CF93BEBC9DECC92BA17221AA1F5
2019-07-19 17:39:06,108  INFO 2069 --- [pool-9-thread-1] wxpay java sdk                           : try get remain report msg
2019-07-19 17:39:06,109  INFO 2069 --- [   scheduling-1] com.github.wxpay.sdk.WXPay               : processResponseXml: return={nonce_str=Ey9TIFRSWMGDbeTv, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=87371B6FAC1BA9C48F2EBE7E1437882555C728214916C02C1C8FD909CDB1747D, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:39:06,110  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.WxServiceImpl     : log-id payQuery-wx-10110011562749752364269R885 response: {nonce_str=Ey9TIFRSWMGDbeTv, device_info=, out_trade_no=10110011562749752364269R885, trade_state=NOTPAY, appid=wx9b5cb757426e00d9, total_fee=5, sign=87371B6FAC1BA9C48F2EBE7E1437882555C728214916C02C1C8FD909CDB1747D, trade_state_desc=订单未支付, return_msg=OK, result_code=SUCCESS, mch_id=1429146602, return_code=SUCCESS}
2019-07-19 17:39:06,113  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-wx-10110011562749752364269R885 payQuery success
2019-07-19 17:39:06,114 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where app_id = ? and order_no = ? and pay_type = ? 
2019-07-19 17:39:06,114 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 101(String), 10110011562749752364269(String), alipay(String)
2019-07-19 17:39:06,116 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 0
2019-07-19 17:39:06,117  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery
2019-07-19 17:39:06,117  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.PaymentServiceProxy     : request payQuery: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 17:39:06,118  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : execute payQuery payQuery-alipay-10110011562749752364269: PayQueryRequestVO(appId=101, tradeType=null, payType=alipay, orderNo=10110011562749752364269)
2019-07-19 17:39:06,119  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType request:  orderNo=10110011562749752364269,payType=alipay,appId=101
2019-07-19 17:39:06,119  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======start ,getPayOrderNo method, orderNo:10110011562749752364269
2019-07-19 17:39:06,119 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_notify where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:39:06,119 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 17:39:06,122 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:39:06,123 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==>  Preparing: select id, app_id, pay_type, order_no, trade_no, fee_type, cash_amount, total_amount, extra, trade_time, create_time, details from pay_center3_pay_query_result where order_no like CONCAT(?,'%') and pay_type = ? 
2019-07-19 17:39:06,123 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : ==> Parameters: 10110011562749752364269(String), alipay(String)
2019-07-19 17:39:06,126 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNoLike          : <==      Total: 0
2019-07-19 17:39:06,127  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : =======end ,getPayOrderNo method,noList return orderNo:10110011562749752364269
2019-07-19 17:39:06,127 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==>  Preparing: select id, app_id, pay_type, channel, order_no, amount, subject, sign_type, client_ip, extra, create_time from pay_center3_pay_request where order_no = ? and pay_type = ? and app_id = ? 
2019-07-19 17:39:06,127 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : ==> Parameters: 10110011562749752364269(String), alipay(String), 101(String)
2019-07-19 17:39:06,130 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.P.findByOrderNo              : <==      Total: 1
2019-07-19 17:39:06,131  INFO 2069 --- [   scheduling-1] c.i.p.m.t.service.impl.TradeServiceImpl  : getTradeType return:  orderNo=10110011562749752364269,tradeType=qr
2019-07-19 17:39:06,131  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : payQuery=: orderNo=10110011562749752364269,payType=alipay,config=AlipayConfig(id=101, remark=智蜂-支付宝, mchid=2088221861486600, appid=2016052401436400, signType=RSA, environment=dev, privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJzAkjQpzJ34jaCSwhuIVWL+1cHBmtv8L5e/3ABufLB+23QqGHqXwpOYM25TAeHzzcjsFZi8s2sIcxADbZZrBZS+30S/DxzTEJlufoVYg4jPnfjwedKhcvfvr79iNSEFUTOxP04ESxOHoBIW+Ob57x01e/+la++CS22T2rmvPksvAgMBAAECgYAET181w/h2V4E9awufSi5e3HbwLuydI+ADIilgcalICRTrqsSlikq1WDgBzpJ8rgF4htVJL9cXGFJhnFaFDkhG9bxY2IZJmx9uVyJVOzc9kDpaYhsNiBe1RHfrst5wOs29p3T3tlt5z5ERSAK6FPzcA7YVzEIuH9U+0KY+Dk0P8QJBAMoT+KlORI71ckjhghLcQCs0UyWzSlcpTGzhah3CtmJGau0Uqc2banCh+xjFSYibB8Y/cEjnnEAu6miH3a0Uhf0CQQDGlGCz2h0b5Ydi47V8I58Xx+Q8ORZ52GS84jLGjvUdgXwqXVWbGVUfrP4e4BFoYwALNYbJ6No3sCrR9P8pyEebAkApB/MWlYDQMkA5UiiyIayZ2S8E2am/lvAgr4h3cIDN5ZRyfR6ZU/RB2HH+rphmt2vVsi3fb7/HPH92KBg3u5IVAkBSv0+Qgknw7vM8fOCKKxnHQg9UHQHFoitQHf3EiZuQQP2pdZ0PdT3oZiC6Yuo+EkrZYOOazUHpRKqDNNEC6ycTAkEAqCd9GrBrW7K5eJ9+kReD2Tad7jDEI49sAwrTrpQccYwFdYIsBD57KTSanjn1BsuOBxTXOu0Lw4EkaJjq0+NTOQ==, publicKey=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB, payNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/payNotify, refundNotifyUrl=http://116.85.33.137:21999/api/trade/payment/101/alipay/refundNotify)
2019-07-19 17:39:06,131  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 request: {"api_version":"1.0","need_encrypt":false,"biz_model":{"out_trade_no":"10110011562749752364269"},"response_class":"com.alipay.api.response.AlipayTradeQueryResponse","text_params":{},"api_method_name":"alipay.trade.query"}
2019-07-19 17:39:06,345 ERROR 2069 --- [   scheduling-1] sdk.biz.err                              : ErrorScene^_^40004^_^ACQ.TRADE_NOT_EXIST^_^null^_^Mac OS X^_^2019-07-19 17:39:06^_^ProtocalMustParams:charset=UTF-8&method=alipay.trade.query&sign=l+QlfKUhee4Xta84hXDbnjtvnAW5Y6ZSleWYAVh3gO9NSN2kuuWfKAo1jz/jx5thqmOYYF2oLq9iyuA6wcqD3Bin35aT/aqjIjJse4CyjZADzRs5/ziV6v53Xr8xiX9Q+A1ZvP/Eanson45NYlX+mtqeRax6T+pBcMxOrg9hGYI=&version=1.0&app_id=2016052401436400&sign_type=RSA&timestamp=2019-07-19 17:39:06^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-3.3.49.ALL&format=json^_^ApplicationParams:biz_content={"out_trade_no":"10110011562749752364269"}^_^Body:{"alipay_trade_query_response":{"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00"},"sign":"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw="}^_^3ms,210ms,1ms
2019-07-19 17:39:06,346  INFO 2069 --- [   scheduling-1] c.i.p.m.t.s.impl.AlipayServiceImpl       : log-id payQuery-alipay-10110011562749752364269 response: {"code":"40004","msg":"Business Failed","sub_code":"ACQ.TRADE_NOT_EXIST","sub_msg":"交易不存在","body":"{\"alipay_trade_query_response\":{\"code\":\"40004\",\"msg\":\"Business Failed\",\"sub_code\":\"ACQ.TRADE_NOT_EXIST\",\"sub_msg\":\"交易不存在\",\"buyer_pay_amount\":\"0.00\",\"invoice_amount\":\"0.00\",\"out_trade_no\":\"10110011562749752364269\",\"point_amount\":\"0.00\",\"receipt_amount\":\"0.00\"},\"sign\":\"gtyF30oOUyQHjOjIC5Yt3GFbcoQ203wvF7POnv4BEg7P78L6zilHCg068cwsU4i4+fbbzrkMdLBFysi75MFTmvb82kLllmSpAfUTdFzQ2664x+KTpGh1XndwX4fKIoumh2aQQgb5JUWznz6fZLLPeoqePJWy0SAinix/7CbUAJw=\"}","params":{"biz_content":"{\"out_trade_no\":\"10110011562749752364269\"}"},"buyer_pay_amount":"0.00","invoice_amount":"0.00","out_trade_no":"10110011562749752364269","point_amount":"0.00","receipt_amount":"0.00","success":false,"error_code":"40004"}
2019-07-19 17:39:06,351  WARN 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery-alipay-10110011562749752364269 payQuery exception: Business Failed # ACQ.TRADE_NOT_EXIST # 交易不存在
2019-07-19 17:39:06,351  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task payQuery finished...
2019-07-19 17:54:07,761  INFO 2069 --- [   scheduling-1] c.i.p.timer.RequestResultQueryTimer      : task refundQuery start...
2019-07-19 17:54:07,765 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : ==>  Preparing: select rr.id, rr.app_id, rr.pay_type, rr.order_no, rr.refund_no, rr.total_amount, rr.refund_amount, rr.client_ip, rr.extra, rr.create_time from pay_center3_refund_request rr left join pay_center3_refund_query_result rqr on rr.pay_type = rqr.pay_type and rr.refund_no = rqr.refund_no where rqr.app_id is null and rr.create_time between ? and ? 
2019-07-19 17:54:07,765 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : ==> Parameters: 2019-07-17 17:54:07.761(Timestamp), 2019-07-19 17:54:07.761(Timestamp)
2019-07-19 17:54:07,768 DEBUG 2069 --- [   scheduling-1] c.i.p.m.t.d.R.findUnqueryBetweenDate     : <==      Total: 0
2019-07-19 17:57:05,187  INFO 2069 --- [      Thread-13] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-07-19 17:57:05,189  INFO 2069 --- [      Thread-13] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-07-19 17:57:05,196  INFO 2069 --- [      Thread-13] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} closed
